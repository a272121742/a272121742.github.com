{"version":3,"sources":["webpack:///./src/components/Tree/MenuTree.vue?e923","webpack:///./src/components/Tree/MenuTree.vue?6756","webpack:///./src/components/Tree/MenuTree.vue?a818","webpack:///src/components/Tree/MenuTree.vue","webpack:///./src/components/Tree/MenuTree.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_2_node_modules_less_loader_dist_cjs_js_ref_10_3_node_modules_vue_loader_lib_index_js_vue_loader_options_MenuTree_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","render","_vm","this","_h","$createElement","_c","_self","search","staticStyle","width","margin-bottom","attrs","placeholder","on","handleSearch","_e","_v","staticClass","mode","default-open-keys","defaultOpenKeys","click","handleItemClick","shownOnly","ref","title","formTitle","visible","showEditModalForm","ok","handleEditOk","close","handleEditCancel","_l","dataSource","parent","key","slot","_s","type","e","handleAdd","children","length","child","handleEdit","handleDelete","_withStripped","Tree_MenuTreevue_type_script_lang_js_","name","components","ItemEdit","then","bind","props","Array","default","defaultOpenFirst","Boolean","data","confirmFormLoading","created","$set","methods","text","console","log","next","_this","emitEvent","id","$emit","success","$message","error","$refs","ModalForm","load","item","stopPropagation","record","find","keyPath","objectSpread_default","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/21.dde963b275064668c9f7.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuTree.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuTree.vue?vue&type=style&index=0&lang=less&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _vm.search\n        ? _c(\"a-input-search\", {\n            staticStyle: { width: \"100%\", \"margin-bottom\": \"1rem\" },\n            attrs: { placeholder: \"请输入搜索内容\" },\n            on: { search: _vm.handleSearch }\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\n        \"a-menu\",\n        {\n          staticClass: \"menu-tree\",\n          attrs: { mode: \"inline\", \"default-open-keys\": _vm.defaultOpenKeys },\n          on: { click: _vm.handleItemClick }\n        },\n        [\n          _c(\n            \"keep-alive\",\n            [\n              !_vm.shownOnly\n                ? _c(\"item-edit\", {\n                    ref: \"ModalForm\",\n                    attrs: {\n                      title: _vm.formTitle,\n                      visible: _vm.showEditModalForm\n                    },\n                    on: { ok: _vm.handleEditOk, close: _vm.handleEditCancel }\n                  })\n                : _vm._e()\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _vm._l(_vm.dataSource, function(parent) {\n            return _c(\n              \"a-sub-menu\",\n              { key: parent.key },\n              [\n                _c(\n                  \"span\",\n                  { attrs: { slot: \"title\" }, slot: \"title\" },\n                  [\n                    _vm._v(\"\\n        \" + _vm._s(parent.title) + \"\\n        \"),\n                    !_vm.shownOnly\n                      ? _c(\"a-icon\", {\n                          staticClass: \"action-add\",\n                          attrs: { type: \"plus\" },\n                          on: {\n                            click: function(e) {\n                              return _vm.handleAdd(e, parent)\n                            }\n                          }\n                        })\n                      : _vm._e()\n                  ],\n                  1\n                ),\n                _vm._v(\" \"),\n                parent.children && parent.children.length\n                  ? _vm._l(parent.children, function(child) {\n                      return _c(\n                        \"a-menu-item\",\n                        { key: child.key },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(child.title) +\n                              \"\\n          \"\n                          ),\n                          !_vm.shownOnly\n                            ? _c(\"a-icon\", {\n                                staticClass: \"action-edit\",\n                                attrs: { type: \"edit\" },\n                                on: {\n                                  click: function(e) {\n                                    return _vm.handleEdit(e, child)\n                                  }\n                                }\n                              })\n                            : _vm._e(),\n                          _vm._v(\" \"),\n                          !_vm.shownOnly\n                            ? _c(\"a-icon\", {\n                                staticClass: \"action-delete\",\n                                attrs: { type: \"delete\" },\n                                on: {\n                                  click: function(e) {\n                                    return _vm.handleDelete(e, child)\n                                  }\n                                }\n                              })\n                            : _vm._e()\n                        ],\n                        1\n                      )\n                    })\n                  : _vm._e()\n              ],\n              2\n            )\n          })\n        ],\n        2\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/happypack/loader.js?id=happybabel!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/happypack/loader.js?id=happybabel!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuTree.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <a-input-search\n      v-if=\"search\"\n      placeholder=\"请输入搜索内容\"\n      style=\"width: 100%; margin-bottom: 1rem\"\n      @search=\"handleSearch\"\n    />\n    <a-menu\n      class=\"menu-tree\"\n      mode=\"inline\"\n      :default-open-keys=\"defaultOpenKeys\"\n      @click=\"handleItemClick\"\n    >\n      <keep-alive>\n        <item-edit\n          v-if=\"!shownOnly\"\n          ref=\"ModalForm\"\n          :title=\"formTitle\"\n          :visible=\"showEditModalForm\"\n          @ok=\"handleEditOk\"\n          @close=\"handleEditCancel\"\n        >\n        </item-edit>\n      </keep-alive>\n    \n      <a-sub-menu\n        v-for=\"parent in dataSource\"\n        :key=\"parent.key\"\n      >\n        <span slot=\"title\">\n          {{ parent.title }}\n          <a-icon\n            type=\"plus\"\n            class=\"action-add\"\n            v-if=\"!shownOnly\"\n            @click=\"(e) => handleAdd(e, parent)\"\n          />\n        </span>\n        <template v-if=\"parent.children && parent.children.length\">\n          <a-menu-item\n            v-for=\"child in parent.children\"\n            :key=\"child.key\"\n          >\n            {{ child.title }}\n            <a-icon\n              type=\"edit\"\n              class=\"action-edit\"\n              v-if=\"!shownOnly\"\n              @click=\"(e) => handleEdit(e, child)\"\n            />\n            <a-icon\n              type=\"delete\"\n              class=\"action-delete\"\n              v-if=\"!shownOnly\"\n              @click=\"(e) => handleDelete(e, child)\"\n            />\n          </a-menu-item>\n        </template>\n      </a-sub-menu>\n    </a-menu>\n  </div>\n</template>\n\n<script>\nexport default {\n  // 菜单树\n  name: 'MenuTree',\n  components: {\n    // StdnodeModalForm\n    ItemEdit: () => import('./MenuTreeItemEdit.vue')\n  },\n  props: {\n    // 数据源\n    dataSource: {\n      type: Array,\n      default: () => []\n    },\n    // 是否默认展开第一项\n    defaultOpenFirst: {\n      type: Boolean,\n      default: true\n    },\n    // 是否启用搜索\n    search: {\n      type: Boolean,\n      default: false\n    },\n    // 是否仅用于展示\n    shownOnly: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      // 默认展开项\n      defaultOpenKeys: [],\n      // 表单标题\n      formTitle: '',\n      // 是否现实弹出表单\n      showEditModalForm: false,\n      // 是否加载表单数据\n      confirmFormLoading: true,\n    }\n  },\n  created () {\n    // 设置默认展开项\n    if (this.defaultOpenFirst && this.dataSource[0]) {\n      this.$set(this, 'defaultOpenKeys', [this.dataSource[0].key]);\n    }\n  },\n  methods: {\n    handleSearch (text) {\n      console.log('正在搜索', text);\n    },\n    // 点击确认后\n    handleEditOk (data, next) {\n      const emitEvent = data.id ? 'onEdit' : 'onAdd';\n      this.$emit(emitEvent, data, success => {\n        if (success !== false) {\n          this.$message.success('保存成功！');\n          this.showEditModalForm = false;\n        } else {\n          this.$message.error('保存失败！');\n        }\n      });\n    },\n    handleEditCancel () {\n      this.$refs.ModalForm.load({});\n      this.showEditModalForm = false;\n    },\n    /**\n     * 编辑事件\n     * @param {*} e \n     * @param {*} item \n     * @private\n     */\n    handleAdd (e, item) {\n      e.stopPropagation();\n      this.showEditModalForm = true;    // 显示弹窗\n      this.formTitle  = '新增模型';      // 修改标题\n      this.confirmFormLoading = false;  // 取消表单加载\n      this.$refs.ModalForm.load(item);   // 表单加载数据\n    },\n    /**\n     * 编辑事件\n     * @param {*} e \n     * @param {*} item \n     * @private\n     */\n    handleEdit (e, item) {\n      e.stopPropagation();\n      this.showEditModalForm = true;    // 显示弹窗\n      this.formTitle  = '编辑模型';      // 修改标题\n      this.confirmFormLoading = false;  // 取消表单加载\n      this.$refs.ModalForm.load(item);  // 表单加载数据\n    },\n    /**\n     * 删除事件\n     * @param {*} e 鼠标点击事件\n     * @param {*} item \n     */\n    handleDelete (e, item) {\n      e.stopPropagation();\n      // 触发上层组件`onDelete`方法，并传递item数据\n      this.$emit('onDelete', item);\n    },\n    handleItemClick (record) {\n      const list = this.dataSource.find(item => item.key === record.keyPath[1]).children;\n      const data = list.find(item => item.key === record.key);\n      this.$emit('onSelect', {...record, data});\n    }\n  },\n  \n}\n</script>\n\n<style lang=\"less\" >\n.menu-tree {\n  min-width: 120px;\n  .ant-menu-item {\n    .action-edit, .action-delete {\n      display: none;\n    }\n    &:hover {\n      .action-edit, .action-delete {\n        display: block;\n      }\n    }\n  }\n  .ant-menu-submenu-title {\n    .action-add {\n      display: none;\n    }\n    &:hover {\n      .action-add {\n        display: block;\n      }\n    }\n  }\n  .action-add, .action-edit, .action-delete {\n    z-index: 1200;\n    position: absolute;\n    height: 40px;\n    line-height: 40px;\n    bottom: 0px;\n    right: 30px;\n    display: block;\n    color: #1890ff\n  }\n  \n   .action-delete {\n    right: 6px;\n  }\n  \n}\n</style>\n\n\n","import { render, staticRenderFns } from \"./MenuTree.vue?vue&type=template&id=1a4f860e&\"\nimport script from \"./MenuTree.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuTree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MenuTree.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/loong/gitlab/vsee-cloud/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('1a4f860e', component.options)\n    } else {\n      api.reload('1a4f860e', component.options)\n    }\n    module.hot.accept(\"./MenuTree.vue?vue&type=template&id=1a4f860e&\", function () {\n      api.rerender('1a4f860e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/Tree/MenuTree.vue\"\nexport default component.exports"],"sourceRoot":""}