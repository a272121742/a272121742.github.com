(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{Jjj3:function(t,e,a){"use strict";function c(){return(c=Object.assign||function(t){for(var e,a=1;a<arguments.length;a++)for(var n in e=arguments[a])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)}var u=["attrs","props","domProps"],h=["class","style","directives"],g=["on","nativeOn"],d=function(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}};t.exports=function(t){return t.reduce(function(t,e){for(var a in e)if(t[a])if(-1!==u.indexOf(a))t[a]=c({},t[a],e[a]);else if(-1!==h.indexOf(a)){var n=t[a]instanceof Array?t[a]:[t[a]],i=e[a]instanceof Array?e[a]:[e[a]];t[a]=n.concat(i)}else if(-1!==g.indexOf(a))for(var o in e[a])if(t[a][o]){var r=t[a][o]instanceof Array?t[a][o]:[t[a][o]],s=e[a][o]instanceof Array?e[a][o]:[e[a][o]];t[a][o]=r.concat(s)}else t[a][o]=e[a][o];else if("hook"==a)for(var l in e[a])t[a][l]=t[a][l]?d(t[a][l],e[a][l]):e[a][l];else t[a]=e[a];else t[a]=e[a];return t},{})}},qwlH:function(t,e,a){"use strict";a.r(e);var n=a("Jjj3"),s=a.n(n),i=a("cDf5"),l=a.n(i),o=a("MVZn"),c=a.n(o),u=a("ACDd");e.default={data:function(){return{needTotalList:[],selectedRows:[],selectedRowKeys:[],localLoading:!1,localDataSource:[],localPagination:Object.assign({},u.a.props.pagination)}},props:Object.assign({},u.a.props,{rowKey:{type:[String,Function],default:"id"},data:{type:Function,required:!0},pageNum:{type:Number,default:1},pageSize:{type:Number,default:10},showSizeChanger:{type:Boolean,default:!0},size:{type:String,default:"default"},alert:{type:[Object,Boolean],default:null},rowSelection:{type:Object,default:function(){return{}}},showAlertInfo:{type:Boolean,default:!1},showPagination:{type:String,default:"auto"}}),watch:{"localPagination.current":function(t){this.$router.push({name:this.$route.name,params:Object.assign({},this.$route.params,{pageNo:t})})},pageNum:function(t){Object.assign(this.localPagination,{current:t})},pageSize:function(t){Object.assign(this.localPagination,{pageSize:t})},showSizeChanger:function(t){Object.assign(this.localPagination,{showSizeChanger:t})}},created:function(){this.localPagination=["auto",!0].includes(this.showPagination)&&Object.assign({},this.localPagination,{current:this.pageNum,pageSize:this.pageSize,showSizeChanger:this.showSizeChanger}),this.needTotalList=this.initTotalList(this.columns),this.loadData()},methods:{refresh:function(t){0<arguments.length&&void 0!==t&&t&&(this.localPagination=Object.assign({},{current:1,pageSize:this.pageSize})),this.loadData()},loadData:function(e,t,a){var n=this;this.localLoading=!0;var i=Object.assign({pageNo:e&&e.current||this.localPagination.current,pageSize:e&&e.pageSize||this.localPagination.pageSize},a&&a.field&&{sortField:a.field}||{},a&&a.order&&{sortOrder:a.order}||{},c()({},t)),o=this.data(i);(o instanceof Promise||"[object Promise]"===o.toString())&&o.then(function(t){if(n.localPagination=Object.assign({},n.localPagination,{current:t.pageNo,total:t.totalCount,showSizeChanger:n.showSizeChanger,pageSize:e&&e.pageSize||n.localPagination.pageSize}),0===t.datas.length&&1!==n.localPagination.current)return n.localPagination.current--,void n.loadData();!t.totalCount&&["auto",!1].includes(n.showPagination)&&(n.localPagination=!1),n.localDataSource=t.datas,n.localLoading=!1})},initTotalList:function(t){var e=[];return t&&t instanceof Array&&t.forEach(function(t){t.needTotal&&e.push(c()({},t,{total:0}))}),e},updateSelect:function(t,e){},clearSelected:function(){this.rowSelection&&(this.rowSelection.onChange([],[]),this.updateSelect([],[]))},renderClear:function(t){var e=this,a=this.$createElement;return this.selectedRowKeys.length<=0?null:a("a",{style:"margin-left: 24px",on:{click:function(){t(),e.clearSelected()}}},["清空"])},renderAlert:function(){var e=this.$createElement,t=this.needTotalList.map(function(t){return e("span",{style:"margin-right: 12px"},[t.title,"总计 ",e("a",{style:"font-weight: 600"},[t.customRender?t.customRender(t.total):t.total])])}),a="boolean"==typeof this.alert.clear&&this.alert.clear?this.renderClear(this.clearSelected):null!==this.alert&&"function"==typeof this.alert.clear?this.renderClear(this.alert.clear):null;return e("a-alert",{attrs:{showIcon:!0},style:"margin-bottom: 16px"},[e("template",{slot:"message"},[e("span",{style:"margin-right: 12px"},["已选择: ",e("a",{style:"font-weight: 600"},[this.selectedRows.length])]),t,a])])}},render:function(t){var n=this,e=t,i={},o=Object.keys(this.$data),r="object"===l()(this.alert)&&null!==this.alert&&this.alert.show&&void 0!==this.rowSelection.selectedRowKeys||this.alert;Object.keys(u.a.props).forEach(function(a){var t="local".concat(a.substring(0,1).toUpperCase()).concat(a.substring(1));return o.includes(t)?i[a]=n[t]:"rowSelection"===a?r&&n.rowSelection?i[a]={selectedRows:n.selectedRows,selectedRowKeys:n.selectedRowKeys,onChange:function(t,e){n.updateSelect(t,e),void 0!==n[a].onChange&&n[a].onChange(t,e)}}:i[a]=null:i[a]=n[a],i[a]});var a=e("a-table",s()([{},{props:i,scopedSlots:c()({},this.$scopedSlots)},{on:{change:this.loadData}}]),[this.$slots.default]);return e("div",{class:"table-wrapper"},[r?this.renderAlert():null,a])}}}}]);
//# sourceMappingURL=37.721d45caa906d62ec513.js.map