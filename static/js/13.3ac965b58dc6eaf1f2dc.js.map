{"version":3,"sources":["webpack:///./src/modules/ModelManagement/view/ModelPropsEdit.vue?df26","webpack:///./src/modules/ModelManagement/view/ModelPropsEdit.vue?fb09","webpack:///src/modules/ModelManagement/view/ModelPropsEdit.vue","webpack:///./src/modules/ModelManagement/view/ModelPropsEdit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","width","title","visible","on","ok","handleOk","cancel","handleCancel","form","ref","default-active-key","key","tab","label","directives","name","rawName","value","expression","disabled","placeholder","_v","validateFirst","rules","required","message","pattern","force-render","codestr","options","codeEditOptions","_withStripped","view_ModelPropsEditvue_type_script_lang_js_","components","Codemirror","Promise","all","__webpack_require__","e","then","t","bind","data","record","mode","lineNumbers","extraKeys","Ctrl-Space","styleActiveLine","computed","codeEdit","$refs","editor","watch","updateFields","nodeID","$form","createFormField","desc","created","_this","createForm","mapPropsToFields","methods","load","$set","objectSpread_default","_this2","validateFieldsAndScroll","err","formTab","$children","setActiveKey","getValue","getFieldsValue","$emit","clear","_this3","$nextTick","component","Object","componentNormalizer","__file","__webpack_exports__"],"mappings":"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","file":"static/js/13.3ac965b58dc6eaf1f2dc.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"a-modal\",\n    {\n      attrs: { width: 600, title: \"编辑模型属性\", visible: _vm.visible },\n      on: { ok: _vm.handleOk, cancel: _vm.handleCancel }\n    },\n    [\n      _c(\n        \"a-form\",\n        { attrs: { form: _vm.form } },\n        [\n          _c(\n            \"a-tabs\",\n            { ref: \"formTab\", attrs: { \"default-active-key\": \"1\" } },\n            [\n              _c(\n                \"a-tab-pane\",\n                { key: \"1\", attrs: { tab: \"基础属性\" } },\n                [\n                  _c(\n                    \"a-form-item\",\n                    { attrs: { label: \"模型名称\" } },\n                    [\n                      _c(\"a-input\", {\n                        directives: [\n                          {\n                            name: \"decorator\",\n                            rawName: \"v-decorator\",\n                            value: [\"name\"],\n                            expression:\n                              \"[\\n              'name',\\n            ]\"\n                          }\n                        ],\n                        attrs: { disabled: \"\", placeholder: \"请输入模型名称\" }\n                      })\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"a-form-item\",\n                    { attrs: { label: \"模型编号\" } },\n                    [\n                      _c(\"a-input\", {\n                        directives: [\n                          {\n                            name: \"decorator\",\n                            rawName: \"v-decorator\",\n                            value: [\n                              \"nodeID\",\n                              {\n                                validateFirst: true,\n                                rules: [\n                                  {\n                                    required: true,\n                                    message: \"模型编号不能为空\"\n                                  },\n                                  {\n                                    pattern: /^[A-Za-z][A-Za-z0-9_-]*$/,\n                                    message: \"模型编号请遵循变量命名规则\"\n                                  }\n                                ]\n                              }\n                            ],\n                            expression:\n                              \"[\\n              'nodeID', \\n              {\\n                validateFirst: true,\\n                rules: [\\n                  { required: true, message: '模型编号不能为空'}, \\n                  { pattern: /^[A-Za-z][A-Za-z0-9_-]*$/, message: '模型编号请遵循变量命名规则' },\\n                ]\\n              }\\n            ]\"\n                          }\n                        ],\n                        attrs: { placeholder: \"请输入模型编号\" }\n                      })\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"a-form-item\",\n                    { attrs: { label: \"模型描述\" } },\n                    [\n                      _c(\"a-input\", {\n                        directives: [\n                          {\n                            name: \"decorator\",\n                            rawName: \"v-decorator\",\n                            value: [\"desc\"],\n                            expression:\n                              \"[\\n              'desc', \\n            ]\"\n                          }\n                        ],\n                        attrs: { placeholder: \"请输入模型描述\" }\n                      })\n                    ],\n                    1\n                  )\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"a-tab-pane\",\n                { key: \"2\", attrs: { tab: \"模型代码\", \"force-render\": \"\" } },\n                [\n                  _c(\"codemirror\", {\n                    ref: \"codeEdit\",\n                    attrs: { value: _vm.codestr, options: _vm.codeEditOptions }\n                  })\n                ],\n                1\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/happypack/loader.js?id=happybabel!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelPropsEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/happypack/loader.js?id=happybabel!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelPropsEdit.vue?vue&type=script&lang=js&\"","<template>\n  <a-modal\n    :width=\"600\"\n    title=\"编辑模型属性\"\n    :visible=\"visible\"\n    @ok=\"handleOk\"\n    @cancel=\"handleCancel\"\n  >\n    <a-form :form=\"form\">\n      <a-tabs\n        ref=\"formTab\"\n        default-active-key=\"1\"\n      >\n        <a-tab-pane\n          tab=\"基础属性\"\n          key=\"1\"\n        >\n          <a-form-item\n            label=\"模型名称\"\n          >\n            <a-input\n              disabled\n              v-decorator=\"[\n                'name',\n              ]\"\n              placeholder=\"请输入模型名称\"\n            >\n            </a-input>\n          </a-form-item>\n          <a-form-item\n            label=\"模型编号\"\n          >\n            <a-input\n              v-decorator=\"[\n                'nodeID', \n                {\n                  validateFirst: true,\n                  rules: [\n                    { required: true, message: '模型编号不能为空'}, \n                    { pattern: /^[A-Za-z][A-Za-z0-9_-]*$/, message: '模型编号请遵循变量命名规则' },\n                  ]\n                }\n              ]\"\n              placeholder=\"请输入模型编号\"\n            />\n          </a-form-item>\n          <a-form-item\n            label=\"模型描述\"\n          >\n            <a-input\n              v-decorator=\"[\n                'desc', \n              ]\"\n              placeholder=\"请输入模型描述\"\n            />\n          </a-form-item>\n        </a-tab-pane>\n        <a-tab-pane\n          tab=\"模型代码\"\n          key=\"2\"\n          force-render\n        >\n          <codemirror\n            ref=\"codeEdit\"\n            :value=\"codestr\"\n            :options=\"codeEditOptions\"\n          ></codemirror>\n        </a-tab-pane>\n        <!-- <a-tab-pane\n          tab=\"其他属性\"\n          key=\"3\"\n        >\n          Content of Tab Pane 3\n        </a-tab-pane> -->\n      </a-tabs>\n    </a-form>\n  </a-modal>\n</template>\n\n<script>\nexport default {\n  name: 'ModelEdit',\n  components: {\n    Codemirror: () => (\n      import('codemirror/mode/python/python'),\n      import('codemirror/addon/selection/active-line'),\n      import('vue-codemirror-lite/codemirror')\n    )\n  },\n  data () {\n    return {\n      record: {},\n      form: null,\n      visible: false,\n      codestr: '',\n      codeEditOptions: {\n        mode: 'python',\n        lineNumbers: true,\n        extraKeys: {'Ctrl-Space': 'autocomplete'},\n        styleActiveLine: true\n      }\n    }\n  },\n  computed: {\n    codeEdit () {\n      return this.$refs.codeEdit.editor;\n    }\n  },\n  watch: {\n    record () {\n      this.form.updateFields({\n        nodeID: this.$form.createFormField({value: this.record.nodeID}),\n        name: this.$form.createFormField({value: this.record.name}),\n        desc: this.$form.createFormField({value: this.record.desc}),\n        codestr: this.$form.createFormField({value: this.record.codestr}),\n      });\n    }\n  },\n  created () {\n    this.form = this.$form.createForm(this, {\n      mapPropsToFields: () => ({\n        nodeID: this.$form.createFormField({value: this.record.nodeID}),\n        name: this.$form.createFormField({value: this.record.name}),\n        desc: this.$form.createFormField({value: this.record.desc}),\n        codestr: this.$form.createFormField({value: this.record.codestr}),\n      })\n    });\n  },\n  methods: {\n    /**\n     * 加载数据\n     */\n    load (data) {\n      this.visible = true;\n      this.$set(this, 'record', {...data});\n      this.codestr = this.record.codestr;\n    },\n    handleOk () {\n      this.form.validateFieldsAndScroll(err => {\n        if (!err) {\n          const codestr = this.codeEdit.getValue();\n          const data = this.form.getFieldsValue();\n          this.visible = false;\n          this.$emit('update', {...this.record, ...data, codestr});\n          this.clear();\n        } else {\n          this.$refs.formTab.$children[0].setActiveKey('1');\n        }\n      });\n    },\n    handleCancel () {\n      this.visible = false;\n    },\n    /**\n     * 清除表单数据\n     */\n    clear () {\n      this.$nextTick(() => {\n        this.$set(this, 'record', {});\n      })\n    },\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./ModelPropsEdit.vue?vue&type=template&id=29147f07&\"\nimport script from \"./ModelPropsEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./ModelPropsEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/loong/gitlab/vsee-cloud/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('29147f07', component.options)\n    } else {\n      api.reload('29147f07', component.options)\n    }\n    module.hot.accept(\"./ModelPropsEdit.vue?vue&type=template&id=29147f07&\", function () {\n      api.rerender('29147f07', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/modules/ModelManagement/view/ModelPropsEdit.vue\"\nexport default component.exports"],"sourceRoot":""}