{"version":3,"sources":["webpack:///./src/components/G6Editor/BaseFlow.vue?2eec","webpack:///./src/components/G6Editor/BaseFlow.vue?a4a7","webpack:///src/components/G6Editor/BaseFlow.vue","webpack:///./src/components/G6Editor/BaseFlow.vue?749a","webpack:///./src/components/G6Editor/BaseFlow.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_2_node_modules_less_loader_dist_cjs_js_ref_10_3_node_modules_vue_loader_lib_index_js_vue_loader_options_BaseFlow_vue_vue_type_style_index_0_id_5b877872_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","placement","scopedSlots","_u","key","fn","_v","proxy","data-command","type","size","on","click","download","disabled","disableSave","save","Object","keys","itemGroup","length","active-key","activeKey","bordered","_l","itemList","header","item","name","_t","src","draggable","data-type","data-shape","data-size","data-color","data-label","_e","staticStyle","position","z-index","display","data-status","model","value","nodeName","callback","$$v","expression","id","edgeName","change","changeGridShowOrHide","multiColor","show-input","input-size","zoomRatio","min","max","tip-formatter","formatTooltip","changeZoomRatio","_withStripped","window","G6Editor","g6Editor_default","a","Util","registerEdge","afterDraw","edge","shape","group","get","console","log","G6Editor_BaseFlowvue_type_script_lang_js_","components","props","data","default","items","Array","dataMapping","Function","editor","page","flow","graph","nodeId","nodeWidth","nodeHeight","nodeColor","groupId","groupName","groupColor","edgeId","multiId","isMultiSelect","","watch","newValue","update","label","concat","_this","forEach","color","oldValue","text","zoom","read","initItems","created","mounted","initEditor","vm","activated","methods","track","Flow","container","$refs","minZoom","maxZoom","align","grid","cell","shortcut","zoomIn","zoomOut","noEndEdge","itempannel","Itempannel","minimap","Minimap","toolbar","Toolbar","contextmenu","Contextmenu","detailpannel","Detailpannel","add","upClarity","getGraph","setFitView","getCurrentPage","hideGrid","style","stroke","labelRectStyle","fill","changeAddEdgeModel","listenCommand","listenEvent","registerNode","draw","node","getGraphicGroup","getModel","keyShape","addShape","x","y","width","height","img","textAlign","textBaseline","anchor","anchors","$set","groupBy","prop","_this2","ev","getItems","command","_this3","push","_ev$item$model$size$s","split","_ev$item$model$size$s2","slicedToArray_default","e","$emit","source","target","cancel","sourceAnchor","targetAnchor","anchorHasBeenLinked","getNodes","updateMatrix","isSelected","attr","highlightEdge","unlightEdge","graphData","nodes","edges","getEdges","toConsumableArray_default","checked","showGrid","imgData","childNodes","toDataURL","document","createElement","href","remove","val","canvas","clarity","Number","dpr","devicePixelRatio","rect","getBoundingClientRect","getContext","scale","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/35.c5e49215304d09294849.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseFlow.vue?vue&type=style&index=0&id=5b877872&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseFlow.vue?vue&type=style&index=0&id=5b877872&lang=less&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"keep-alive\", [\n    _c(\"div\", { staticClass: \"editor\" }, [\n      _c(\"div\", { staticClass: \"top-container\" }, [\n        _c(\n          \"div\",\n          { ref: \"toolbar\", staticClass: \"toolbar\" },\n          [\n            _c(\n              \"a-tooltip\",\n              {\n                attrs: { placement: \"bottom\" },\n                scopedSlots: _vm._u([\n                  {\n                    key: \"title\",\n                    fn: function() {\n                      return [_c(\"span\", [_vm._v(\"撤销\")])]\n                    },\n                    proxy: true\n                  }\n                ])\n              },\n              [\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  staticClass: \"command iconfont icon-undo\",\n                  attrs: { \"data-command\": \"undo\" }\n                })\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"a-tooltip\",\n              {\n                attrs: { placement: \"bottom\" },\n                scopedSlots: _vm._u([\n                  {\n                    key: \"title\",\n                    fn: function() {\n                      return [_c(\"span\", [_vm._v(\"重做\")])]\n                    },\n                    proxy: true\n                  }\n                ])\n              },\n              [\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  staticClass: \"command iconfont icon-redo disable\",\n                  attrs: { \"data-command\": \"redo\" }\n                })\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\"a-divider\", { attrs: { type: \"vertical\" } }),\n            _vm._v(\" \"),\n            _c(\n              \"a-tooltip\",\n              {\n                attrs: { placement: \"bottom\" },\n                scopedSlots: _vm._u([\n                  {\n                    key: \"title\",\n                    fn: function() {\n                      return [_c(\"span\", [_vm._v(\"复制\")])]\n                    },\n                    proxy: true\n                  }\n                ])\n              },\n              [\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  staticClass: \"command iconfont icon-copy-o\",\n                  attrs: { \"data-command\": \"copy\" }\n                })\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"a-tooltip\",\n              {\n                attrs: { placement: \"bottom\" },\n                scopedSlots: _vm._u([\n                  {\n                    key: \"title\",\n                    fn: function() {\n                      return [_c(\"span\", [_vm._v(\"粘贴\")])]\n                    },\n                    proxy: true\n                  }\n                ])\n              },\n              [\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  staticClass: \"command iconfont icon-paster-o disable\",\n                  attrs: { \"data-command\": \"paste\" }\n                })\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"a-tooltip\",\n              {\n                attrs: { placement: \"bottom\" },\n                scopedSlots: _vm._u([\n                  {\n                    key: \"title\",\n                    fn: function() {\n                      return [_c(\"span\", [_vm._v(\"删除\")])]\n                    },\n                    proxy: true\n                  }\n                ])\n              },\n              [\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  staticClass: \"command iconfont icon-delete-o\",\n                  attrs: { \"data-command\": \"delete\" }\n                })\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\"a-divider\", { attrs: { type: \"vertical\" } }),\n            _vm._v(\" \"),\n            _c(\n              \"a-tooltip\",\n              {\n                attrs: { placement: \"bottom\" },\n                scopedSlots: _vm._u([\n                  {\n                    key: \"title\",\n                    fn: function() {\n                      return [_c(\"span\", [_vm._v(\"放大\")])]\n                    },\n                    proxy: true\n                  }\n                ])\n              },\n              [\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  staticClass: \"command iconfont icon-zoom-in-o\",\n                  attrs: { \"data-command\": \"zoomIn\" }\n                })\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"a-tooltip\",\n              {\n                attrs: { placement: \"bottom\" },\n                scopedSlots: _vm._u([\n                  {\n                    key: \"title\",\n                    fn: function() {\n                      return [_c(\"span\", [_vm._v(\"缩小\")])]\n                    },\n                    proxy: true\n                  }\n                ])\n              },\n              [\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  staticClass: \"command iconfont icon-zoom-out-o\",\n                  attrs: { \"data-command\": \"zoomOut\" }\n                })\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"a-tooltip\",\n              {\n                attrs: { placement: \"bottom\" },\n                scopedSlots: _vm._u([\n                  {\n                    key: \"title\",\n                    fn: function() {\n                      return [_c(\"span\", [_vm._v(\"适应画布\")])]\n                    },\n                    proxy: true\n                  }\n                ])\n              },\n              [\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  staticClass: \"command iconfont icon-fit\",\n                  attrs: { \"data-command\": \"autoZoom\" }\n                })\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"a-tooltip\",\n              {\n                attrs: { placement: \"bottom\" },\n                scopedSlots: _vm._u([\n                  {\n                    key: \"title\",\n                    fn: function() {\n                      return [_c(\"span\", [_vm._v(\"实际尺寸\")])]\n                    },\n                    proxy: true\n                  }\n                ])\n              },\n              [\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  staticClass: \"command iconfont icon-actual-size-o\",\n                  attrs: { \"data-command\": \"resetZoom\" }\n                })\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\"a-divider\", { attrs: { type: \"vertical\" } }),\n            _vm._v(\" \"),\n            _c(\n              \"a-tooltip\",\n              {\n                attrs: { placement: \"bottom\" },\n                scopedSlots: _vm._u([\n                  {\n                    key: \"title\",\n                    fn: function() {\n                      return [_c(\"span\", [_vm._v(\"层级后置\")])]\n                    },\n                    proxy: true\n                  }\n                ])\n              },\n              [\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  staticClass: \"command iconfont icon-to-back\",\n                  attrs: { \"data-command\": \"toBack\" }\n                })\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"a-tooltip\",\n              {\n                attrs: { placement: \"bottom\" },\n                scopedSlots: _vm._u([\n                  {\n                    key: \"title\",\n                    fn: function() {\n                      return [_c(\"span\", [_vm._v(\"层级前置\")])]\n                    },\n                    proxy: true\n                  }\n                ])\n              },\n              [\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  staticClass: \"command iconfont icon-to-front\",\n                  attrs: { \"data-command\": \"toFront\" }\n                })\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\"span\", { staticClass: \"separator\" }),\n            _vm._v(\" \"),\n            _c(\n              \"a-tooltip\",\n              {\n                attrs: { placement: \"bottom\" },\n                scopedSlots: _vm._u([\n                  {\n                    key: \"title\",\n                    fn: function() {\n                      return [_c(\"span\", [_vm._v(\"多选\")])]\n                    },\n                    proxy: true\n                  }\n                ])\n              },\n              [\n                _vm._v(\" \"),\n                _c(\"i\", {\n                  staticClass: \"command iconfont icon-select\",\n                  attrs: { \"data-command\": \"multiSelect\" }\n                })\n              ]\n            )\n          ],\n          1\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"data-opt\" },\n          [\n            _c(\n              \"a-button\",\n              {\n                attrs: { size: \"small\", type: \"primary\" },\n                on: { click: _vm.download }\n              },\n              [_vm._v(\"\\n          下载\\n        \")]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"a-button\",\n              {\n                attrs: {\n                  size: \"small\",\n                  type: \"primary\",\n                  disabled: _vm.disableSave\n                },\n                on: { click: _vm.save }\n              },\n              [_vm._v(\"\\n          保存\\n        \")]\n            )\n          ],\n          1\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"bottom-container\" }, [\n        _c(\"div\", { staticClass: \"left-pannel\" }, [\n          _c(\n            \"div\",\n            { ref: \"itempannel\", staticClass: \"itempannel-container\" },\n            [\n              Object.keys(_vm.itemGroup).length\n                ? _c(\n                    \"a-collapse\",\n                    { attrs: { \"active-key\": _vm.activeKey, bordered: false } },\n                    _vm._l(_vm.itemGroup, function(itemList, type) {\n                      return _c(\n                        \"a-collapse-panel\",\n                        { key: type, attrs: { header: type } },\n                        [\n                          itemList && itemList.length\n                            ? _vm._l(itemList, function(item) {\n                                return _c(\n                                  \"a-popover\",\n                                  {\n                                    key: item.name,\n                                    attrs: { placement: \"right\" },\n                                    scopedSlots: _vm._u(\n                                      [\n                                        {\n                                          key: \"content\",\n                                          fn: function() {\n                                            return [\n                                              _vm._t(\"default\", null, {\n                                                item: item\n                                              })\n                                            ]\n                                          },\n                                          proxy: true\n                                        }\n                                      ],\n                                      null,\n                                      true\n                                    )\n                                  },\n                                  [\n                                    _vm._v(\" \"),\n                                    _c(\"img\", {\n                                      staticClass: \"getItem\",\n                                      attrs: {\n                                        src: \"/static/images/example.png\",\n                                        draggable: \"false\",\n                                        \"data-type\": \"node\",\n                                        \"data-shape\": item.name,\n                                        \"data-size\": \"102*102\",\n                                        \"data-color\": \"#FA8C16\",\n                                        \"data-label\": item.name\n                                      }\n                                    })\n                                  ]\n                                )\n                              })\n                            : _vm._e()\n                        ],\n                        2\n                      )\n                    }),\n                    1\n                  )\n                : _vm._e()\n            ],\n            1\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"center-pannel\" }, [\n          _c(\"div\", { ref: \"flow\", staticClass: \"flow\" }),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            {\n              ref: \"contextmenu\",\n              staticClass: \"contextmenu\",\n              staticStyle: { position: \"absolute\", \"z-index\": \"2\" }\n            },\n            [\n              _c(\n                \"div\",\n                {\n                  staticClass: \"menu\",\n                  staticStyle: { display: \"none\" },\n                  attrs: { \"data-status\": \"node-selected\" }\n                },\n                [\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"command iconfont icon-copy-o disable\",\n                      attrs: { \"data-command\": \"copy\" }\n                    },\n                    [_c(\"span\", [_vm._v(\"复制\")])]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"command iconfont icon-delete-o disable\",\n                      attrs: { \"data-command\": \"delete\" }\n                    },\n                    [_c(\"span\", [_vm._v(\"删除\")])]\n                  )\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                {\n                  staticClass: \"menu\",\n                  staticStyle: { display: \"none\" },\n                  attrs: { \"data-status\": \"edge-selected\" }\n                },\n                [\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"command iconfont icon-delete-o disable\",\n                      attrs: { \"data-command\": \"delete\" }\n                    },\n                    [_c(\"span\", [_vm._v(\"删除\")])]\n                  )\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                {\n                  staticClass: \"menu\",\n                  staticStyle: { display: \"none\" },\n                  attrs: { \"data-status\": \"group-selected\" }\n                },\n                [\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"command iconfont icon-copy-o disable\",\n                      attrs: { \"data-command\": \"copy\" }\n                    },\n                    [_c(\"span\", [_vm._v(\"复制\")])]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"command iconfont icon-delete-o disable\",\n                      attrs: { \"data-command\": \"delete\" }\n                    },\n                    [_c(\"span\", [_vm._v(\"删除\")])]\n                  )\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                {\n                  staticClass: \"menu\",\n                  staticStyle: { display: \"block\" },\n                  attrs: { \"data-status\": \"canvas-selected\" }\n                },\n                [\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"command iconfont icon-undo disable\",\n                      attrs: { \"data-command\": \"undo\" }\n                    },\n                    [_c(\"span\", [_vm._v(\"撤销\")])]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"command iconfont icon-redo disable\",\n                      attrs: { \"data-command\": \"redo\" }\n                    },\n                    [_c(\"span\", [_vm._v(\"重做\")])]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"command iconfont icon-paster-o disable\",\n                      attrs: { \"data-command\": \"pasteHere\" }\n                    },\n                    [_c(\"span\", [_vm._v(\"粘贴\")])]\n                  )\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                {\n                  staticClass: \"menu\",\n                  staticStyle: { display: \"none\" },\n                  attrs: { \"data-status\": \"multi-selected\" }\n                },\n                [\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"command iconfont icon-copy-o disable\",\n                      attrs: { \"data-command\": \"copy\" }\n                    },\n                    [_c(\"span\", [_vm._v(\"复制\")])]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"command iconfont icon-paster-o disable\",\n                      attrs: { \"data-command\": \"paste\" }\n                    },\n                    [_c(\"span\", [_vm._v(\"粘贴\")])]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"command iconfont icon-delete-o disable\",\n                      attrs: { \"data-command\": \"delete\" }\n                    },\n                    [_c(\"span\", [_vm._v(\"删除\")])]\n                  )\n                ]\n              )\n            ]\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"right-pannel\" }, [\n          _c(\"div\", { staticClass: \"detail-pannel\" }, [\n            _c(\"div\", { ref: \"detailpannel\" }, [\n              _c(\n                \"div\",\n                {\n                  staticClass: \"pannel\",\n                  staticStyle: { display: \"none\" },\n                  attrs: { \"data-status\": \"node-selected\" }\n                },\n                [\n                  _c(\"div\", { staticClass: \"pannel-title\" }, [\n                    _vm._v(\"\\n                节点\\n              \")\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"block-container\" }, [\n                    _c(\n                      \"div\",\n                      { staticClass: \"p name\" },\n                      [\n                        _vm._v(\n                          \"\\n                  名称：\\n                  \"\n                        ),\n                        _c(\"a-input\", {\n                          attrs: { size: \"small\" },\n                          model: {\n                            value: _vm.nodeName,\n                            callback: function($$v) {\n                              _vm.nodeName = $$v\n                            },\n                            expression: \"nodeName\"\n                          }\n                        })\n                      ],\n                      1\n                    )\n                  ])\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                {\n                  staticClass: \"pannel\",\n                  staticStyle: { display: \"none\" },\n                  attrs: {\n                    \"data-status\": \"edge-selected\",\n                    id: \"edge_detailpannel\"\n                  }\n                },\n                [\n                  _c(\"div\", { staticClass: \"pannel-title\" }, [\n                    _vm._v(\"\\n                边\\n              \")\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"block-container\" }, [\n                    _c(\n                      \"div\",\n                      { staticClass: \"p name\" },\n                      [\n                        _vm._v(\n                          \"\\n                  名称：\\n                  \"\n                        ),\n                        _c(\"a-input\", {\n                          attrs: { size: \"small\" },\n                          model: {\n                            value: _vm.edgeName,\n                            callback: function($$v) {\n                              _vm.edgeName = $$v\n                            },\n                            expression: \"edgeName\"\n                          }\n                        })\n                      ],\n                      1\n                    )\n                  ])\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                {\n                  staticClass: \"pannel\",\n                  staticStyle: { display: \"none\" },\n                  attrs: {\n                    \"data-status\": \"canvas-selected\",\n                    id: \"canvas_detailpannel\"\n                  }\n                },\n                [\n                  _c(\"div\", { staticClass: \"pannel-title\" }, [\n                    _vm._v(\"\\n                画布\\n              \")\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    { staticClass: \"block-container\" },\n                    [\n                      _c(\n                        \"a-checkbox\",\n                        { on: { change: _vm.changeGridShowOrHide } },\n                        [\n                          _vm._v(\n                            \"\\n                  显示网格\\n                \"\n                          )\n                        ]\n                      )\n                    ],\n                    1\n                  )\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                {\n                  staticClass: \"pannel\",\n                  staticStyle: { display: \"block\" },\n                  attrs: {\n                    \"data-status\": \"multi-selected\",\n                    id: \"multi_detailpannel\"\n                  }\n                },\n                [\n                  _c(\"div\", { staticClass: \"pannel-title\" }, [\n                    _vm._v(\"\\n                多选\\n              \")\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"block-container\" }, [\n                    _c(\n                      \"div\",\n                      { staticClass: \"p color\" },\n                      [\n                        _vm._v(\n                          \"\\n                  颜色：\\n                  \"\n                        ),\n                        _c(\"a-input\", {\n                          attrs: { size: \"small\" },\n                          model: {\n                            value: _vm.multiColor,\n                            callback: function($$v) {\n                              _vm.multiColor = $$v\n                            },\n                            expression: \"multiColor\"\n                          }\n                        })\n                      ],\n                      1\n                    )\n                  ])\n                ]\n              )\n            ])\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"navigator\" }, [\n            _c(\"span\", { staticClass: \"pannel-title\" }, [_vm._v(\"导航器\")]),\n            _vm._v(\" \"),\n            _c(\"div\", { ref: \"minimap\", staticClass: \"mini-map\" })\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"zoom-slider\" },\n            [\n              _c(\"a-slider\", {\n                attrs: {\n                  \"show-input\": \"\",\n                  \"input-size\": \"mini\",\n                  value: _vm.zoomRatio,\n                  min: 50,\n                  max: 200,\n                  \"tip-formatter\": _vm.formatTooltip\n                },\n                on: { change: _vm.changeZoomRatio }\n              })\n            ],\n            1\n          )\n        ])\n      ])\n    ])\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n  <keep-alive>\n    <div class=\"editor\">\n      <div class=\"top-container\">\n        <div\n          class=\"toolbar\"\n          ref=\"toolbar\"\n        >\n          <a-tooltip placement=\"bottom\">\n            <template #title>\n              <span>撤销</span>\n            </template>\n            <i\n              data-command=\"undo\"\n              class=\"command iconfont icon-undo\"\n            ></i>\n          </a-tooltip>\n          <a-tooltip placement=\"bottom\">\n            <template #title>\n              <span>重做</span>\n            </template>\n            <i\n              data-command=\"redo\"\n              class=\"command iconfont icon-redo disable\"\n            ></i>\n          </a-tooltip>\n        \n          <a-divider type=\"vertical\" />\n          <a-tooltip placement=\"bottom\">\n            <template #title>\n              <span>复制</span>\n            </template>\n            <i\n              data-command=\"copy\"\n              class=\"command iconfont icon-copy-o\"\n            ></i>\n          </a-tooltip>\n          <a-tooltip placement=\"bottom\">\n            <template #title>\n              <span>粘贴</span>\n            </template>\n            <i\n              data-command=\"paste\"\n              class=\"command iconfont icon-paster-o disable\"\n            ></i>\n          </a-tooltip>\n          <a-tooltip placement=\"bottom\">\n            <template #title>\n              <span>删除</span>\n            </template>\n            <i\n              data-command=\"delete\"\n              class=\"command iconfont icon-delete-o\"\n            ></i>\n          </a-tooltip>\n          <a-divider type=\"vertical\" />\n          <a-tooltip placement=\"bottom\">\n            <template #title>\n              <span>放大</span>\n            </template>\n            <i\n              data-command=\"zoomIn\"\n              class=\"command iconfont icon-zoom-in-o\"\n            ></i>\n          </a-tooltip>\n          <a-tooltip placement=\"bottom\">\n            <template #title>\n              <span>缩小</span>\n            </template>\n            <i\n              data-command=\"zoomOut\"\n              class=\"command iconfont icon-zoom-out-o\"\n            ></i>\n          </a-tooltip>\n          <a-tooltip placement=\"bottom\">\n            <template #title>\n              <span>适应画布</span>\n            </template>\n            <i\n              data-command=\"autoZoom\"\n              class=\"command iconfont icon-fit\"\n            ></i>\n          </a-tooltip>\n          <a-tooltip placement=\"bottom\">\n            <template #title>\n              <span>实际尺寸</span>\n            </template>\n            <i\n              data-command=\"resetZoom\"\n              class=\"command iconfont icon-actual-size-o\"\n            ></i>\n          </a-tooltip>\n          <a-divider type=\"vertical\" />\n          <a-tooltip placement=\"bottom\">\n            <template #title>\n              <span>层级后置</span>\n            </template>\n            <i\n              data-command=\"toBack\"\n              class=\"command iconfont icon-to-back\"\n            ></i>\n          </a-tooltip>\n          <a-tooltip placement=\"bottom\">\n            <template #title>\n              <span>层级前置</span>\n            </template>\n            <i\n              data-command=\"toFront\"\n              class=\"command iconfont icon-to-front\"\n            ></i>\n          </a-tooltip>\n          <span class=\"separator\"></span>\n          <a-tooltip placement=\"bottom\">\n            <template #title>\n              <span>多选</span>\n            </template>\n            <i\n              data-command=\"multiSelect\"\n              class=\"command iconfont icon-select\"\n            ></i>\n          </a-tooltip>\n        <!-- <a-tooltip placement=\"bottom\">\n          <template #title>\n            <span>成组</span>\n          </template>\n          <i\n            data-command=\"addGroup\"\n            class=\"command iconfont icon-group disable\"\n            title=\"成组\"\n          ></i>\n        </a-tooltip>\n        <a-tooltip placement=\"bottom\">\n          <template #title>\n            <span>解组</span>\n          </template>\n          <i\n            data-command=\"unGroup\"\n            class=\"command iconfont icon-ungroup disable\"\n            title=\"解组\"\n          ></i>\n        </a-tooltip> -->\n        </div>\n        <div class=\"data-opt\">\n          <a-button\n            size=\"small\"\n            type=\"primary\"\n            @click=\"download\"\n          >\n            下载\n          </a-button>\n          <a-button\n            size=\"small\"\n            type=\"primary\"\n            :disabled=\"disableSave\"\n            @click=\"save\"\n          >\n            保存\n          </a-button>\n        <!-- <a-button\n          size=\"small\"\n          type=\"primary\"\n          @click=\"downloadFlow\"\n        >\n          下载\n        </a-button> -->\n        </div>\n      </div>\n      <div class=\"bottom-container\">\n        <div class=\"left-pannel\">\n          <div\n            class=\"itempannel-container\"\n            ref=\"itempannel\"\n          >\n            <!-- 通过attr的形式注入属性-->\n            <a-collapse\n              v-if=\"Object.keys(itemGroup).length\"\n              :active-key=\"activeKey\"\n              :bordered=\"false\"\n            >\n              <a-collapse-panel\n                v-for=\"(itemList, type) in itemGroup\"\n                :header=\"type\"\n                :key=\"type\"\n              >\n                <template v-if=\"itemList && itemList.length\">\n                  <a-popover\n                    v-for=\"item in itemList\"\n                    :key=\"item.name\"\n                    placement=\"right\"\n                  >\n                    <template #content>\n                      <slot :item=\"item\"></slot>\n                    </template>\n                    <img\n                      :src=\"'/static/images/example.png'\"\n                      draggable=\"false\"\n                      data-type=\"node\"\n                      :data-shape=\"item.name\"\n                      data-size=\"102*102\"\n                      data-color=\"#FA8C16\"\n                      :data-label=\"item.name\"\n                      class=\"getItem\"\n                    />\n                  </a-popover>\n                </template>\n              </a-collapse-panel>\n            </a-collapse>\n          </div>\n        </div>\n        <div class=\"center-pannel\">\n          <div\n            class=\"flow\"\n            ref=\"flow\"\n          ></div>\n          <div\n            class=\"contextmenu\"\n            ref=\"contextmenu\"\n            style=\"position: absolute; z-index: 2;\"\n          >\n            <div\n              data-status=\"node-selected\"\n              class=\"menu\"\n              style=\"display: none;\"\n            >\n              <div\n                data-command=\"copy\"\n                class=\"command iconfont icon-copy-o disable\"\n              >\n                <span>复制</span>\n              </div>\n              <div\n                data-command=\"delete\"\n                class=\"command iconfont icon-delete-o disable\"\n              >\n                <span>删除</span>\n              </div>\n            </div>\n            <div\n              data-status=\"edge-selected\"\n              class=\"menu\"\n              style=\"display: none;\"\n            >\n              <div\n                data-command=\"delete\"\n                class=\"command iconfont icon-delete-o disable\"\n              >\n                <span>删除</span>\n              </div>\n            </div>\n            <div\n              data-status=\"group-selected\"\n              class=\"menu\"\n              style=\"display: none;\"\n            >\n              <div\n                data-command=\"copy\"\n                class=\"command iconfont icon-copy-o disable\"\n              >\n                <span>复制</span>\n              </div>\n              <div\n                data-command=\"delete\"\n                class=\"command iconfont icon-delete-o disable\"\n              >\n                <span>删除</span>\n              </div>\n              <!-- <div\n                data-command=\"unGroup\"\n                class=\"command iconfont icon-ungroup disable\"\n              >\n                <span>解组</span>\n              </div> -->\n            </div>\n            <div\n              data-status=\"canvas-selected\"\n              class=\"menu\"\n              style=\"display: block;\"\n            >\n              <div\n                data-command=\"undo\"\n                class=\"command iconfont icon-undo disable\"\n              >\n                <span>撤销</span>\n              </div>\n              <div\n                data-command=\"redo\"\n                class=\"command iconfont icon-redo disable\"\n              >\n                <span>重做</span>\n              </div>\n              <div\n                data-command=\"pasteHere\"\n                class=\"command iconfont icon-paster-o disable\"\n              >\n                <span>粘贴</span>\n              </div>\n            </div>\n            <div\n              data-status=\"multi-selected\"\n              class=\"menu\"\n              style=\"display: none;\"\n            >\n              <div\n                data-command=\"copy\"\n                class=\"command iconfont icon-copy-o disable\"\n              >\n                <span>复制</span>\n              </div>\n              <div\n                data-command=\"paste\"\n                class=\"command iconfont icon-paster-o disable\"\n              >\n                <span>粘贴</span>\n              </div>\n              <!-- <div\n                data-command=\"addGroup\"\n                class=\"command iconfont icon-group disable\"\n              >\n                <span>成组</span>\n                <span>addGroup</span>\n              </div> -->\n              <div\n                data-command=\"delete\"\n                class=\"command iconfont icon-delete-o disable\"\n              >\n                <span>删除</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"right-pannel\">\n          <div class=\"detail-pannel\">\n            <div ref=\"detailpannel\">\n              <div\n                data-status=\"node-selected\"\n                class=\"pannel\"\n                style=\"display: none;\"\n              >\n                <div class=\"pannel-title\">\n                  节点\n                </div>\n                <div class=\"block-container\">\n                  <div class=\"p name\">\n                    名称：\n                    <a-input\n                      size=\"small\"\n                      v-model=\"nodeName\"\n                    ></a-input>\n                  </div>\n                  <!-- <div class=\"p size\">\n                    尺寸：\n                    <a-input\n                      size=\"small\"\n                      v-model=\"nodeWidth\"\n                    ></a-input>\n                    <a-input\n                      size=\"small\"\n                      v-model=\"nodeHeight\"\n                    ></a-input>\n                  </div> -->\n                  <!-- <div class=\"p color\">\n                    颜色：\n                    <a-input\n                      v-model=\"nodeColor\"\n                      size=\"small\"\n                    ></a-input>\n                  </div> -->\n                </div>\n              </div>\n              <div\n                data-status=\"edge-selected\"\n                class=\"pannel\"\n                id=\"edge_detailpannel\"\n                style=\"display: none;\"\n              >\n                <div class=\"pannel-title\">\n                  边\n                </div>\n                <div class=\"block-container\">\n                  <div class=\"p name\">\n                    名称：\n                    <a-input\n                      size=\"small\"\n                      v-model=\"edgeName\"\n                    ></a-input>\n                  </div>\n                </div>\n              </div>\n              <!-- <div\n                data-status=\"group-selected\"\n                class=\"pannel\"\n                id=\"group_detailpannel\"\n                style=\"display: none;\"\n              >\n                <div class=\"pannel-title\">\n                  组\n                </div>\n                <div class=\"block-container\">\n                  <div class=\"p name\">\n                    名称：\n                    <a-input\n                      size=\"small\"\n                      v-model=\"groupName\"\n                    ></a-input>\n                  </div>\n                  <div class=\"p color\">\n                    颜色：\n                    <a-input\n                      v-model=\"groupColor\"\n                      size=\"small\"\n                    ></a-input>\n                  </div>\n                </div>\n              </div> -->\n              <div\n                data-status=\"canvas-selected\"\n                class=\"pannel\"\n                id=\"canvas_detailpannel\"\n                style=\"display: none;\"\n              >\n                <div class=\"pannel-title\">\n                  画布\n                </div>\n                <div class=\"block-container\">\n                  <a-checkbox @change=\"changeGridShowOrHide\">\n                    显示网格\n                  </a-checkbox>\n                </div>\n              </div>\n              <div\n                data-status=\"multi-selected\"\n                class=\"pannel\"\n                id=\"multi_detailpannel\"\n                style=\"display: block;\"\n              >\n                <div class=\"pannel-title\">\n                  多选\n                </div>\n                <div class=\"block-container\">\n                  <div class=\"p color\">\n                    颜色：\n                    <a-input\n                      v-model=\"multiColor\"\n                      size=\"small\"\n                    ></a-input>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"navigator\">\n            <span class=\"pannel-title\">导航器</span>\n            <div\n              class=\"mini-map\"\n              ref=\"minimap\"\n            ></div>\n          </div>\n          <div class=\"zoom-slider\">\n            <a-slider\n              show-input\n              input-size=\"mini\"\n              :value=\"zoomRatio\"\n              :min=\"50\"\n              :max=\"200\"\n              :tip-formatter=\"formatTooltip\"\n              @change=\"changeZoomRatio\"\n            ></a-slider>\n          </div>\n        </div>\n      </div>\n    </div>\n  </keep-alive>\n</template>\n\n<script>\nimport { groupBy, prop, find, propEq, concat, partialRight, contains } from 'ramda';\n/**\n * 参考 http://antvis.github.io/g6/api/item.html\n *     https://www.yuque.com/antv/g6/graph\n * -G6Editor整体框架元素介绍：\n *  editor: {                 // 即`G6Editor`，编辑器的实例；\n *    graph: {                // 编辑器中图形模块，包含了左边`itempanel`，右边的`minimap`等，都是用`graph`绘制的；\n *      model:                // 图形模块的数据模型；\n *      page: {               // 图形模块中的当前页，即中间绘图部分；\n *        flow                // 流程图实例\n *      }\n *    },\n *    toolbar:                // 顶部工具栏\n *    contextmenu:            // page中的右键菜单\n *    itempanel:              // 左边的元素项目\n *    detailpanel:            // 右边的详情页\n *    commandcontroller:      // 命令控制器\n *  }\n */\nimport G6Editor from '@antv/g6-editor';\nwindow.G6Editor = G6Editor;\n/**\n * 线条高光\n */\nconst highlightEdge = shape => {\n  shape.attr('stroke', '#1890ff');\n  shape.attr('lineWidth', 2);\n};\n/**\n * 线条无光\n */\nconst unlightEdge = shape => {\n  shape.attr('stroke', '#79838e');\n  shape.attr('lineWidth', 1);\n};\n\n\n\nconst Util = G6Editor.Util;\nG6Editor.registerEdge('custom-flow-polyline-round', {\n  afterDraw (edge) {\n    const shape = edge.group.get('children')[0];\n    console.log('拖拽线条后，可用于重绘线条',shape);\n  }\n  // getPathByPoints (t) {\n\n  // }\n}, 'flow-polyline-round');\n// G6.registerEdge('customEdge', {\n//   draw(cfg, group) {\n//     const startPoint = cfg.startPoint;\n//     const endPoint = cfg.endPoint;\n//     const shape = group.addShape('path', {\n//       attrs: {\n//         path: [['M', startPoint.x, startPoint.y], ['L', endPoint.x, endPoint.y]],\n//         stroke: cfg.color,\n//         lineWidth: cfg.size\n//       }\n//     });\n//     // 添加文本、更多图形\n//     return shape;\n//   }\n// });\n\n/**\n * 术语讲解：\n *  node: 节点，即拖拽到`graph`或`page`上的一个个的元素；\n *  edge: 边，即节点与节点之间的连线，`node`的外边框实际上也是`edge`；\n *  anchor: 锚点，挂载`edge`的实际上是锚点；\n */\nexport default {\n  name: 'BaseFlow',\n  components: {},\n  props: {\n    /**\n     * 画板数据\n     */\n    data: {\n      type: Object,\n      default: () => ({})\n    },\n    /**\n     * 流程图节点定义\n     * 格式： Array<Node>\n     * Node: \n     *   {\n     *     name: '', // 名称\n     *     anchor: [], // 锚点集,\n     *     group: '', // 分组\n     *   }\n     */\n    items: {\n      type: Array,\n      default: () => ([])\n    },\n    /**\n     * 数据映射函数\n     * 此函数用于分离图形编辑器的内部业务和外部的实际业务，避免耦合\n     * @param {*} node - 图的节点对象\n     * @param {*} item - 外部传入的业务对象 \n     */\n    dataMapping: {\n      type: Function,\n      default: () => {}\n    }\n  },\n  data () {\n    return {\n      /**\n       * `G6Editor`编辑器实例\n       */\n      editor: null,\n      /**\n       * 绘制图形区域的页面，本案例特指`getCurrentPage`当前页，\n       * 未来可能会增加多页面、多图层的概念；\n       */\n      page: null,\n      /**\n       * 流程图实例\n       */\n      flow: null,\n      /**\n       * 图形模块的实例，内置数据绑定的模型`Mode`;\n       */\n      graph: null,\n      /**\n       * 节点唯一id\n       * 节点不包含`edge`\n       */\n      nodeId: null,\n      /**\n       * 节点名称\n       */\n      nodeName: null,\n      /**\n       * 节点宽度\n       */\n      nodeWidth: null,\n      /**\n       * 节点高度\n       */\n      nodeHeight: null,\n      /**\n       * 节点颜色\n       */\n      nodeColor: null,\n      /**\n       * 组编号\n       */\n      groupId: null,\n      /**\n       * 组名称\n       */\n      groupName: null,\n      /**\n       * 组颜色\n       */\n      groupColor: null,\n      /**\n       * 边的唯一id\n       */\n      edgeId: null,\n      /**\n       * 边名称\n       */\n      edgeName: null,\n      /**\n       * 多选模式中，所选所有元素的id集合，包含`node`和`edge`；\n       */\n      multiId: [],\n      /**\n       * 多选模式下的color，仅以最后一个为代表颜色\n       */\n      multiColor: null,\n      /**\n       * 是否是多选模式\n       */\n      isMultiSelect: false,\n      /**\n       * 缩放百分比，实际值为`zoomRatio / 100`，是一个百分比的值\n       */\n      zoomRatio: 100,\n      // -----------------------以下为拓展实际需求，是自己加的------------------------//\n      /**\n       * `itempanel`的分组数据，从外部传入\n       */\n      itemGroup: {'':[]},\n      activeKey: '',\n      /**\n       * 是否允许保存，当发生历史性变化的时候，才允许保存\n       */\n      disableSave: true\n    }\n  },\n  watch: {\n    nodeName (newValue) {\n      this.flow.update(this.nodeId, {\n        label: newValue\n      })\n    },\n    nodeWidth (newValue) {\n      this.flow.update(this.nodeId, {\n        size: `${newValue}*${this.nodeHeight}`\n      })\n    },\n    nodeHeight (newValue) {\n      this.flow.update(this.nodeId, {\n        size: `${this.nodeWidth}*${newValue}`\n      })\n    },\n    multiColor (newValue) {\n      this.multiId.forEach(id => {\n        this.flow.update(id, {\n          color: newValue\n        })\n      })\n    },\n    nodeColor (newValue, oldValue) {\n      if (oldValue === null) return\n      this.flow.update(this.nodeId, {\n        color: newValue\n      })\n    },\n    edgeName (newValue) {\n      if (newValue === null) return\n      this.flow.update(this.edgeId, {\n        label: {\n          text: newValue\n        }\n      })\n    },\n    groupName (newValue) {\n      if (newValue === null) return\n      this.flow.update(this.groupId, {\n        label: newValue\n      })\n    },\n    groupColor (newValue) {\n      if (newValue === null) return\n      this.flow.update(this.groupId, {\n        color: newValue\n      })\n    },\n    zoomRatio (newValue) {\n      this.graph.zoom(newValue / 100)\n    },\n    /**\n     * 当外部传入的`graph`所需要的数据发生变化时，重新绘制\n     */\n    data (newValue) {\n      this.flow.read(this.data);\n    },\n    /**\n     * 当外部传入的`itempanel`所需要的数据发生变化时，重新绘制\n     */\n    items (newValue) {\n      this.initItems();\n    },\n    /**\n     * 设置默认选中项目为第一项\n     */\n    itemGroup (value) {\n      this.activeKey = Object.keys(value)[0] || '';\n    }\n  },\n  created () {\n  },\n  mounted () {\n    this.initEditor();\n    window.vm = this;\n    \n  },\n  activated () {\n    this.initItems();\n    // 流图读取数据\n    this.data && this.flow.read(this.data);\n  },\n  methods: {\n    /**\n     * @description: 初始化编辑器\n     */\n    initEditor () {\n      const editor = new G6Editor();\n      this.editor = editor;\n      // 关闭追踪反馈\n      G6Editor.track(false);\n      // 基础流程图\n      this.flow = new G6Editor.Flow({\n        graph: {\n          container: this.$refs.flow,\n          minZoom: 0.5,\n          maxZoom: 2,\n        },\n        align: {\n          grid: true // 网格对齐\n        },\n        grid: {\n          cell: 20 // 网孔尺寸\n        },\n        shortcut: {\n          zoomIn: true, // 开启放大快捷键\n          zoomOut: true // 开启视口缩小快捷键\n        },\n        // 不显示没有终点的边\n        noEndEdge: false\n      });   \n      // 流程图图类\n      this.itempannel = new G6Editor.Itempannel({\n        container: this.$refs.itempannel\n      });\n      // 缩略图\n      this.minimap = new G6Editor.Minimap({\n        container: this.$refs.minimap\n      });\n      // 命令工具\n      this.toolbar = new G6Editor.Toolbar({\n        container: this.$refs.toolbar\n      });\n      // 右键菜单\n      this.contextmenu = new G6Editor.Contextmenu({\n        container: this.$refs.contextmenu\n      });\n      // 详细信息面板\n      this.detailpannel = new G6Editor.Detailpannel({\n        container: this.$refs.detailpannel\n      });\n      // 通过editor添加关联\n      editor.add(this.flow);\n      editor.add(this.itempannel);\n      editor.add(this.minimap);\n      editor.add(this.toolbar);\n      editor.add(this.contextmenu);\n      editor.add(this.detailpannel);\n      // 升级清晰度\n      this.upClarity(1.5);\n      // 流图读取数据\n      this.data && this.flow.read(this.data);\n      // 获取流图的graph示例\n      this.graph = this.flow.getGraph();\n      // 居中画布中的内容\n      this.graph.setFitView('cc');\n      \n      // 获取当前页\n      this.page = editor.getCurrentPage();\n      // 默认关闭网格对齐\n      this.page.hideGrid();\n      // 设置已连线样式\n      this.graph.edge({\n        shape: 'custom-flow-polyline-round',\n        style: {\n          stroke: '#79838e'\n        },\n        labelRectStyle: {\n          fill: '#ffffff'\n        }\n      });\n      // 设置动态连接线样式（准备连时的样子）\n      this.page.changeAddEdgeModel({\n        shape: 'flow-polyline-round',\n      });\n      // 监听命令\n      this.listenCommand();\n      // 监听事件\n      this.listenEvent();\n    },\n    /**\n     * 初始化左边的`ItemPanel`\n     */\n    initItems () {\n      const { dataMapping, items } = this;\n      items.forEach(item => {\n        // 注册节点类型\n        G6Editor.Flow.registerNode(item.name, {\n        /**\n         * 绘制函数\n         * node - 拖拽进入`graph`的实例\n         * this - 外部注册时构造的对象（注册节点），携带有自定义数据\n         * 主意： this信息要复制给node\n         */\n          draw (node) {\n            // 映射函数，将业务数据映射到图上\n            dataMapping(node, item);\n            // 获取组\n            const group = node.getGraphicGroup();\n            // 获取模型\n            const model = node.getModel();\n            // TODO:这里的大小数组后期要进行修订\n            const width = 100;\n            const height = 100;\n            const x = - width / 2;\n            const y = - height / 2;\n            const keyShape = group.addShape('rect', {\n              attrs: {\n                x,y,width,height,\n              // https://github.com/antvis/g6-editor/blob/master/demos/rc-components/ModelFlowEditor.jsx 这三个属性貌似没用\n              // color: 'red',\n              // fill: 'white',\n              // stroke: '#CED4D9',\n              },\n            });\n            group.addShape('image', {\n              attrs: {\n                x,y,width,height,\n                img: '/static/images/example.png'\n              }\n            });\n            // 名称文本\n            const label = model.label;\n            group.addShape('text', {\n              attrs: {\n                text: label,\n                x: 0,\n                y: 64,\n                textAlign: 'center',\n                textBaseline: 'middle',\n                fill: 'rgba(0, 0, 0, 0.85)',\n              },\n            });\n            return keyShape;\n          },\n          anchor: item.anchors\n        });\n      });\n      this.$set(this, 'itemGroup', groupBy(prop('group'), this.items));\n    },\n    /**\n     * 监听命令\n     */\n    listenCommand () {\n      let graphItems = [];\n      this.editor.on('beforecommandexecute', ev => {\n        graphItems = this.getItems();\n      });\n      this.editor.on('aftercommandexecute', ev => {\n        const command = ev.command.name;\n        if (command === 'multiSelect') {\n          this.multiId = []; // 多选前清空上一个状态\n          this.isMultiSelect = true;\n        } else if (command === 'undo') {\n          this.isMultiSelect = false;\n        } \n        // else if (command === 'add') {\n        //   this.$emit(ev.command.type + 'Added', this.graph.getItem(ev.command.addId));\n        // } else if (command === 'delete') {\n        //   const removed = graphItems.filter(item => {\n        //     return ~ev.command.itemIds.indexOf(item.id);\n        //   });\n        //   removed.forEach(item => {\n        //     this.$emit((item.type || 'edge') + 'Removed', item);\n        //   });\n        // } else if (~['paste', 'pasteHere'].indexOf(command)) {\n        //   ev.command.itemIds.forEach(itemId => {\n        //     this.$emit('nodeAdded', this.graph.getItem(itemId));\n        //   });\n        // }\n      });\n    },\n    /**\n     * 监听事件\n     */\n    listenEvent () {\n      // 选中项后，`item`包含`node`、`edge`以及`group`;\n      this.page.on('afteritemselected', ev => {\n        // 判断数据类型\n        switch (ev.item.type) {\n        case 'node':\n          if (!this.isMultiSelect) {\n            this.nodeId = ev.item.model.id\n            this.nodeName = ev.item.model.label;\n            [this.nodeWidth, this.nodeHeight] = ev.item.model.size.split('*')\n            this.nodeColor = ev.item.model.color\n          } else {\n            this.multiId.push(ev.item.model.id)\n            this.multiColor = ev.item.model.color\n          }\n          break\n        case 'edge':\n          this.edgeId = ev.item.model.id;\n          this.edgeName = ev.item.model.label\n            ? ev.item.model.label.text\n            : null;\n          break\n        case 'group':\n          this.groupId = ev.item.model.id\n          this.groupName = ev.item.model.label ? ev.item.model.label : null\n          this.groupColor = ev.item.model.color\n            ? ev.item.model.color\n            : '#f2f4f5'\n          break\n        default:\n          break\n        }\n      });\n      // page事件监听 取消多选\n      this.page.on('beforeitemunselected', () => {\n        this.isMultiSelect = false;\n      });\n      // 节点双击后，向上层组件发出通知\n      this.page.on('node:dblclick', e => {\n        this.$emit('node:dbClick', e);\n      });\n      // this.page.on('hoveranchor:beforeaddedge', e => {\n      //   console.log('hoveranchor:beforeaddedge');\n      //   if (e.anchor.type === 'input') {\n      //     e.cancel = true;\n      //   }\n      // });\n      // 拖拽节点的时候，判断哪些点可以拖动\n      this.page.on('dragedge:beforeshowanchor', e => {\n        // 不允许自己拖动自己\n        if (e.source === e.target) {\n          e.cancel = true;\n        }\n        // 输入对输出\n        if (e.sourceAnchor.type === e.targetAnchor.type) {\n          e.cancel = true;\n        }\n        // 如果已经连接，不允许重复连接\n        if (this.page.anchorHasBeenLinked(e.source, e.sourceAnchor) || this.page.anchorHasBeenLinked(e.target, e.targetAnchor)) {\n          e.cancel = true;\n        }\n        // // 如果拖动的是目标方向，则取消显示目标节点中已被连过的锚点（不明白什么意思，预留）\n        // if (e.dragEndPointType === 'target' && this.page.anchorHasBeenLinked(e.target, e.targetAnchor)) {\n        //   e.cancel = true;\n        // }\n        // // 如果拖动的是源方向，则取消显示源节点中已被连过的锚点（不明白什么意思，预留）\n        // if (e.dragEndPointType === 'source' && this.page.anchorHasBeenLinked(e.source, e.sourceAnchor)) {\n        //   e.cancel = true;\n        // }\n      });\n      // 渲染完成时，向上层组件发出通知，可用于做业务数据和图形数据的绑定\n      this.graph.on('afterrender', e => {\n        this.$emit('render', this.getNodes());\n      });\n      // 当有修改痕迹时，才允许编辑\n      this.graph.on('afterchange', e => {\n        this.disableSave = false;\n      });\n      // 自动更新大小\n      this.graph.on('afterchangesize', () => {\n        this.graph.update()\n      });\n      // 监听画布大小变化\n      this.graph.on('afterzoom', e => {\n        this.zoomRatio = e.updateMatrix[0] * 100;\n      });\n      // 连线悬停时候高亮\n      this.page.on('edge:mouseenter', e => {\n        if (!e.item.isSelected) {\n          highlightEdge(e.shape);\n        }\n      });\n      // 连线取消悬停时还原\n      this.page.on('edge:mouseleave', e => {\n        if (!e.item.isSelected) {\n          unlightEdge(e.shape)\n        }\n      });\n    },\n    /**\n     * @description: 保存流图数据\n     */\n    save () {\n      const graphData = this.flow.save();\n      this.$emit('saved', graphData, {nodes: this.getNodes(), edges: this.getEdges()});\n      this.disableSave = true;\n    },\n    /**\n     * 获取所有绘制元素（包含`node`和`edge`）\n     */\n    getItems () {\n      return [...this.getNodes(), ...this.getEdges()];\n    },\n    /**\n     * 获取所有`edge`实例\n     */\n    getEdges () {\n      return this.graph.getEdges();\n    },\n    /**\n     * 获取所有`node`实例\n     */\n    getNodes () {\n      return this.graph.getNodes();\n    },\n    /**\n     * 显示或隐藏网格\n     */\n    changeGridShowOrHide (e) {\n      e.target.checked ? this.page.showGrid() : this.page.hideGrid();\n    },\n    /**\n     * 改变缩放比例\n     */\n    changeZoomRatio (value) {\n      // this.graph.zoom(value / 100);\n      this.zoomRatio = value;\n    },\n    /**\n     * @description: 下载流图\n     */\n    download () {\n      this.page.hideGrid()\n      this.graph.setFitView('cc')\n      const canvas = this.$refs.flow.childNodes[0].childNodes[0]\n      const imgData = canvas.toDataURL('image/png')\n      // const pdf = new JsPDF({\n      //   orientation: 'l', // 竖排\n      //   unit: 'pt',\n      //   format: 'a4'\n      // })\n      // // const width = 1190.55 // a3\n      // const pdfWidth = 840.51 // a4\n      // pdf.addImage(imgData, 'PNG', 0, 0,\n      //   pdfWidth, pdfWidth / canvas.width * canvas.height, '', 'FAST')\n      // pdf.save('download.pdf')\n      const a = document.createElement('a');\n      a.href = imgData;\n      a.download = 'download.png';\n      a.click();\n      a.remove();\n    },\n    /**\n     * @description: 格式化\n     */\n    formatTooltip (val) {\n      return `缩放比${val}%`\n    },\n    /**\n     * 升级清晰度\n     */\n    upClarity (value) {\n      // 增强清晰度\n      const canvas = this.$refs.flow.childNodes[0].childNodes[0];\n      const clarity = Number(value) || 1.5; // 清晰度\n      const dpr = window.devicePixelRatio && window.devicePixelRatio >= clarity\n        ? window.devicePixelRatio : clarity;\n      const rect = canvas.getBoundingClientRect();\n      canvas.width = rect.width * dpr;\n      canvas.height = rect.height * dpr;\n      const ctx = canvas.getContext('2d');\n      ctx.scale(dpr, dpr);\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n/* icon-font */\n@import 'assets/icon/g6_editor_font.css';\n\n.editor {\n  position: relative;\n  width: 100%;\n  height: calc(100% - 20px)!important;\n  // 顶部工具栏\n  .top-container {\n    position: absolute;\n    padding: 4px 16px;\n    width: 100%;\n    border: 1px solid #e9e9e9;\n    height: 42px;\n    display: flex;\n    // justify-content: space-between;\n    align-items: center;\n    background: #ffffff;\n    box-shadow: 0px 8px 12px 0px rgba(0, 52, 107, 0.04);\n    // 工具栏\n    .toolbar {\n      height: 100%;\n      // 命令按钮\n      .command {\n        &:hover {\n          border: 1px solid #d9d9d9;\n        }\n        color: #1890ff;\n        border: 1px solid transparent;\n        width: 32px;\n        height: 32px;\n        margin: 0px 6px;\n        border-radius: 2px;\n        padding-left: 6px;\n        display: inline-block;\n        // border: 1px solid rgba(2, 2, 2, 0);\n      }\n      .disable {\n        color: rgba(0, 0, 0, 0.25);\n      }\n    }\n    // 工具栏中靠右的部分\n    .data-opt {\n      // width: 20%;\n      height: 100%;\n      text-align: right;\n      padding: 8px 0px;\n      position: absolute;\n      right: 16px;\n    }\n  }\n  // 底部区域（左项目面板、中心画布、右属性面板）\n  .bottom-container {\n    padding-top: 41px;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    background: #f7f9fb;\n    justify-content: space-around;\n    // .title {\n    //   display: flex;\n    //   width: 100%;\n    //   align-items: center;\n    //   height: 34px;\n    //   font-weight: 600;\n    //   font-size: 16px;\n    //   padding: 0 20px;\n    //   background: #cfd4d9;\n    // }\n    // 左边面板\n    .left-pannel {\n      width: 200px;\n      min-width: 200px;\n      height: 100%;\n      padding: 0px;\n      display: inline-flex;\n      flex-direction: column;\n      align-items: center;\n      // 项目面板\n      .itempannel-container {\n        width: 199px;\n        height: 192px;\n        // 项目中的图\n        img {\n          width: 64px;\n          height: 64px;\n          padding: 4px;\n          margin-left: 4px;\n          margin-right: 4px;\n          border-radius: 2px;\n          border: 1px solid rgba(0, 0, 0, 0);\n          vertical-align: middle;\n          cursor: pointer;\n        }\n      }\n    }\n    // 中间画布\n    .center-pannel {\n      background: #ffffff;\n      display: inline-block;\n      width: 75%;\n      height: 100%;\n      border: 1px solid #dedbe2;\n      // 流程图\n      .flow {\n        width: 100%;\n        height: 100%;\n        // height: -webkit-fill-available;\n        overflow: hidden;\n      }\n      // 右键菜单\n      .contextmenu {\n        margin: 0px;\n        padding: 4px 0px;\n        width: 120px;\n        text-align: left;\n        background: white;\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n        border-radius: 4px;\n        background-clip: padding-box;\n        color: #000;\n        font-size: 12px;\n        font-variant: tabular-nums;\n        line-height: 1.5;\n        display: none;\n        // 命令\n        .command {\n          height: 22px;\n          padding: 4px 12px;\n          margin: 0;\n          clear: both;\n          font-size: 14px;\n          font-weight: normal;\n          color: rgba(0, 0, 0, 0.65);\n          white-space: nowrap;\n          cursor: pointer;\n          transition: all 0.3s;\n          line-height: 22px;\n          box-sizing: content-box;\n        }\n        span {\n          margin-left: 8px;\n        }\n        // 命令悬停\n        .command:hover {\n          cursor: pointer;\n          background: #e6f7ff;\n        }\n        // 命令禁用\n        .disable {\n          color: rgba(0, 0, 0, 0.25);\n        }\n      }\n    }\n    // 右边面板\n    .right-pannel {\n      width: 240px;\n      min-width: 240px;\n      height: 100%;\n      display: inline-flex;\n      flex-direction: column;\n      // 画布详情\n      .detail-pannel {\n        width: 100%;\n        height: calc(100% - 328px);\n        min-height: 114px;\n        background: #f7f9fb;\n        border-left: 1px solid #e6e9ed;\n        font-size: 13px;\n        .pannel {\n          height: 100%;\n          overflow-y: hidden;\n        }\n        // 标题\n        .pannel-title {\n          height: 48px;\n          border-top: 1px solid #dce3e8;\n          border-bottom: 1px solid #dce3e8;\n          background: #ebeef2;\n          color: #000;\n          line-height: 48px;\n          padding-left: 12px;\n        }\n        // 内容区域\n        .block-container {\n          padding: 16px 8px;\n          .p {\n            margin-bottom: 12px;\n          }\n          .p.name {\n            .el-input {\n              width: 60%;\n              padding: 0 10px;\n            }\n          }\n          .p.size {\n            .el-input {\n              width: 30%;\n              padding: 0 10px;\n            }\n          }\n          .p.color {\n            .el-color-picker {\n              vertical-align: middle;\n            }\n          }\n        }\n      }\n      // 导航器\n      .navigator {\n        width: 100%;\n        height: 288px;\n        z-index: 99;\n        // 标题\n        .pannel-title {\n          display: block;\n          height: 48px;\n          border-top: 1px solid #dce3e8;\n          border-bottom: 1px solid #dce3e8;\n          background: #ebeef2;\n          color: #000;\n          line-height: 48px;\n          padding-left: 12px;\n        }\n        // 缩略图\n        .mini-map {\n          width: 100%;\n          height: 240px;\n        }\n      }\n      // 缩放条\n      .zoom-slider {\n        width: 100%;\n        height: 40px;\n        padding: 4px 10px;\n        background: #ffffff;\n      }\n    }\n  }\n}\n\n.ant-collapse {\n  /deep/ .ant-collapse-header {\n    // height: 32px;\n    border-top: 1px solid #dce3e8;\n    border-bottom: 1px solid #dce3e8;\n    background: #ebeef2;\n    color: #000;\n    // line-height: 32px;\n    // padding-left: 12px;\n  }\n}\n\n</style>","import mod from \"-!../../../node_modules/happypack/loader.js?id=happybabel!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseFlow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/happypack/loader.js?id=happybabel!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseFlow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseFlow.vue?vue&type=template&id=5b877872&scoped=true&\"\nimport script from \"./BaseFlow.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseFlow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BaseFlow.vue?vue&type=style&index=0&id=5b877872&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b877872\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/loong/gitlab/vsee-cloud/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5b877872', component.options)\n    } else {\n      api.reload('5b877872', component.options)\n    }\n    module.hot.accept(\"./BaseFlow.vue?vue&type=template&id=5b877872&scoped=true&\", function () {\n      api.rerender('5b877872', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/G6Editor/BaseFlow.vue\"\nexport default component.exports"],"sourceRoot":""}