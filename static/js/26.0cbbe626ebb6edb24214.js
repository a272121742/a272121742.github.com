(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{Fojh:function(a,b,c){window,a.exports=function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}return i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=16)}([,,,,,,,,,function(t,e,n){function r(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}var o=n(17),i=n(12),a=n(14),s={getActivedStyle:function(){},getSelectedStyle:function(){},getStyle:function(){},getPath:function(){}};function u(t,e,n){var r=[];return r=a.isString(t)?[e,t]:a.isArray(t)?(t.unshift(e),t):[e],n&&r.unshift(n+"-base"),r}o.registerNode("page-base",r({},s)),o.registerEdge("page-base",r({},s)),o.registerGroup("page-base",r({},s)),o.registerGuide("page-base",r({},s)),i.setRegister=function(t,r,i){t.registerNode=function(t,e,n){o.registerNode(t,e,u(n,r+"-base",i))},t.registerEdge=function(t,e,n){o.registerEdge(t,e,u(n,r+"-base",i))},t.registerGroup=function(t,e,n){o.registerGroup(t,e,u(n,r+"-base",i))},t.registerGuide=function(t,e,n){o.registerGuide(t,e,u(n,r+"-base",i))},t.registerBehaviour=function(t,n,e){o.registerBehaviour(t,function(t){var e=t.get("page");e.set("_graph",t),n(e)},e)}},i.setRegister(i,"page"),n(166),t.exports=i},,function(t,e,n){var r=n(17),i=n(63),o=n(146),a=n(145),s=function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({},r.Util,i,o,a);t.exports=s},function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(65),h=n(14),l=n(27),r=n(176),f=n(175),d=n(173),g=[r,n(172),n(171),f,d,n(170),n(168),n(167)],p=function(){function r(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var n={defaultData:null,shortcut:{redo:!0,undo:!0,delete:!0,resetZoom:!0,autoZoom:!0,zoomIn:!0,zoomOut:!0},_controllers:{},_signals:{}};return h.each(g,function(t){h.mix(n,t.CFG)}),h.mix(!0,n,t),(e=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,a(r).call(this,n))).isPage=!0,e.type="page",e._init(),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,c),function(t,e){o(t.prototype,e)}(r,[{key:"getDelegation",value:function(t,e){var n;if(1!==t.length||t[0].isNode||t[0].isGroup){var r=h.getTotalBBox(t.map(function(t){return t.getBBox()}));(n=h.getRectByBox(r,e,l.nodeDelegationStyle)).set("capture",!1)}else t[0].isEdge?n=e.addShape("path",{attrs:s({path:"M0 0L 1 1"},l.edgeDelegationStyle),capture:!1}):(n=h.getRectByBox(t[0],e,l.nodeDelegationStyle)).set("capture",!1);return n}},{key:"focusGraphWrapper",value:function(){this.getGraph().getKeyboardEventWrapper().focus()}},{key:"saveImage",value:function(t){var e,n,r=this,i=this.getGraph(),o=i.getBBox(),a=i.getFitViewPadding();return i.saveImage(s({width:o.width+a[1]+a[3],height:o.height+a[0]+a[2],beforeTransform:function(){e=r.getSelected().map(function(t){return t.id}),n=r.getSelected().map(function(t){return t.id}),r.clearSelected(),r.clearActived()},afterTransform:function(){r.setSelected(e,!0),r.setActived(n,!0)}},t))}},{key:"_init",value:function(){var e=this;h.each(g,function(t){t.INIT&&e[t.INIT]()}),this.bindEvent(),this._cacheBBox()}},{key:"executeCommand",value:function(t,e){var n=this.editor;n?n.executeCommand(t,e):t()}},{key:"_cacheBBox",value:function(){var t=this.getGraph();this.set("bboxCache",t.getBBox())}},{key:"bindEvent",value:function(){var t=this;this.getGraph().on("afterchange",function(){t._cacheBBox()})}},{key:"translateLimt",value:function(t){var e=this.getGraph(),n=this.get("bboxCache"),r=e.getWidth(),i=e.getHeight(),o=[n.minX,n.minY,1],a=[n.maxX,n.maxY,1];return h.vec3.transformMat3(o,o,t),h.vec3.transformMat3(a,a,t),a[0]<100&&h.mat3.translate(t,t,[100-a[0],0]),a[1]<100&&h.mat3.translate(t,t,[0,100-a[1]]),i-100<o[1]&&h.mat3.translate(t,t,[0,i-100-o[1]]),r-100<o[0]&&h.mat3.translate(t,t,[r-100-o[0],0]),!0}},{key:"setSignal",value:function(t,e){this.get("_signals")[t]=e}},{key:"getSignal",value:function(t){return this.get("_signals")[t]}},{key:"setController",value:function(t,e){this.get("_controllers")[t]=e}},{key:"getController",value:function(t){return this.get("_controllers")[t]}},{key:"destroy",value:function(){var t=this.get("_graph"),e=this.get("_controllers");h.each(e,function(t){t.destroy()}),t.destroy()}}]),r}();h.each(g,function(t){h.mix(p.prototype,t.AUGMENT)}),t.exports=p},function(t,e){t.exports={orbitGap:10,nodeDefaultShape:"flow-node",edgeDefaultShape:"flow-smooth",groupDefaultShape:"flow-group",nodeActivedOutterStyle:{lineWidth:0},groupSelectedOutterStyle:{stroke:"#E0F0FF",lineWidth:2},nodeSelectedOutterStyle:{stroke:"#E0F0FF",lineWidth:2},edgeActivedStyle:{stroke:"#1890FF",strokeOpacity:.92},nodeActivedStyle:{fill:"#F3F9FF",stroke:"#1890FF"},groupActivedStyle:{stroke:"#1890FF"},edgeSelectedStyle:{lineWidth:2,strokeOpacity:.92,stroke:"#A3B1BF"},nodeSelectedStyle:{fill:"#F3F9FF",stroke:"#1890FF"},groupSelectedStyle:{stroke:"#1890FF",fillOpacity:.92},nodeStyle:{stroke:"#CED4D9",fill:"#FFFFFF",shadowOffsetX:0,shadowOffsetY:4,shadowBlur:10,shadowColor:"rgba(13, 26, 38, 0.08)",lineWidth:1,radius:4,fillOpacity:.92},edgeStyle:{stroke:"#A3B1BF",strokeOpacity:.92,lineWidth:1,lineAppendWidth:8,endArrow:!0},groupBackgroundPadding:[40,10,10,10],groupLabelOffsetX:10,groupLabelOffsetY:10,edgeLabelStyle:{fill:"#666",textAlign:"center",textBaseline:"middle"},edgeLabelRectPadding:4,edgeLabelRectStyle:{fill:"white"},nodeLabelStyle:{fill:"#666",textAlign:"center",textBaseline:"middle"},groupStyle:{stroke:"#CED4D9",radius:4},groupLabelStyle:{fill:"#666",textAlign:"left",textBaseline:"top"},multiSelectRectStyle:{fill:"#1890FF",fillOpacity:.08,stroke:"#1890FF",opacity:.1},dragNodeHoverToGroupStyle:{stroke:"#1890FF",lineWidth:2},dragNodeLeaveFromGroupStyle:{stroke:"#BAE7FF",lineWidth:2},anchorPointStyle:{radius:3.5,fill:"#fff",stroke:"#1890FF",lineAppendWidth:12},anchorHotsoptStyle:{radius:12,fill:"#1890FF",fillOpacity:.25},anchorHotsoptActivedStyle:{radius:14},anchorPointHoverStyle:{radius:4,fill:"#1890FF",fillOpacity:1,stroke:"#1890FF"},nodeControlPointStyle:{radius:4,fill:"#fff",shadowBlur:4,shadowColor:"#666"},edgeControlPointStyle:{radius:6,symbol:"square",lineAppendWidth:6,fillOpacity:0,strokeOpacity:0},nodeSelectedBoxStyle:{stroke:"#C2C2C2"},cursor:{panningCanvas:"-webkit-grabbing",beforePanCanvas:"-webkit-grab",hoverNode:"move",hoverEffectiveAnchor:"crosshair",hoverEdge:"default",hoverGroup:"move",hoverUnEffectiveAnchor:"default",hoverEdgeControllPoint:"crosshair",multiSelect:"crosshair"},zIndex:{anchorPoint:3,anchorHotsopt:2,selectedBox:1,controlPoint:4},polylineEdgeStyle:{offset:10,borderRadius:5},addToGroupDelayTime:400,outFromGroupDelayTime:400}},function(t,e,n){var u=n(19),r=n(27),o=u.createDOM("<canvas>").getContext("2d");t.exports=function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({},u,{getPanCanvasBehaviour:function(e){return function(i){var o,a,s=i.getGraph();s.behaviourOn("canvas:mouseenter",function(){i.css({cursor:r.cursor.beforePanCanvas})}),s.behaviourOn("mouseleave",function(t){t.toShape||i.css({cursor:r.cursor.beforePanCanvas})}),s.behaviourOn("dragstart",function(t){(2!==t.button&&!e||!t.shape||t.item&&!1===t.item.dragable)&&(o={x:t.domX,y:t.domY},i.css({cursor:r.cursor.panningCanvas}),a=s.getMatrix(),i.setCapture(!1))}),s.behaviourOn("drag",function(t){if(o){var e=t.domX-o.x,n=t.domY-o.y,r=[];u.mat3.translate(r,a,[e,n]),i.translateLimt(r)&&(s.updateMatrix(r),s.draw())}}),s.behaviourOn("dragend",function(){a=o=void 0,i.setCapture(!0),i.css({cursor:r.cursor.beforePanCanvas})})}},getLabelTextByTextLineWidth:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:320;o.font=e;var r=o.measureText(t).width;if(n<r){r=0;for(var i=1;i<t.length;i++)(r+=o.measureText(t[i]).width)>=n&&(t=t.substring(0,i)+"\n"+t.substring(i,t.length),i+=1,r=0)}return t}})},,function(t,e,n){var r=n(184),i=n(19),o=n(38),a=n(177),s=n(17);(r.Editor=r).Util=i,r.Page=n(9),r.Flow=n(147),r.Koni=n(109),r.Mind=n(104),r.Minimap=n(89),r.Toolbar=n(87),r.Contextmenu=n(86),r.Itempannel=n(85),r.Detailpannel=n(84),r.Command=n(38),r.registerBehaviour=r.Page.registerBehaviour,r.registerNode=r.Page.registerNode,r.registerEdge=r.Page.registerEdge,r.registerGroup=r.Page.registerGroup,r.registerGuide=r.Page.registerGuide,r.registerCommand=o.registerCommand,r.version=a,r.track=function(t){var e={G6Editor:!0};i.isObject(t)?s.track(function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({},e,t)):t?s.track(e):s.track(t)},r.track(!0),t.exports=r},function(qd,rd,sd){window,qd.exports=function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}return i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=594)}([,function(t,e,n){"use strict";var r=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function i(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function c(){}var o="\\s*([+-]?\\d+)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3})$/,h=/^#([0-9a-f]{6})$/,l=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),f=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),d=new RegExp("^rgba\\("+[o,o,o,a]+"\\)$"),g=new RegExp("^rgba\\("+[s,s,s,a]+"\\)$"),p=new RegExp("^hsl\\("+[a,s,s]+"\\)$"),m=new RegExp("^hsla\\("+[a,s,s,a]+"\\)$"),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(t){var e;return t=(t+"").trim().toLowerCase(),(e=u.exec(t))?new S((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=h.exec(t))?x(parseInt(e[1],16)):(e=l.exec(t))?new S(e[1],e[2],e[3],1):(e=f.exec(t))?new S(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=d.exec(t))?b(e[1],e[2],e[3],e[4]):(e=g.exec(t))?b(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=p.exec(t))?P(e[1],e[2]/100,e[3]/100,1):(e=m.exec(t))?P(e[1],e[2]/100,e[3]/100,e[4]):v.hasOwnProperty(t)?x(v[t]):"transparent"===t?new S(NaN,NaN,NaN,0):null}function x(t){return new S(t>>16&255,t>>8&255,255&t,1)}function b(t,e,n,r){return r<=0&&(t=e=n=NaN),new S(t,e,n,r)}function w(t){return t instanceof c||(t=y(t)),t?new S((t=t.rgb()).r,t.g,t.b,t.opacity):new S}function _(t,e,n,r){return 1===arguments.length?w(t):new S(t,e,n,null==r?1:r)}function S(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function M(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function P(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new E(t,e,n,r)}function O(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof E)return new E(t.h,t.s,t.l,t.opacity);if(t instanceof c||(t=y(t)),!t)return new E;if(t instanceof E)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=0<u&&u<1?0:a,new E(a,s,u,t.opacity)}(t):new E(t,e,n,null==r?1:r)}function E(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function A(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}r(c,y,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),r(S,_,i(c,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+M(this.r)+M(this.g)+M(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),r(E,O,i(c,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new E(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new E(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new S(A(240<=t?t-240:120+t,i,r),A(t,i,r),A(t<120?240+t:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var C=Math.PI/180,k=180/Math.PI,I=.96422,B=1,j=.82521,T=4/29,L=6/29,N=3*L*L,D=L*L*L;function G(t){if(t instanceof F)return new F(t.l,t.a,t.b,t.opacity);if(t instanceof K){if(isNaN(t.h))return new F(t.l,0,0,t.opacity);var e=t.h*C;return new F(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof S||(t=w(t));var n,r,i=q(t.r),o=q(t.g),a=q(t.b),s=R((.2225045*i+.7168786*o+.0606169*a)/B);return i===o&&o===a?n=r=s:(n=R((.4360747*i+.3850649*o+.1430804*a)/I),r=R((.0139322*i+.0971045*o+.7141733*a)/j)),new F(116*s-16,500*(n-s),200*(s-r),t.opacity)}function Y(t,e){return new F(t,0,0,null==e?1:e)}function X(t,e,n,r){return 1===arguments.length?G(t):new F(t,e,n,null==r?1:r)}function F(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function R(t){return D<t?Math.pow(t,1/3):t/N+T}function H(t){return L<t?t*t*t:N*(t-T)}function z(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function q(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function U(t){if(t instanceof K)return new K(t.h,t.c,t.l,t.opacity);if(t instanceof F||(t=G(t)),0===t.a&&0===t.b)return new K(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*k;return new K(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function W(t,e,n,r){return 1===arguments.length?U(t):new K(n,e,t,null==r?1:r)}function V(t,e,n,r){return 1===arguments.length?U(t):new K(t,e,n,null==r?1:r)}function K(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}r(F,X,i(c,{brighter:function(t){return new F(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new F(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new S(z(3.1338561*(e=I*H(e))-1.6168667*(t=B*H(t))-.4906146*(n=j*H(n))),z(-.9787684*e+1.9161415*t+.033454*n),z(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),r(K,V,i(c,{brighter:function(t){return new K(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new K(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return G(this).rgb()}}));var Z=1.78277,Q=-.29227,$=-.90649,J=1.97294,tt=J*$,et=J*Z,nt=Z*Q- -.14861*$;function rt(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof it)return new it(t.h,t.s,t.l,t.opacity);t instanceof S||(t=w(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(nt*r+tt*e-et*n)/(nt+tt-et),o=r-i,a=(J*(n-i)-Q*o)/$,s=Math.sqrt(a*a+o*o)/(J*i*(1-i)),u=s?Math.atan2(a,o)*k-120:NaN;return new it(u<0?u+360:u,s,i,t.opacity)}(t):new it(t,e,n,null==r?1:r)}function it(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}r(it,rt,i(c,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new it(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new it(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*C,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new S(255*(e+n*(-.14861*r+Z*i)),255*(e+n*(Q*r+$*i)),255*(e+J*r*n),this.opacity)}})),n.d(e,"a",function(){return y}),n.d(e,"h",function(){return _}),n.d(e,"e",function(){return O}),n.d(e,"f",function(){return X}),n.d(e,"d",function(){return V}),n.d(e,"g",function(){return W}),n.d(e,"c",function(){return Y}),n.d(e,"b",function(){return rt})},,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var i,o,r=0,a=0,s=0,u=1e3,c=0,h=0,l=0,f="object"==typeof performance&&performance.now?performance:Date,d="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function g(){return h||(d(p),h=f.now()+l)}function p(){h=0}function m(){this._call=this._time=this._next=null}function v(t,e,n){var r=new m;return r.restart(t,e,n),r}function y(){g(),++r;for(var t,e=i;e;)0<=(t=h-e._time)&&e._call.call(null,t),e=e._next;--r}function x(){h=(c=f.now())+l,r=a=0;try{y()}finally{r=0,function(){for(var t,e,n=i,r=1/0;n;)n=n._call?(r>n._time&&(r=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:i=e);o=t,w(r)}(),h=0}}function b(){var t=f.now(),e=t-c;u<e&&(l-=e,c=t)}function w(t){r||(a&&(a=clearTimeout(a)),24<t-h?(t<1/0&&(a=setTimeout(x,t-f.now()-l)),s&&(s=clearInterval(s))):(s||(c=f.now(),s=setInterval(b,u)),r=1,d(x)))}m.prototype=v.prototype={constructor:m,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?g():+n)+(null==e?0:+e),this._next||o===this||(o?o._next=this:i=this,o=this),this._call=t,this._time=n,w()},stop:function(){this._call&&(this._call=null,this._time=1/0,w())}};var _=function(e,n,t){var r=new m;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r},S=function(n,r,i){var o=new m,a=r;return null==r?o.restart(n,r,i):(r=+r,i=null==i?g():+i,o.restart(function t(e){e+=a,o.restart(t,a+=r,i),n(e)},r,i)),o};n.d(e,"now",function(){return g}),n.d(e,"timer",function(){return v}),n.d(e,"timerFlush",function(){return y}),n.d(e,"timeout",function(){return _}),n.d(e,"interval",function(){return S})},,function(t,e,n){var r=n(408),o={};r.merge(o,r,{mixin:function(n,t){var r=n.CFG?"CFG":"ATTRS";if(n&&t){n._mixins=t,n[r]=n[r]||{};var i={};o.each(t,function(t){o.augment(n,t);var e=t[r];e&&o.merge(i,e)}),n[r]=o.merge(i,n[r])}}}),t.exports=o},,,,,function(t,e,n){var r={},i=n(448),o=n(514),a=n(152),s=n(493),u=n(492),c=n(491);a.mix(r,a,u,c,s,o,i),t.exports=r},,,,,,function(t,e,n){"use strict";function r(t){return+t}function i(t){return t*t}function o(t){return t*(2-t)}function a(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function s(t){return t*t*t}function u(t){return--t*t*t+1}function c(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}n.r(e);var h=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),l=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),f=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),d=Math.PI,g=d/2;function p(t){return 1-Math.cos(t*g)}function m(t){return Math.sin(t*g)}function v(t){return(1-Math.cos(d*t))/2}function y(t){return Math.pow(2,10*t-10)}function x(t){return 1-Math.pow(2,-10*t)}function b(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function w(t){return 1-Math.sqrt(1-t*t)}function _(t){return Math.sqrt(1- --t*t)}function S(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var M=4/11,P=6/11,O=8/11,E=.75,A=9/11,C=10/11,k=.9375,I=21/22,B=63/64,j=1/M/M;function T(t){return 1-L(1-t)}function L(t){return(t=+t)<M?j*t*t:t<O?j*(t-=P)*t+E:t<C?j*(t-=A)*t+k:j*(t-=I)*t+B}function N(t){return((t*=2)<=1?1-L(1-t):L(t-1)+1)/2}var D=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),G=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),Y=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),X=2*Math.PI,F=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=X);function t(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/r)}return t.amplitude=function(t){return e(t,r*X)},t.period=function(t){return e(n,t)},t}(1,.3),R=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=X);function t(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/r)}return t.amplitude=function(t){return e(t,r*X)},t.period=function(t){return e(n,t)},t}(1,.3),H=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=X);function t(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/r):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/r))/2}return t.amplitude=function(t){return e(t,r*X)},t.period=function(t){return e(n,t)},t}(1,.3);n.d(e,"easeLinear",function(){return r}),n.d(e,"easeQuad",function(){return a}),n.d(e,"easeQuadIn",function(){return i}),n.d(e,"easeQuadOut",function(){return o}),n.d(e,"easeQuadInOut",function(){return a}),n.d(e,"easeCubic",function(){return c}),n.d(e,"easeCubicIn",function(){return s}),n.d(e,"easeCubicOut",function(){return u}),n.d(e,"easeCubicInOut",function(){return c}),n.d(e,"easePoly",function(){return f}),n.d(e,"easePolyIn",function(){return h}),n.d(e,"easePolyOut",function(){return l}),n.d(e,"easePolyInOut",function(){return f}),n.d(e,"easeSin",function(){return v}),n.d(e,"easeSinIn",function(){return p}),n.d(e,"easeSinOut",function(){return m}),n.d(e,"easeSinInOut",function(){return v}),n.d(e,"easeExp",function(){return b}),n.d(e,"easeExpIn",function(){return y}),n.d(e,"easeExpOut",function(){return x}),n.d(e,"easeExpInOut",function(){return b}),n.d(e,"easeCircle",function(){return S}),n.d(e,"easeCircleIn",function(){return w}),n.d(e,"easeCircleOut",function(){return _}),n.d(e,"easeCircleInOut",function(){return S}),n.d(e,"easeBounce",function(){return L}),n.d(e,"easeBounceIn",function(){return T}),n.d(e,"easeBounceOut",function(){return L}),n.d(e,"easeBounceInOut",function(){return N}),n.d(e,"easeBack",function(){return Y}),n.d(e,"easeBackIn",function(){return D}),n.d(e,"easeBackOut",function(){return G}),n.d(e,"easeBackInOut",function(){return Y}),n.d(e,"easeElastic",function(){return R}),n.d(e,"easeElasticIn",function(){return F}),n.d(e,"easeElasticOut",function(){return R}),n.d(e,"easeElasticInOut",function(){return H})},function(t,e,n){var r=n(60),i=Array.isArray?Array.isArray:function(t){return r(t,"Array")};t.exports=i},function(t,e,n){var o=n(385),a=n(29);t.exports=function(t,e){if(t)if(a(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(o(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break}},,,,,,,function(t,e,n){var o=n(17),r=n(508),i=n(405),a=n(376),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={},o.extend(s,i);var u={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};o.augment(s,r,{isShape:!0,drawInner:function(t){var e=this._attrs;this.createPath(t);var n=t.globalAlpha;if(this.hasFill()){var r=e.fillOpacity;o.isNil(r)||1===r?t.fill():(t.globalAlpha=r,t.fill(),t.globalAlpha=n)}if(this.hasStroke()&&0<this._attrs.lineWidth){var i=e.strokeOpacity;o.isNil(i)||1===i||(t.globalAlpha=i),t.stroke()}this.afterPath(t)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(t,e){var n=[t,e,1];if(this.invert(n),this.isHitBox()){var r=this.getBBox();if(r&&!a.box(r.minX,r.maxX,r.minY,r.maxY,n[0],n[1]))return!1}var i=this._attrs.clip;return i?(i.invert(n,this.get("canvas")),!!i.isPointInPath(n[0],n[1])&&this.isPointInPath(n[0],n[1])):this.isPointInPath(n[0],n[1])},calculateBox:function(){return null},getHitLineWidth:function(){var t=this._attrs,e=t.lineAppendWidth||0;return(t.lineWidth||0)+e},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var t=this._cfg.box;return t||((t=this.calculateBox())&&(t.x=t.minX,t.y=t.minY,t.width=t.maxX-t.minX,t.height=t.maxY-t.minY),this._cfg.box=t),t},clone:function(){var t=null,n=this._attrs,r={};return o.each(n,function(t,e){u[e]&&o.isArray(n[e])?r[e]=function(t){for(var e=[],n=0;n<t.length;n++)o.isArray(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(n[e]):r[e]=n[e]}),(t=new this.constructor({attrs:r}))._cfg.zIndex=this._cfg.zIndex,t}}),t.exports=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*i},e.equals=function(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))};var r=e.EPSILON=1e-6;e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var i=Math.PI/180},,,,,,,,,function(t,e,n){var r=n(60);t.exports=function(t){return r(t,"Function")}},,,,,,,,,,,,,function(t,e){var n={}.toString;t.exports=function(t,e){return n.call(t)==="[object "+e+"]"}},function(a,t,s){var u;!function(t){"use strict";function e(){}var n=e.prototype,r=t.EventEmitter;function o(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}n.getListeners=function(t){var e,n,r=this._getEvents();if(t instanceof RegExp)for(n in e={},r)r.hasOwnProperty(n)&&t.test(n)&&(e[n]=r[n]);else e=r[t]||(r[t]=[]);return e},n.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},n.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&((e={})[t]=n),e||n},n.addListener=function(t,e){if(!function t(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&t(e.listener)}(e))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(t),i="object"==typeof e;for(n in r)r.hasOwnProperty(n)&&-1===o(r[n],e)&&r[n].push(i?e:{listener:e,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,e){var n,r,i=this.getListenersAsObject(t);for(r in i)i.hasOwnProperty(r)&&-1!==(n=o(i[r],e))&&i[r].splice(n,1);return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,n){var r,i,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(r=n.length;r--;)o.call(this,e,n[r]);else for(r in e)e.hasOwnProperty(r)&&(i=e[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},n.removeEvent=function(t){var e,n=typeof t,r=this._getEvents();if("string"==n)delete r[t];else if(t instanceof RegExp)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var n,r,i,o,a=this.getListenersAsObject(t);for(o in a)if(a.hasOwnProperty(o))for(n=a[o].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(t,r.listener),r.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,r.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return t.EventEmitter=r,e},void 0===(u=function(){return e}.call(t,s,t,a))||(a.exports=u)}(this||{})},function(t,e){t.exports=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(60);t.exports=function(t){return r(t,"Number")}},function(t,e){t.exports=function(t){return null==t}},function(t,e,n){"use strict";n.r(e);var u=n(1);function c(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}var r=function(a){var s=a.length-1;return function(t){var e=t<=0?t=0:1<=t?s-(t=1):Math.floor(t*s),n=a[e],r=a[e+1],i=0<e?a[e-1]:2*n-r,o=e<s-1?a[e+2]:2*r-n;return c((t-e/s)*s,i,n,r,o)}},i=function(a){var s=a.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*s),n=a[(e+s-1)%s],r=a[e%s],i=a[(e+1)%s],o=a[(e+2)%s];return c((t-e/s)*s,n,r,i,o)}},o=function(t){return function(){return t}};function a(e,n){return function(t){return e+t*n}}function s(t,e){var n=e-t;return n?a(t,180<n||n<-180?n-360*Math.round(n/360):n):o(isNaN(t)?e:t)}function h(t,e){var n=e-t;return n?a(t,n):o(isNaN(t)?e:t)}var l=function t(e){var a=function(n){return 1==(n=+n)?h:function(t,e){return e-t?function(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(t){return Math.pow(e+t*n,r)}}(t,e,n):o(isNaN(t)?e:t)}}(e);function n(e,t){var n=a((e=Object(u.h)(e)).r,(t=Object(u.h)(t)).r),r=a(e.g,t.g),i=a(e.b,t.b),o=h(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=t,n}(1);function f(s){return function(t){var e,n,r=t.length,i=new Array(r),o=new Array(r),a=new Array(r);for(e=0;e<r;++e)n=Object(u.h)(t[e]),i[e]=n.r||0,o[e]=n.g||0,a[e]=n.b||0;return i=s(i),o=s(o),a=s(a),n.opacity=1,function(t){return n.r=i(t),n.g=o(t),n.b=a(t),n+""}}}var d,g,p,m,v=f(r),y=f(i),x=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=O(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},b=function(e,n){var r=new Date;return n-=e=+e,function(t){return r.setTime(e+n*t),r}},w=function(e,n){return n-=e=+e,function(t){return e+n*t}},_=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=O(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},S=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,M=new RegExp(S.source,"g"),P=function(t,r){var e,n,i,o=S.lastIndex=M.lastIndex=0,a=-1,s=[],u=[];for(t+="",r+="";(e=S.exec(t))&&(n=M.exec(r));)(i=n.index)>o&&(i=r.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(e=e[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,u.push({i:a,x:w(e,n)})),o=M.lastIndex;return o<r.length&&(i=r.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(t){return function(){return t}}(r):(r=u.length,function(t){for(var e,n=0;n<r;++n)s[(e=u[n]).i]=e.x(t);return s.join("")})},O=function(t,e){var n,r=typeof e;return null==e||"boolean"==r?o(e):("number"==r?w:"string"==r?(n=Object(u.a)(e))?(e=n,l):P:e instanceof u.a?l:e instanceof Date?b:Array.isArray(e)?x:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?_:w)(t,e)},E=function(e,n){return n-=e=+e,function(t){return Math.round(e+n*t)}},A=180/Math.PI,C={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},k=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*A,skewX:Math.atan(u)*A,scaleX:a,scaleY:s}};function I(n,s,u,a){function c(t){return t.length?t.pop()+" ":""}return function(t,e){var i=[],o=[];return t=n(t),e=n(e),function(t,e,n,r,i,o){if(t!==n||e!==r){var a=i.push("translate(",null,s,null,u);o.push({i:a-4,x:w(t,n)},{i:a-2,x:w(e,r)})}else(n||r)&&i.push("translate("+n+s+r+u)}(t.translateX,t.translateY,e.translateX,e.translateY,i,o),function(t,e,n,r){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),r.push({i:n.push(c(n)+"rotate(",null,a)-2,x:w(t,e)})):e&&n.push(c(n)+"rotate("+e+a)}(t.rotate,e.rotate,i,o),function(t,e,n,r){t!==e?r.push({i:n.push(c(n)+"skewX(",null,a)-2,x:w(t,e)}):e&&n.push(c(n)+"skewX("+e+a)}(t.skewX,e.skewX,i,o),function(t,e,n,r,i,o){if(t!==n||e!==r){var a=i.push(c(i)+"scale(",null,",",null,")");o.push({i:a-4,x:w(t,n)},{i:a-2,x:w(e,r)})}else 1===n&&1===r||i.push(c(i)+"scale("+n+","+r+")")}(t.scaleX,t.scaleY,e.scaleX,e.scaleY,i,o),t=e=null,function(t){for(var e,n=-1,r=o.length;++n<r;)i[(e=o[n]).i]=e.x(t);return i.join("")}}}var B=I(function(t){return"none"===t?C:(d||(d=document.createElement("DIV"),g=document.documentElement,p=document.defaultView),d.style.transform=t,t=p.getComputedStyle(g.appendChild(d),null).getPropertyValue("transform"),g.removeChild(d),t=t.slice(7,-1).split(","),k(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),j=I(function(t){return null==t?C:(m||(m=document.createElementNS("http://www.w3.org/2000/svg","g")),m.setAttribute("transform",t),(t=m.transform.baseVal.consolidate())?(t=t.matrix,k(t.a,t.b,t.c,t.d,t.e,t.f)):C)},", ",")",")"),T=Math.SQRT2;function L(t){return((t=Math.exp(t))+1/t)/2}var N=function(t,e){var n,i,o=t[0],a=t[1],s=t[2],r=e[0],u=e[1],c=e[2],h=r-o,l=u-a,f=h*h+l*l;if(f<1e-12)i=Math.log(c/s)/T,n=function(t){return[o+t*h,a+t*l,s*Math.exp(T*t*i)]};else{var d=Math.sqrt(f),g=(c*c-s*s+4*f)/(2*s*2*d),p=(c*c-s*s-4*f)/(2*c*2*d),m=Math.log(Math.sqrt(g*g+1)-g),v=Math.log(Math.sqrt(p*p+1)-p);i=(v-m)/T,n=function(t){var e=t*i,n=L(m),r=s/(2*d)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(T*e+m)-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[o+r*h,a+r*l,s*n/L(T*e+m)]}}return n.duration=1e3*i,n};function D(a){return function(e,t){var n=a((e=Object(u.e)(e)).h,(t=Object(u.e)(t)).h),r=h(e.s,t.s),i=h(e.l,t.l),o=h(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(t),e.opacity=o(t),e+""}}}var G=D(s),Y=D(h);function X(e,t){var n=h((e=Object(u.f)(e)).l,(t=Object(u.f)(t)).l),r=h(e.a,t.a),i=h(e.b,t.b),o=h(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}function F(a){return function(e,t){var n=a((e=Object(u.d)(e)).h,(t=Object(u.d)(t)).h),r=h(e.c,t.c),i=h(e.l,t.l),o=h(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=r(t),e.l=i(t),e.opacity=o(t),e+""}}}var R=F(s),H=F(h);function z(s){return function t(a){function e(e,t){var n=s((e=Object(u.b)(e)).h,(t=Object(u.b)(t)).h),r=h(e.s,t.s),i=h(e.l,t.l),o=h(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(Math.pow(t,a)),e.opacity=o(t),e+""}}return a=+a,e.gamma=t,e}(1)}var q=z(s),U=z(h),W=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n};n.d(e,"interpolate",function(){return O}),n.d(e,"interpolateArray",function(){return x}),n.d(e,"interpolateBasis",function(){return r}),n.d(e,"interpolateBasisClosed",function(){return i}),n.d(e,"interpolateDate",function(){return b}),n.d(e,"interpolateNumber",function(){return w}),n.d(e,"interpolateObject",function(){return _}),n.d(e,"interpolateRound",function(){return E}),n.d(e,"interpolateString",function(){return P}),n.d(e,"interpolateTransformCss",function(){return B}),n.d(e,"interpolateTransformSvg",function(){return j}),n.d(e,"interpolateZoom",function(){return N}),n.d(e,"interpolateRgb",function(){return l}),n.d(e,"interpolateRgbBasis",function(){return v}),n.d(e,"interpolateRgbBasisClosed",function(){return y}),n.d(e,"interpolateHsl",function(){return G}),n.d(e,"interpolateHslLong",function(){return Y}),n.d(e,"interpolateLab",function(){return X}),n.d(e,"interpolateHcl",function(){return R}),n.d(e,"interpolateHclLong",function(){return H}),n.d(e,"interpolateCubehelix",function(){return q}),n.d(e,"interpolateCubehelixLong",function(){return U}),n.d(e,"quantize",function(){return W})},,,,,,,,,function(t,e,n){var r=n(372);t.exports={track:!0,defaultNodeSize:40,labelStyle:{fill:"#595959",textAlign:"center",textBaseline:"middle"},groupStyle:{stroke:"#CED4D9",fill:"#F2F4F5",radius:2},groupBackgroundPadding:[40,10,10,10],updateDuration:450,enterDuration:450,leaveDuration:450,updateEasing:"easeQuadOut",enterEasing:"easeQuadOut",leaveEasing:"easeQuadOut",version:r}},function(t,e,n){t.exports={Canvas:n(513),Group:n(406),Shape:n(37),Arc:n(402),Circle:n(401),Dom:n(400),Ellipse:n(399),Fan:n(398),Image:n(397),Line:n(396),Marker:n(374),Path:n(395),Polygon:n(394),Polyline:n(393),Rect:n(392),Text:n(391),PathSegment:n(363),PathUtil:n(373),Event:n(407),version:"3.3.5"}},function(ns,os){var ps;ps=function(){return this}();try{ps=ps||Function("return this")()||eval("this")}catch(ns){"object"==typeof window&&(ps=window)}ns.exports=ps},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=r,e.clone=function(t){var e=new u.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=i,e.fromValues=o,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.subtract=a,e.multiply=s,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},e.distance=h,e.squaredDistance=l,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=d,e.dot=g,e.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t},e.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t},e.hermite=function(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),h=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*c+i[0]*h,t[1]=e[1]*s+n[1]*u+r[1]*c+i[1]*h,t[2]=e[2]*s+n[2]*u+r[2]*c+i[2]*h,t},e.bezier=function(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,h=3*o*s,l=3*u*a,f=u*o;return t[0]=e[0]*c+n[0]*h+r[0]*l+i[0]*f,t[1]=e[1]*c+n[1]*h+r[1]*l+i[1]*f,t[2]=e[2]*c+n[2]*h+r[2]*l+i[2]*f,t},e.random=function(t,e){e=e||1;var n=2*u.RANDOM()*Math.PI,r=2*u.RANDOM()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},e.transformQuat=function(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],c=e[2],h=i*c-o*u,l=o*s-r*c,f=r*u-i*s,d=i*f-o*l,g=o*h-r*f,p=r*l-i*h,m=2*a;return h*=m,l*=m,f*=m,d*=2,g*=2,p*=2,t[0]=s+h+d,t[1]=u+l+g,t[2]=c+f+p,t},e.rotateX=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateY=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateZ=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.angle=function(t,e){var n=o(t[0],t[1],t[2]),r=o(e[0],e[1],e[2]);d(n,n),d(r,r);var i=g(n,r);return 1<i?0:i<-1?Math.PI:Math.acos(i)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(n-o)<=u.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=u.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=u.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))};var u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(38));function r(){var t=new u.ARRAY_TYPE(3);return u.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function i(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function o(t,e,n){var r=new u.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r}function a(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function s(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function c(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function h(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function l(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function f(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function d(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return 0<o&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function g(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.sub=a,e.mul=s,e.div=c,e.dist=h,e.sqrDist=l,e.len=i,e.sqrLen=f,e.forEach=function(){var u=r();return function(t,e,n,r,i,o){var a=void 0,s=void 0;for(e||(e=3),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)u[0]=t[a],u[1]=t[a+1],u[2]=t[a+2],i(u,u,o),t[a]=u[0],t[a+1]=u[1],t[a+2]=u[2];return t}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=r,e.clone=function(t){var e=new a.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var n=new a.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.subtract=i,e.multiply=o,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},e.distance=u,e.squaredDistance=c,e.length=h,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return 0<i&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},e.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},e.random=function(t,e){e=e||1;var n=2*a.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},e.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},e.rotate=function(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t},e.angle=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=n*n+r*r;0<a&&(a=1/Math.sqrt(a));var s=i*i+o*o;0<s&&(s=1/Math.sqrt(s));var u=(n*i+r*o)*a*s;return 1<u?0:u<-1?Math.PI:Math.acos(u)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))};var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(38));function r(){var t=new a.ARRAY_TYPE(2);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function o(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function s(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function u(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function h(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function l(t){var e=t[0],n=t[1];return e*e+n*n}e.len=h,e.sub=i,e.mul=o,e.div=s,e.dist=u,e.sqrDist=c,e.sqrLen=l,e.forEach=function(){var u=r();return function(t,e,n,r,i,o){var a=void 0,s=void 0;for(e||(e=2),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)u[0]=t[a],u[1]=t[a+1],i(u,u,o),t[a]=u[0],t[a+1]=u[1];return t}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new b.ARRAY_TYPE(9);return b.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new b.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,n,r,i,o,a,s,u){var c=new b.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=a,c[7]=s,c[8]=u,c},e.set=function(t,e,n,r,i,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=h*a-s*c,f=-h*o+s*u,d=c*o-a*u,g=n*l+r*f+i*d;return g?(g=1/g,t[0]=l*g,t[1]=(-h*r+i*c)*g,t[2]=(s*r-i*a)*g,t[3]=f*g,t[4]=(h*n-i*u)*g,t[5]=(-s*n+i*o)*g,t[6]=d*g,t[7]=(-c*n+r*u)*g,t[8]=(a*n-r*o)*g,t):null},e.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8];return t[0]=a*h-s*c,t[1]=i*c-r*h,t[2]=r*s-i*a,t[3]=s*u-o*h,t[4]=n*h-i*u,t[5]=i*o-n*s,t[6]=o*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*o,t},e.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)},e.multiply=r,e.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*r+d*a+c,t[7]=f*i+d*s+h,t[8]=f*o+d*u+l,t},e.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*a,t[1]=d*i+f*s,t[2]=d*o+f*u,t[3]=d*a-f*r,t[4]=d*s-f*i,t[5]=d*u-f*o,t[6]=c,t[7]=h,t[8]=l,t},e.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,h=r*a,l=r*s,f=i*a,d=i*s,g=i*u,p=o*a,m=o*s,v=o*u;return t[0]=1-l-g,t[3]=h-v,t[6]=f+m,t[1]=h+v,t[4]=1-c-g,t[7]=d-p,t[2]=f-m,t[5]=d+p,t[8]=1-c-l,t},e.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=e[9],f=e[10],d=e[11],g=e[12],p=e[13],m=e[14],v=e[15],y=n*s-r*a,x=n*u-i*a,b=n*c-o*a,w=r*u-i*s,_=r*c-o*s,S=i*c-o*u,M=h*p-l*g,P=h*m-f*g,O=h*v-d*g,E=l*m-f*p,A=l*v-d*p,C=f*v-d*m,k=y*C-x*A+b*E+w*O-_*P+S*M;return k?(k=1/k,t[0]=(s*C-u*A+c*E)*k,t[1]=(u*O-a*C-c*P)*k,t[2]=(a*A-s*O+c*M)*k,t[3]=(i*A-r*C-o*E)*k,t[4]=(n*C-i*O+o*P)*k,t[5]=(r*O-n*A-o*M)*k,t[6]=(p*S-m*_+v*w)*k,t[7]=(m*b-g*S-v*x)*k,t[8]=(g*_-p*b+v*y)*k,t):null},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},e.subtract=i,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],h=t[8],l=e[0],f=e[1],d=e[2],g=e[3],p=e[4],m=e[5],v=e[6],y=e[7],x=e[8];return Math.abs(n-l)<=b.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-f)<=b.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-d)<=b.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-g)<=b.EPSILON*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(a-p)<=b.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(s-m)<=b.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(u-v)<=b.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(c-y)<=b.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(h-x)<=b.EPSILON*Math.max(1,Math.abs(h),Math.abs(x))};var b=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(38));function r(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=n[0],d=n[1],g=n[2],p=n[3],m=n[4],v=n[5],y=n[6],x=n[7],b=n[8];return t[0]=f*r+d*a+g*c,t[1]=f*i+d*s+g*h,t[2]=f*o+d*u+g*l,t[3]=p*r+m*a+v*c,t[4]=p*i+m*s+v*h,t[5]=p*o+m*u+v*l,t[6]=y*r+x*a+b*c,t[7]=y*i+x*s+b*h,t[8]=y*o+x*u+b*l,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}e.mul=r,e.sub=i},function(t,e,n){var o=5,i=n(593);Math.sign=function(t){return 0==(t=+t)||isNaN(t)?t:0<t?1:-1};var a=function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({},i,{throttle:n(523),debounce:n(411),omit:function(t,n){var r={};return i.each(t,function(t,e){-1===n.indexOf(e)&&(r[e]=t)}),r},traverseTree:function(n,r,i,t){void 0===t&&(t=!1);var e=i(n);t&&r(n,null,null),e&&a.each(e,function(t,e){r(t,n,e),a.traverseTree(t,r,i)})},toAllPadding:function(t){var e=0,n=0,r=0,i=0;return a.isNumber(t)||a.isString(t)?e=n=r=i=t:a.isArray(t)&&(e=t[0],r=a.isNil(t[1])?t[0]:t[1],i=a.isNil(t[2])?t[0]:t[2],n=a.isNil(t[3])?r:t[3]),[e,r,i,n]},guid:function(){return"xxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},mix:function(){var t,e,n=a.toArray(arguments),r=n[0];if(!0===r)for(r=n[1],e=2;e<n.length;e++)s(r,t=n[e]);else for(e=1;e<n.length;e++)for(var i in t=n[e])t.hasOwnProperty(i)&&"constructor"!==i&&(r[i]=t[i]);return r},mixin:function(e,t){e&&t&&(e._mixins=t,e.ATTRS=e.ATTRS||{},a.each(t,function(t){a.augment(e,t)}),e.ATTRS=a.mix({},e.ATTRS))}});function s(t,e,n){for(var r in n=n||0,e)if(e.hasOwnProperty(r)){var i=e[r];null!==i&&a.isPlainObject(i)?(a.isPlainObject(t[r])||(t[r]={}),n<o?s(t[r],e[r],n+1):t[r]=e[r]):a.isArray(i)?(t[r]=[],t[r]=t[r].concat(i)):void 0!==i&&(t[r]=e[r])}}a.Array={remove:function(t,e){var n=a.indexOf(t,e);-1!==n&&t.splice(n,1)}},t.exports=a},function(t,e,n){var s=n(22),r={},i={draw:function(){}},o={defaultShapeType:null,getShape:function(t,e){return this[t]||this[e]||this[this.defaultShapeType]||i},getExtendShape:function(t,e){var n=this;if(s.isArray(t)){var r={};return t.forEach(function(t){n[t]&&(r=s.mix({},r,n.getShape(t,e)))}),r}return this.getShape(t,e)}};r.registerShapeManager=function(t,e){var a=s.mix({},o,e),n=s.upperFirst(t);return r[n]=a,r["register"+n]=function(t,e,n,r){s.isNil(n)&&s.isNil(r)&&(n=t);var i=a.getExtendShape(n,r),o=s.mix(!0,{},i,e);return o.type=t,a[t]=o},a},t.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var o=n(17),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,a=/[^\s\,]+/gi;t.exports={parseRadius:function(t){var e=0,n=0,r=0,i=0;return o.isArray(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}},parsePath:function(r){return r=r||[],o.isArray(r)?r:o.isString(r)?(r=r.match(i),o.each(r,function(n,t){if(1<(n=n.match(a))[0].length){var e=n[0].charAt(0);n.splice(1,0,n[0].substr(1)),n[0]=e}o.each(n,function(t,e){isNaN(t)||(n[e]=+t)}),r[t]=n}),r):void 0}}},function(t,e,n){var r=n(136);t.exports=function(t){return r(t)?"":t.toString()}},function(t,e,n){var r=n(60);t.exports=function(t){return r(t,"String")}},function(t,e,n){var r=n(383),i=n(60);t.exports=function(t){if(!r(t)||!i(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(t,e,n){var r=function(n){function t(t){var e;return(e=n.call(this)||this).options=t,e}return function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(t,n),t.prototype.execute=function(){var e=this,n=this.options;this.roots.forEach(function(t){e.layout(t,n).eachNode(function(t){t.data.x=t.x+t.data.width/2+t.hgap,t.data.y=t.y+t.data.height/2+t.vgap})})},t}(n(386));t.exports=r},function(t,e,n){"undefined"!=typeof self&&self,t.exports=function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}return i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=5)}([function(t,e,n){var r=n(7);t.exports={assign:r}},function(t,e,n){var r=n(3),i=function(){function t(t,e){void 0===e&&(e={}),this.options=e,this.rootNode=r(t,e)}return t.prototype.execute=function(){throw new Error("please override this method")},t}();t.exports=i},function(t,e,n){var u=n(4),c=["LR","RL","TB","BT","H","V"],h=["LR","RL","H"],l=c[0];t.exports=function(t,e,n){var r=e.direction||l;if(e.isHorizontal=function(t){return-1<h.indexOf(t)}(r),r&&-1===c.indexOf(r))throw new TypeError("Invalid direction: "+r);if(r===c[0])n(t,e);else if(r===c[1])n(t,e),t.right2left();else if(r===c[2])n(t,e);else if(r===c[3])n(t,e),t.bottom2top();else if(r===c[4]||r===c[5]){var i=u(t,e),o=i.left,a=i.right;n(o,e),n(a,e),e.isHorizontal?o.right2left():o.bottom2top(),a.translate(o.x-a.x,o.y-a.y),t.x=o.x,t.y=a.y;var s=t.getBoundingBox();e.isHorizontal?s.top<0&&t.translate(0,-s.top):s.left<0&&t.translate(-s.left,0)}return t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),t}},function(t,e,n){var h=n(0),l={getId:function(t){return t.id||t.name},getHGap:function(t){return t.hgap||18},getVGap:function(t){return t.vgap||18},getChildren:function(t){return t.children},getHeight:function(t){return t.height||36},getWidth:function(t){var e=t.name||" ";return t.width||18*e.split("").length}};function f(t,e){var n=this;if(n.vgap=n.hgap=0,t instanceof f)return t;n.data=t;var r=e.getHGap(t),i=e.getVGap(t);return n.width=e.getWidth(t),n.height=e.getHeight(t),n.id=e.getId(t),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,i),n}h.assign(f.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(t,e){this.hgap+=t,this.vgap+=e,this.width+=2*t,this.height+=2*e},eachNode:function(t){for(var e,n=[this];e=n.pop();)t(e),n=n.concat(e.children)},DFTraverse:function(t){this.eachNode(t)},BFTraverse:function(t){for(var e,n=[this];e=n.shift();)t(e),n=n.concat(e.children)},getBoundingBox:function(){var e={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(t){e.left=Math.min(e.left,t.x),e.top=Math.min(e.top,t.y),e.width=Math.max(e.width,t.x+t.width),e.height=Math.max(e.height,t.y+t.height)}),e},translate:function(e,n){void 0===e&&(e=0),void 0===n&&(n=0),this.eachNode(function(t){t.x+=e,t.y+=n})},right2left:function(){var e=this.getBoundingBox();this.eachNode(function(t){t.x=t.x-2*(t.x-e.left)-t.width}),this.translate(e.width,0)},bottom2top:function(){var e=this.getBoundingBox();this.eachNode(function(t){t.y=t.y-2*(t.y-e.top)-t.height}),this.translate(0,e.height)}}),t.exports=function(t,e,n){void 0===e&&(e={});var r,i=new f(t,e=h.assign({},l,e)),o=[i];if(!n&&!t.collapsed)for(;r=o.pop();)if(!r.data.collapsed){var a=e.getChildren(r.data),s=a?a.length:0;if(r.children=new Array(s),a&&s)for(var u=0;u<s;u++){var c=new f(a[u],e);r.children[u]=c,o.push(c),c.parent=r,c.depth=r.depth+1}}return i}},function(t,e,n){var c=n(3);t.exports=function(t,e){for(var n=c(t.data,e,!0),r=c(t.data,e,!0),i=t.children.length,o=Math.round(i/2),a=e.getSide||function(t,e){return e<o?"right":"left"},s=0;s<i;s++){var u=t.children[s];"right"===a(u,s)?r.children.push(u):n.children.push(u)}return n.eachNode(function(t){t.isRoot()||(t.side="left")}),r.eachNode(function(t){t.isRoot()||(t.side="right")}),{left:n,right:r}}},function(t,e,n){var r={compactBox:n(6),dendrogram:n(9),indented:n(11),mindmap:n(13)};t.exports=r},function(t,e,n){var r=n(1),i=n(8),o=n(2),a=n(0),s=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(e,t),e.prototype.execute=function(){return o(this.rootNode,this.options,i)},e}(r),u={};t.exports=function(t,e){return e=a.assign({},u,e),new s(t,e).execute()}},function(t,e){function i(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}t.exports=function(t,e,n,r){return e&&i(t,e),n&&i(t,n),r&&i(t,r),t}},function(t,e){function i(t,e,n,r){void 0===r&&(r=[]);var i=this;i.w=t||0,i.h=e||0,i.y=n||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}i.fromNode=function(t,e){if(!t)return null;var n=[];return t.children.forEach(function(t){n.push(i.fromNode(t,e))}),e?new i(t.height,t.width,t.x,n):new i(t.width,t.height,t.y,n)},t.exports=function(t,e){void 0===e&&(e={});var n=e.isHorizontal;function o(t){0===t.cs?((t.el=t).er=t).msel=t.mser=0:(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function a(t,e,n){for(var r=t.c[e-1],i=r.mod,o=t.c[e],a=o.mod;null!==r&&null!==o;){m(r)>n.low&&(n=n.nxt);var s=i+r.prelim+r.w-(a+o.prelim);0<s&&(a+=s,f=t,d=e,g=n.index,p=s,f.c[d].mod+=p,f.c[d].msel+=p,f.c[d].mser+=p,function(t,e,n,r){if(n!==e-1){var i=e-n;t.c[n+1].shift+=r/i,t.c[e].shift-=r/i,t.c[e].change-=r-r/i}}(f,d,g,p));var u=m(r),c=m(o);u<=c&&null!==(r=0===(l=r).cs?l.tr:l.c[l.cs-1])&&(i+=r.mod),c<=u&&null!==(o=0===(h=o).cs?h.tl:h.c[0])&&(a+=o.mod)}var h,l,f,d,g,p;!r&&o?function(t,e,n,r){var i=t.c[0].el;i.tl=n;var o=r-n.mod-t.c[0].msel;i.mod+=o,i.prelim-=o,t.c[0].el=t.c[e].el,t.c[0].msel=t.c[e].msel}(t,e,o,a):r&&!o&&function(t,e,n,r){var i=t.c[e].er;i.tr=n;var o=r-n.mod-t.c[e].mser;i.mod+=o,i.prelim-=o,t.c[e].er=t.c[e-1].er,t.c[e].mser=t.c[e-1].mser}(t,e,r,i)}function m(t){return t.y+t.h}function s(t,e,n){for(;null!==n&&t>=n.low;)n=n.nxt;return{low:t,index:e,nxt:n}}!function e(t,n,r){void 0===r&&(r=0),n?(t.x=r,r+=t.width):(t.y=r,r+=t.height),t.children.forEach(function(t){e(t,n,r)})}(t,n);var r=i.fromNode(t,n);return function t(e){if(0!==e.cs){t(e.c[0]);for(var n=s(m(e.c[0].el),0,null),r=1;r<e.cs;++r){t(e.c[r]);var i=m(e.c[r].er);a(e,r,n),n=s(i,r,n)}!function(t){t.prelim=(t.c[0].prelim+t.c[0].mod+t.c[t.cs-1].mod+t.c[t.cs-1].prelim+t.c[t.cs-1].w)/2-t.w/2}(e),o(e)}else o(e)}(r),function t(e,n){n+=e.mod,e.x=e.prelim+n,function(t){for(var e=0,n=0,r=0;r<t.cs;r++)e+=t.c[r].shift,n+=e+t.c[r].change,t.c[r].mod+=n}(e);for(var r=0;r<e.cs;r++)t(e.c[r],n)}(r,0),function n(t,r,i){i?r.y=t.x:r.x=t.x,t.c.forEach(function(t,e){n(t,r.children[e],i)})}(r,t,n),function(t,e){!function e(t,n,r){r?t.y+=n:t.x+=n,t.children.forEach(function(t){e(t,n,r)})}(t,-function e(t,n){var r=n?t.y:t.x;return t.children.forEach(function(t){r=Math.min(e(t,n),r)}),r}(t,e),e)}(t,n),t}},function(t,e,n){var r=n(1),i=n(10),o=n(2),a=n(0),s=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(e,t),e.prototype.execute=function(){return this.rootNode.width=0,o(this.rootNode,this.options,i)},e}(r),u={};t.exports=function(t,e){return e=a.assign({},u,e),new s(t,e).execute()}},function(t,e,n){var i=n(0),o={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};t.exports=function(t,n){void 0===n&&(n={}),n=i.assign({},o,n);var r,a=0,e=function r(t){if(!t)return null;t.width=0,t.depth&&t.depth>a&&(a=t.depth);var e=t.children,i=e.length,o=new function(t,e){void 0===t&&(t=0),void 0===e&&(e=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=e}(t.height,[]);return e.forEach(function(t,e){var n=r(t);o.children.push(n),0===e&&(o.leftChild=n),e===i-1&&(o.rightChild=n)}),o.originNode=t,o.isLeaf=t.isLeaf(),o}(t);return function e(t){if(t.isLeaf||0===t.children.length)t.drawingDepth=a;else{var n=t.children.map(function(t){return e(t)}),r=Math.min.apply(null,n);t.drawingDepth=r-1}return t.drawingDepth}(e),function e(t){t.x=t.drawingDepth*n.rankSep,t.isLeaf?(t.y=0,r&&(t.y=r.y+r.height+n.nodeSep,t.originNode.parent!==r.originNode.parent&&(t.y+=n.subTreeSep)),r=t):(t.children.forEach(function(t){e(t)}),t.y=(t.leftChild.y+t.rightChild.y)/2)}(e),function n(t,r,i){i?(r.x=t.x,r.y=t.y):(r.x=t.y,r.y=t.x),t.children.forEach(function(t,e){n(t,r.children[e],i)})}(e,t,n.isHorizontal),t}},function(t,e,n){var r=n(1),u=n(12),c=n(4),i=n(0),h=["LR","RL","H"],l=h[0],o=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(e,t),e.prototype.execute=function(){var t=this.options,e=this.rootNode;t.isHorizontal=!0;var n=t.indent,r=t.direction||l;if(r&&-1===h.indexOf(r))throw new TypeError("Invalid direction: "+r);if(r===h[0])u(e,n);else if(r===h[1])u(e,n),e.right2left();else if(r===h[2]){var i=c(e,t),o=i.left,a=i.right;u(o,n),o.right2left(),u(a,n);var s=o.getBoundingBox();a.translate(s.width,0),e.x=a.x-e.width/2}return e},e}(r),a={};t.exports=function(t,e){return e=i.assign({},a,e),new o(t,e).execute()}},function(t,e){t.exports=function(t,e){void 0===e&&(e=20);var n=null;t.eachNode(function(t){!function(t,e,n){t.x+=n*t.depth,t.y=e?e.y+e.height:0}(t,n,e),n=t})}},function(t,e,n){var r=n(1),i=n(14),o=n(2),a=n(0),s=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(e,t),e.prototype.execute=function(){return o(this.rootNode,this.options,i)},e}(r),u={};t.exports=function(t,e){return e=a.assign({},u,e),new s(t,e).execute()}},function(t,e,n){var r=n(0),i={getSubTreeSep:function(){return 0}};t.exports=function(t,e){void 0===e&&(e={}),e=r.assign({},i,e),t.parent={x:0,width:0,height:0,y:0},t.BFTraverse(function(t){t.x=t.parent.x+t.parent.width}),t.parent=null,function e(t,n){var r=0;return t.children.length?t.children.forEach(function(t){r+=e(t,n)}):r=t.height,t._subTreeSep=n.getSubTreeSep(t.data),t.totalHeight=Math.max(t.height,r)+2*t._subTreeSep,t.totalHeight}(t,e),t.startY=0,t.y=t.totalHeight/2-t.height/2,t.eachNode(function(t){var e=t.children,n=e.length;if(n){var r=e[0];if(r.startY=t.startY+t._subTreeSep,1===n)r.y=t.y+t.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var o=e[i];o.startY=e[i-1].startY+e[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}}),function e(t){var n=t.children,r=n.length;if(r){n.forEach(function(t){e(t)});var i=n[0],o=n[r-1],a=o.y-i.y+o.height,s=0;if(n.forEach(function(t){s+=t.totalHeight}),a>t.height)t.y=i.y+a/2-t.height/2;else if(1!==n.length||t.height>s){var u=t.y+(t.height-a)/2-i.y;n.forEach(function(t){t.translate(0,u)})}else t.y=(i.y+i.height/2+o.y+o.height/2)/2-t.height/2}}(t)}}])},function(t,e,n){var r=n(22),i=function(){var t=e.prototype;function e(t){var e=this.getDefaultCfg();r.mix(this,e,t),this._init()}return t.getDefaultCfg=function(){return{}},t._init=function(){},t.destroy=function(){},e}();t.exports=i},function(t,e,n){var P=n(17),x=n(376),k=n(375),I=n(404),B=n(403),b=P.vec3,w=P.mat3,S=["m","l","c","a","q","h","v","t","s","z"];function M(t,e,n){return{x:n.x+t,y:n.y+e}}function O(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}function r(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function E(t,e){return(t[0]*e[0]+t[1]*e[1])/(r(t)*r(e))}function A(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(E(t,e))}var i=function(t,e,n){this.preSegment=e,this.isLast=n,this.init(t,e)};P.augment(i,{init:function(t,e){var n=t[0];e=e||{endPoint:{x:0,y:0}};var r,i,o,a,s=0<=S.indexOf(n),u=s?n.toUpperCase():n,c=t,h=e.endPoint,l=c[1],f=c[2];switch(u){default:break;case"M":a=s?M(l,f,h):{x:l,y:f},this.command="M",this.params=[h,a],this.subStart=a,this.endPoint=a;break;case"L":a=s?M(l,f,h):{x:l,y:f},this.command="L",this.params=[h,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-h.x,a.y-h.y]},this.startTangent=function(){return[h.x-a.x,h.y-a.y]};break;case"H":a=s?M(l,0,h):{x:l,y:h.y},this.command="L",this.params=[h,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-h.x,a.y-h.y]},this.startTangent=function(){return[h.x-a.x,h.y-a.y]};break;case"V":a=s?M(0,l,h):{x:h.x,y:l},this.command="L",this.params=[h,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-h.x,a.y-h.y]},this.startTangent=function(){return[h.x-a.x,h.y-a.y]};break;case"Q":i=s?(r=M(l,f,h),M(c[3],c[4],h)):(r={x:l,y:f},{x:c[3],y:c[4]}),this.command="Q",this.params=[h,r,i],this.subStart=e.subStart,this.endPoint=i,this.endTangent=function(){return[i.x-r.x,i.y-r.y]},this.startTangent=function(){return[h.x-r.x,h.y-r.y]};break;case"T":i=s?M(l,f,h):{x:l,y:f},"Q"===e.command?(r=O(e.params[1],h),this.command="Q",this.params=[h,r,i],this.subStart=e.subStart,this.endPoint=i,this.endTangent=function(){return[i.x-r.x,i.y-r.y]},this.startTangent=function(){return[h.x-r.x,h.y-r.y]}):(this.command="TL",this.params=[h,i],this.subStart=e.subStart,this.endPoint=i,this.endTangent=function(){return[i.x-h.x,i.y-h.y]},this.startTangent=function(){return[h.x-i.x,h.y-i.y]});break;case"C":o=s?(r=M(l,f,h),i=M(c[3],c[4],h),M(c[5],c[6],h)):(r={x:l,y:f},i={x:c[3],y:c[4]},{x:c[5],y:c[6]}),this.command="C",this.params=[h,r,i,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-i.x,o.y-i.y]},this.startTangent=function(){return[h.x-r.x,h.y-r.y]};break;case"S":o=s?(i=M(l,f,h),M(c[3],c[4],h)):(i={x:l,y:f},{x:c[3],y:c[4]}),"C"===e.command?(r=O(e.params[2],h),this.command="C",this.params=[h,r,i,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-i.x,o.y-i.y]},this.startTangent=function(){return[h.x-r.x,h.y-r.y]}):(this.command="SQ",this.params=[h,i,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-i.x,o.y-i.y]},this.startTangent=function(){return[h.x-i.x,h.y-i.y]});break;case"A":var d=l,g=f,p=c[3],m=c[4],v=c[5];a=s?M(c[6],c[7],h):{x:c[6],y:c[7]},this.command="A";var y=function(t,e,n,r,i,o,a){var s=P.mod(P.toRadian(a),2*Math.PI),u=t.x,c=t.y,h=e.x,l=e.y,f=Math.cos(s)*(u-h)/2+Math.sin(s)*(c-l)/2,d=-1*Math.sin(s)*(u-h)/2+Math.cos(s)*(c-l)/2,g=f*f/(i*i)+d*d/(o*o);1<g&&(i*=Math.sqrt(g),o*=Math.sqrt(g));var p=i*i*(d*d)+o*o*(f*f),m=Math.sqrt((i*i*(o*o)-p)/p);n===r&&(m*=-1),isNaN(m)&&(m=0);var v=m*i*d/o,y=m*-o*f/i,x=(u+h)/2+Math.cos(s)*v-Math.sin(s)*y,b=(c+l)/2+Math.sin(s)*v+Math.cos(s)*y,w=A([1,0],[(f-v)/i,(d-y)/o]),_=[(f-v)/i,(d-y)/o],S=[(-1*f-v)/i,(-1*d-y)/o],M=A(_,S);return E(_,S)<=-1&&(M=Math.PI),1<=E(_,S)&&(M=0),0===r&&0<M&&(M-=2*Math.PI),1===r&&M<0&&(M+=2*Math.PI),[t,x,b,i,o,w,M,s,r]}(h,a,m,v,d,g,p);this.params=y;var x=e.subStart;this.subStart=x,this.endPoint=a;var b=y[5]%(2*Math.PI);P.isNumberEqual(b,2*Math.PI)&&(b=0);var w=y[6]%(2*Math.PI);P.isNumberEqual(w,2*Math.PI)&&(w=0);var _=.001;this.startTangent=function(){0===v&&(_*=-1);var t=y[3]*Math.cos(b-_)+y[1],e=y[4]*Math.sin(b-_)+y[2];return[t-x.x,e-x.y]},this.endTangent=function(){var t=y[6];t-2*Math.PI<1e-4&&(t=0);var e=y[3]*Math.cos(b+t+_)+y[1],n=y[4]*Math.sin(b+t-_)+y[2];return[h.x-e,h.y-n]};break;case"Z":this.command="Z",this.params=[h,e.subStart],this.subStart=e.subStart,this.endPoint=e.subStart}},isInside:function(t,e,n){var r=this.command,i=this.params,o=this.box;if(o&&!x.box(o.minX,o.maxX,o.minY,o.maxY,t,e))return!1;switch(r){default:break;case"M":return!1;case"TL":case"L":case"Z":return x.line(i[0].x,i[0].y,i[1].x,i[1].y,n,t,e);case"SQ":case"Q":return x.quadraticline(i[0].x,i[0].y,i[1].x,i[1].y,i[2].x,i[2].y,n,t,e);case"C":return x.cubicline(i[0].x,i[0].y,i[1].x,i[1].y,i[2].x,i[2].y,i[3].x,i[3].y,n,t,e);case"A":var a=i,s=a[1],u=a[2],c=a[3],h=a[4],l=a[5],f=a[6],d=a[7],g=a[8],p=h<c?c:h,m=h<c?1:c/h,v=h<c?h/c:1;a=[t,e,1];var y=[1,0,0,0,1,0,0,0,1];return w.translate(y,y,[-s,-u]),w.rotate(y,y,-d),w.scale(y,y,[1/m,1/v]),b.transformMat3(a,a,y),x.arcline(0,0,p,l,l+f,1-g,n,a[0],a[1])}return!1},draw:function(t){var e,n,r,i=this.command,o=this.params;switch(i){default:break;case"M":t.moveTo(o[1].x,o[1].y);break;case"TL":case"L":t.lineTo(o[1].x,o[1].y);break;case"SQ":case"Q":e=o[1],n=o[2],t.quadraticCurveTo(e.x,e.y,n.x,n.y);break;case"C":e=o[1],n=o[2],r=o[3],t.bezierCurveTo(e.x,e.y,n.x,n.y,r.x,r.y);break;case"A":var a=o,s=a[1],u=a[2],c=a[3],h=a[4],l=a[5],f=a[6],d=a[7],g=a[8],p=h<c?c:h,m=h<c?1:c/h,v=h<c?h/c:1;t.translate(s,u),t.rotate(d),t.scale(m,v),t.arc(0,0,p,l,l+f,1-g),t.scale(1/m,1/v),t.rotate(-d),t.translate(-s,-u);break;case"Z":t.closePath()}},getBBox:function(t){var e,n,r,i,o=t/2,a=this.params;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(a[0].x,a[1].x)-o,maxX:Math.max(a[0].x,a[1].x)+o,minY:Math.min(a[0].y,a[1].y)-o,maxY:Math.max(a[0].y,a[1].y)+o};break;case"SQ":case"Q":for(r=0,i=(n=I.extrema(a[0].x,a[1].x,a[2].x)).length;r<i;r++)n[r]=I.at(a[0].x,a[1].x,a[2].x,n[r]);for(n.push(a[0].x,a[2].x),r=0,i=(e=I.extrema(a[0].y,a[1].y,a[2].y)).length;r<i;r++)e[r]=I.at(a[0].y,a[1].y,a[2].y,e);e.push(a[0].y,a[2].y),this.box={minX:Math.min.apply(Math,n)-o,maxX:Math.max.apply(Math,n)+o,minY:Math.min.apply(Math,e)-o,maxY:Math.max.apply(Math,e)+o};break;case"C":for(r=0,i=(n=k.extrema(a[0].x,a[1].x,a[2].x,a[3].x)).length;r<i;r++)n[r]=k.at(a[0].x,a[1].x,a[2].x,a[3].x,n[r]);for(r=0,i=(e=k.extrema(a[0].y,a[1].y,a[2].y,a[3].y)).length;r<i;r++)e[r]=k.at(a[0].y,a[1].y,a[2].y,a[3].y,e[r]);n.push(a[0].x,a[3].x),e.push(a[0].y,a[3].y),this.box={minX:Math.min.apply(Math,n)-o,maxX:Math.max.apply(Math,n)+o,minY:Math.min.apply(Math,e)-o,maxY:Math.max.apply(Math,e)+o};break;case"A":var s=a,u=s[1],c=s[2],h=s[3],l=s[4],f=s[5],d=s[6],g=s[7],p=s[8],m=f,v=f+d,y=B.xExtrema(g,h,l),x=1/0,b=-1/0,w=[m,v];for(r=2*-Math.PI;r<=2*Math.PI;r+=Math.PI){var _=y+r;1===p?m<_&&_<v&&w.push(_):v<_&&_<m&&w.push(_)}for(r=0,i=w.length;r<i;r++){var S=B.xAt(g,h,l,u,w[r]);S<x&&(x=S),b<S&&(b=S)}var M=B.yExtrema(g,h,l),P=1/0,O=-1/0,E=[m,v];for(r=2*-Math.PI;r<=2*Math.PI;r+=Math.PI){var A=M+r;1===p?m<A&&A<v&&E.push(A):v<A&&A<m&&E.push(A)}for(r=0,i=E.length;r<i;r++){var C=B.yAt(g,h,l,c,E[r]);C<P&&(P=C),O<C&&(O=C)}this.box={minX:x-o,maxX:b+o,minY:P-o,maxY:O+o}}}}),t.exports=i},function(t,e,n){var p=n(356),m=n(363),v=Math.PI,y=Math.sin,x=Math.cos,b=Math.atan2,w=v/3;function a(t,e,n,r,i,o,a){var s,u,c,h,l,f,d;if(!e.fill){var g=e.arrowLength||10,p=e.arrowAngle?e.arrowAngle*v/180:w;d=b(r-o,n-i),l=Math.abs(e.lineWidth*x(d))/2,f=Math.abs(e.lineWidth*y(d))/2,a&&(l=-l,f=-f),s=i+g*x(d+p/2),u=o+g*y(d+p/2),c=i+g*x(d-p/2),h=o+g*y(d-p/2),t.beginPath(),t.moveTo(s-l,u-f),t.lineTo(i-l,o-f),t.lineTo(c-l,h-f),t.moveTo(i-l,o-f),t.lineTo(i+l,o+f),t.moveTo(i,o),t.stroke()}}function s(t,e,n,r,i,o,a){var s=a?e.startArrow:e.endArrow,u=s.d,c=0,h=i-n,l=o-r,f=Math.atan(h/l);0==l&&h<0?c=Math.PI:0<h&&0<l?c=Math.PI/2-f:h<0&&l<0?c=-Math.PI/2-f:0<=h&&l<0?c=-f-Math.PI/2:h<=0&&0<l&&(c=Math.PI/2-f);var d=function(t){var e,n=[],r=p.parsePath(t.path);if(!Array.isArray(r)||0===r.length||"M"!==r[0][0]&&"m"!==r[0][0])return!1;for(var i=r.length,o=0;o<r.length;o++){var a=r[o];e=new m(a,e,o===i-1),n.push(e)}return n}(s);if(d){u&&(o=a?(i+=Math.sin(Math.abs(f))*u,o+Math.cos(Math.abs(f))*u-.5*t.lineWidth):(i-=Math.sin(Math.abs(f))*u,o-Math.cos(Math.abs(f))*u+.5*t.lineWidth)),t.save(),t.beginPath(),t.translate(i,o),t.rotate(c);for(var g=0;g<d.length;g++)d[g].draw(t);t.setTransform(1,0,0,1,0,0),t.fillStyle=t.strokeStyle,t.fill(),t.restore()}}t.exports={addStartArrow:function(t,e,n,r,i,o){"object"==typeof e.startArrow?s(t,e,n,r,i,o,!0):e.startArrow&&a(t,e,n,r,i,o,!0)},addEndArrow:function(t,e,n,r,i,o){"object"==typeof e.endArrow?s(t,e,n,r,i,o,!1):e.endArrow&&a(t,e,n,r,i,o,!1)}}},function(t,e,n){var p=n(17);function m(t,e,n,r){return{x:Math.cos(r)*n+t,y:Math.sin(r)*n+e}}function o(t,e,n,r){var i,o;return r?t<e?(i=e-t,o=2*Math.PI-n+t):n<t&&(i=2*Math.PI-t+e,o=t-n):(i=t-e,o=n-t),o<i?n:e}function v(t,e,n,r){var i=0;return n-e>=2*Math.PI&&(i=2*Math.PI),e=p.mod(e,2*Math.PI),n=p.mod(n,2*Math.PI)+i,t=p.mod(t,2*Math.PI),r?n<=e?n<t&&t<e?t:o(t,n,e,!0):t<e||n<t?t:o(t,e,n):e<=n?e<t&&t<n?t:o(t,e,n,!0):e<t||t<n?t:o(t,n,e)}function c(t,e,n,r,i,o,a,s,u){var c=[a,s],h=[t,e],l=p.vec2.subtract([],c,h),f=p.vec2.angleTo([1,0],l);f=v(f,r,i,o);var d=[n*Math.cos(f)+t,n*Math.sin(f)+e];return u&&(u.x=d[0],u.y=d[1]),p.vec2.distance(d,c)}t.exports={nearAngle:v,projectPoint:function(t,e,n,r,i,o,a,s){var u={};return c(t,e,n,r,i,o,a,s,u),u},pointDistance:c,box:function(t,e,n,r,i,o){var a=Math.PI/2,s=Math.PI,u=3*Math.PI/2,c=[],h=v(0,r,i,o);0===h&&c.push(m(t,e,n,0)),(h=v(a,r,i,o))===a&&c.push(m(t,e,n,a)),(h=v(s,r,i,o))===s&&c.push(m(t,e,n,s)),(h=v(u,r,i,o))===u&&c.push(m(t,e,n,u)),c.push(m(t,e,n,r)),c.push(m(t,e,n,i));var l=1/0,f=-1/0,d=1/0,g=-1/0;return p.each(c,function(t){l>t.x&&(l=t.x),f<t.x&&(f=t.x),d>t.y&&(d=t.y),g<t.y&&(g=t.y)}),{minX:l,minY:d,maxX:f,maxY:g}}}},function(t,e,n){var c=n(17).vec2;t.exports={at:function(t,e,n){return(e-t)*n+t},pointDistance:function(t,e,n,r,i,o){var a=[n-t,r-e];if(c.exactEquals(a,[0,0]))return NaN;var s=[-a[1],a[0]];c.normalize(s,s);var u=[i-t,o-e];return Math.abs(c.dot(u,s))},box:function(t,e,n,r,i){var o=i/2,a=Math.min(t,n),s=Math.max(t,n);return{minX:a-o,minY:Math.min(e,r)-o,maxX:s+o,maxY:Math.max(e,r)+o}},len:function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}}},function(t,e,n){var r=n(62);t.exports=function(t){return r(t)?Array.prototype.slice.call(t):[]}},function(t,e,n){var r=n(62),i=Array.prototype.indexOf;t.exports=function(t,e){return!!r(t)&&-1<i.call(t,e)}},function(t,e){function i(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}t.exports=function(t,e,n,r){return e&&i(t,e),n&&i(t,n),r&&i(t,r),t}},,function(t,e,n){var i=n(22),r=function(){function t(t){i.mix(this,{id:"",type:null,model:{},group:null,animate:!1,modelCache:{},isItem:!0,visible:!0},t),this._init()}var e=t.prototype;return e._init=function(){this._initGroup(),this.draw()},e._mapping=function(){var t=this.mapper,e=this.model;t.mapping(e)},e._initGroup=function(){var t=this.group,e=this.model,n=this.type;t.isItemContainer=!0,t.id=e.id,t.itemType=n,t.model=e,t.item=this},e._calculateBBox=function(){var t=this.keyShape,e=this.group,n=i.getBBox(t,e);return n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},e.getLabel=function(){return this.group.findByClass("label")[0]},e.getGraph=function(){return this.graph},e._setShapeObj=function(){var t=this.graph,e=this.type,n=this.getModel();this.shapeObj=t.getShapeObj(e,n)},e._afterDraw=function(){var t=this.graph;this._setGId(),this._cacheModel(),t.emit("afteritemdraw",{item:this})},e._cacheModel=function(){this.modelCache=i.mix({},this.model)},e._setGId=function(){var t=this.group,o=this.id,a=this.type;t.gid=o,t.deepEach(function(t,e,n){var r=e.gid;if(t.id=o,t.eventPreFix=a,t.gid=r+"-"+n,t.isShape){var i=t.get("type");t.gid+="-"+i}})},e._beforeDraw=function(){var t=this.graph,e=this.group;t.emit("beforeitemdraw",{item:this}),e.resetMatrix(),this.updateCollapsedParent()},e._shouldDraw=function(){return!0},e._getDiff=function(){var n=[],t=this.model,r=this.modelCache;return i.each(t,function(t,e){i.isEqual(t,r[e])||n.push(e)}),0!==n.length&&n},e._drawInner=function(){var t=this.animate;this.group.clear(!t),this._mapping(),this._setShapeObj();var e=this.shapeObj,n=e.draw(this);n&&(n.isKeyShape=!0,this.keyShape=n),e.afterDraw&&e.afterDraw(this)},e.deepEach=function(t,e){i.traverseTree(this,t,e||function(t){return t.getChildren()})},e.getShapeObj=function(){return this.shapeObj},e.updateCollapsedParent=function(){var t=this.dataMap;this.collapsedParent=function t(e,n){var r=n[e.parent];if(!r)return!1;if(r){var i=t(r,n);if(i)return i}return r.collapsed?r:void 0}(this.model,t)},e.isVisible=function(){return this.visible},e.hide=function(){var t=this.group,e=this.graph;e.emit("beforeitemhide",{item:this}),t.hide(),this.visible=!1,e.emit("afteritemhide",{item:this})},e.show=function(){var t=this.group,e=this.graph;e.emit("beforeitemshow",{item:this}),t.show(),this.visible=!0,e.emit("afteritemshow",{item:this})},e.draw=function(){this._beforeDraw(),this._shouldDraw()&&this._drawInner(),this._afterDraw()},e.forceUpdate=function(){this._beforeDraw(),this._drawInner(),this._afterDraw()},e.getCenter=function(){var t=this.getBBox();return{x:t.centerX,y:t.centerY}},e.getBBox=function(){return this.bbox||this._calculateBBox()},e.layoutUpdate=function(){this.isVisible()&&this.draw()},e.update=function(){this.draw()},e.getModel=function(){return this.model},e.getKeyShape=function(){return this.keyShape},e.getGraphicGroup=function(){return this.group},e.getHierarchy=function(){return this.graph.getHierarchy(this)},e.getParent=function(){var t=this.model;return this.itemMap[t.parent]},e.getAllParents=function(){for(var t=this.model,e=this.itemMap,n=[],r=t.parent;r&&e[r];){var i=e[r],o=i.getModel();n.push(i),r=o.parent}return n},e.getAllChildren=function(){var e=[];return this.deepEach(function(t){e.push(t)}),e},e.getChildren=function(){var e=this.id;return this.graph.getItems().filter(function(t){return t.model.parent===e})},e.toFront=function(){this.group.toFront()},e.toBack=function(){this.group.toBack()},e.destroy=function(){if(!this.destroyed){var t=this.animate,e=this.graph;e.emit("beforeitemdestroy",{item:this}),this.group.remove(!t),this.destroyed=!0,e.emit("afteritemdestroy",{item:this})}},t}();t.exports=r},function(t,e){t.exports="2.2.0"},function(t,e,n){var c=n(408),r="\t\n\v\f\r \u2028\u2029",i=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),s=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig"),b=function(t){if(!t)return null;if(typeof t==typeof[])return t;var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(t).replace(i,function(t,e,n){var r=[],i=e.toLowerCase();if(n.replace(s,function(t,e){e&&r.push(+e)}),"m"===i&&2<r.length&&(a.push([e].concat(r.splice(0,2))),i="l",e="m"===e?"l":"L"),"o"===i&&1===r.length&&a.push([e,r[0]]),"r"===i)a.push([e].concat(r));else for(;r.length>=o[i]&&(a.push([e].concat(r.splice(0,o[i]))),o[i]););}),a},w=function(t,e){for(var n=[],r=0,i=t.length;r<i-2*!e;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},_=function(t,e,n,r,i){var o=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var a=Math.PI/180,s=t+n*Math.cos(-r*a),u=t+n*Math.cos(-i*a);o=[["M",s,e+n*Math.sin(-r*a)],["A",n,n,0,+(180<i-r),0,u,e+n*Math.sin(-i*a)]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},x=function(t){if(!(t=b(t))||!t.length)return[["M",0,0]];var e,n,r=[],i=0,o=0,a=0,s=0,u=0;"M"===t[0][0]&&(a=i=+t[0][1],s=o=+t[0][2],u++,r[0]=["M",i,o]);for(var c,h,l=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),f=u,d=t.length;f<d;f++){if(r.push(c=[]),(e=(h=t[f])[0])!==e.toUpperCase())switch(c[0]=e.toUpperCase(),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+h[6]+i,c[7]=+h[7]+o;break;case"V":c[1]=+h[1]+o;break;case"H":c[1]=+h[1]+i;break;case"R":for(var g=2,p=(n=[i,o].concat(h.slice(1))).length;g<p;g++)n[g]=+n[g]+i,n[++g]=+n[g]+o;r.pop(),r=r.concat(w(n,l));break;case"O":r.pop(),(n=_(i,o,h[1],h[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(_(i,o,h[1],h[2],h[3])),c=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+h[1]+i,s=+h[2]+o;break;default:for(var m=1,v=h.length;m<v;m++)c[m]=+h[m]+(m%2?i:o)}else if("R"===e)n=[i,o].concat(h.slice(1)),r.pop(),r=r.concat(w(n,l)),c=["R"].concat(h.slice(-2));else if("O"===e)r.pop(),(n=_(i,o,h[1],h[2])).push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(_(i,o,h[1],h[2],h[3])),c=["U"].concat(r[r.length-1].slice(-2));else for(var y=0,x=h.length;y<x;y++)c[y]=h[y];if("O"!==(e=e.toUpperCase()))switch(c[0]){case"Z":i=+a,o=+s;break;case"H":i=c[1];break;case"V":o=c[1];break;case"M":a=c[c.length-2],s=c[c.length-1];break;default:i=c[c.length-2],o=c[c.length-1]}}return r},S=function(t,e,n,r){return[t,e,n,r,n,r]},M=function(t,e,n,r,i,o){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]},P=function(t,e){var o,a=x(t),s=e&&x(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i=[],u=[],c="",h="",l=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(function t(e,n,r,i,o,a,s,u,c,h){r===i&&(r+=1);var l,f,d,g,p,m=120*Math.PI/180,v=Math.PI/180*(+o||0),y=[],x=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(h)f=h[0],d=h[1],g=h[2],p=h[3];else{e=(l=x(e,n,-v)).x,n=l.y,u=(l=x(u,c,-v)).x,c=l.y,e===u&&n===c&&(u+=1,c+=1);var b=(e-u)/2,w=(n-c)/2,_=b*b/(r*r)+w*w/(i*i);1<_&&(r*=_=Math.sqrt(_),i*=_);var S=r*r,M=i*i,P=(a===s?-1:1)*Math.sqrt(Math.abs((S*M-S*w*w-M*b*b)/(S*w*w+M*b*b)));g=P*r*w/i+(e+u)/2,p=P*-i*b/r+(n+c)/2,f=Math.asin(((n-p)/i).toFixed(9)),d=Math.asin(((c-p)/i).toFixed(9)),f=e<g?Math.PI-f:f,d=u<g?Math.PI-d:d,f<0&&(f=2*Math.PI+f),d<0&&(d=2*Math.PI+d),s&&d<f&&(f-=2*Math.PI),!s&&f<d&&(d-=2*Math.PI)}var O=d-f;if(Math.abs(O)>m){var E=d,A=u,C=c;d=f+m*(s&&f<d?1:-1),y=t(u=g+r*Math.cos(d),c=p+i*Math.sin(d),r,i,o,0,s,A,C,[d,E,g,p])}O=d-f;var k=Math.cos(f),I=Math.sin(f),B=Math.cos(d),j=Math.sin(d),T=Math.tan(O/4),L=4/3*r*T,N=4/3*i*T,D=[e,n],G=[e+L*I,n-N*k],Y=[u+L*j,c-N*B],X=[u,c];if(G[0]=2*D[0]-G[0],G[1]=2*D[1]-G[1],h)return[G,Y,X].concat(y);for(var F=[],R=0,H=(y=[G,Y,X].concat(y).join().split(",")).length;R<H;R++)F[R]=R%2?x(y[R-1],y[R],v).y:x(y[R],y[R+1],v).x;return F}.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":i="C"===n||"S"===n?(r=2*e.x-e.bx,2*e.y-e.by):(r=e.x,e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(M(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(M(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(S(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(S(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(S(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(S(e.x,e.y,e.X,e.Y))}return t},f=function(t,e){if(7<t[e].length){t[e].shift();for(var n=t[e];n.length;)i[e]="A",s&&(u[e]="A"),t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),o=Math.max(a.length,s&&s.length||0)}},d=function(t,e,n,r,i){t&&e&&"M"===t[i][0]&&"M"!==e[i][0]&&(e.splice(i,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=t[i][1],n.y=t[i][2],o=Math.max(a.length,s&&s.length||0))};o=Math.max(a.length,s&&s.length||0);for(var g=0;g<o;g++){a[g]&&(c=a[g][0]),"C"!==c&&(i[g]=c,g&&(h=i[g-1])),a[g]=l(a[g],n,h),"A"!==i[g]&&"C"===c&&(i[g]="C"),f(a,g),s&&(s[g]&&(c=s[g][0]),"C"!==c&&(u[g]=c,g&&(h=u[g-1])),s[g]=l(s[g],r,h),"A"!==u[g]&&"C"===c&&(u[g]="C"),f(s,g)),d(a,s,n,r,g),d(s,a,r,n,g);var p=a[g],m=s&&s[g],v=p.length,y=s&&m.length;n.x=p[v-2],n.y=p[v-1],n.bx=parseFloat(p[v-4])||n.x,n.by=parseFloat(p[v-3])||n.y,r.bx=s&&(parseFloat(m[y-4])||r.x),r.by=s&&(parseFloat(m[y-3])||r.y),r.x=s&&m[y-2],r.y=s&&m[y-1]}return s?[a,s]:a},o=/,?([a-z]),?/gi,a=function(t){return t.join(",").replace(o,"$1")},y=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},O=function(t,e,n,r,i,o,a,s,u){null===u&&(u=1);for(var c=(u=1<u?1:u<0?0:u)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],l=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,d=0;d<12;d++){var g=c*h[d]+c,p=y(g,t,n,i,a),m=y(g,e,r,o,s),v=p*p+m*m;f+=l[d]*Math.sqrt(v)}return c*f},E=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var u=(t-n)*(o-s)-(e-r)*(i-a);if(u){var c=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/u,h=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/u,l=+c.toFixed(2),f=+h.toFixed(2);if(!(l<+Math.min(t,n).toFixed(2)||l>+Math.max(t,n).toFixed(2)||l<+Math.min(i,a).toFixed(2)||l>+Math.max(i,a).toFixed(2)||f<+Math.min(e,r).toFixed(2)||f>+Math.max(e,r).toFixed(2)||f<+Math.min(o,s).toFixed(2)||f>+Math.max(o,s).toFixed(2)))return{x:c,y:h}}}},A=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},u=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=a,o},C=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:u(t,e,n,r),vb:[t,e,n,r].join(" ")}},k=function(t,e,n,r,i,o,a,s){c.isArray(t)||(t=[t,e,n,r,i,o,a,s]);var u=function(t,e,n,r,i,o,a,s){for(var u,c,h,l,f=[],d=[[],[]],g=0;g<2;++g)if(h=0===g?(c=6*t-12*n+6*i,u=-3*t+9*n-9*i+3*a,3*n-3*t):(c=6*e-12*r+6*o,u=-3*e+9*r-9*o+3*s,3*r-3*e),Math.abs(u)<1e-12){if(Math.abs(c)<1e-12)continue;0<(l=-h/c)&&l<1&&f.push(l)}else{var p=c*c-4*h*u,m=Math.sqrt(p);if(!(p<0)){var v=(-c+m)/(2*u);0<v&&v<1&&f.push(v);var y=(-c-m)/(2*u);0<y&&y<1&&f.push(y)}}for(var x,b=f.length,w=b;b--;)x=1-(l=f[b]),d[0][b]=x*x*x*t+3*x*x*l*n+3*x*l*l*i+l*l*l*a,d[1][b]=x*x*x*e+3*x*x*l*r+3*x*l*l*o+l*l*l*s;return d[0][w]=t,d[1][w]=e,d[0][w+1]=a,d[1][w+1]=s,d[0].length=d[1].length=w+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}}.apply(null,t);return C(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},I=function(t,e,n,r,i,o,a,s,u){var c=1-u,h=Math.pow(c,3),l=Math.pow(c,2),f=u*u,d=f*u,g=t+2*u*(n-t)+f*(i-2*n+t),p=e+2*u*(r-e)+f*(o-2*r+e),m=n+2*u*(i-n)+f*(a-2*i+n),v=r+2*u*(o-r)+f*(s-2*o+r);return{x:h*t+3*l*u*n+3*c*u*u*i+d*a,y:h*e+3*l*u*r+3*c*u*u*o+d*s,m:{x:g,y:p},n:{x:m,y:v},start:{x:c*t+u*n,y:c*e+u*r},end:{x:c*i+u*a,y:c*o+u*s},alpha:90-180*Math.atan2(g-m,p-v)/Math.PI}},B=function(t,e,n){if(!function(t,e){return t=C(t),e=C(e),A(e,t.x,t.y)||A(e,t.x2,t.y)||A(e,t.x,t.y2)||A(e,t.x2,t.y2)||A(t,e.x,e.y)||A(t,e.x2,e.y)||A(t,e.x,e.y2)||A(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(k(t),k(e)))return n?0:[];for(var r=~~(O.apply(0,t)/8),i=~~(O.apply(0,e)/8),o=[],a=[],s={},u=n?0:[],c=0;c<1+r;c++){var h=I.apply(0,t.concat(c/r));o.push({x:h.x,y:h.y,t:c/r})}for(var l=0;l<1+i;l++){var f=I.apply(0,e.concat(l/i));a.push({x:f.x,y:f.y,t:l/i})}for(var d=0;d<r;d++)for(var g=0;g<i;g++){var p=o[d],m=o[d+1],v=a[g],y=a[g+1],x=Math.abs(m.x-p.x)<.001?"y":"x",b=Math.abs(y.x-v.x)<.001?"y":"x",w=E(p.x,p.y,m.x,m.y,v.x,v.y,y.x,y.y);if(w){if(s[w.x.toFixed(4)]===w.y.toFixed(4))continue;s[w.x.toFixed(4)]=w.y.toFixed(4);var _=p.t+Math.abs((w[x]-p[x])/(m[x]-p[x]))*(m.t-p.t),S=v.t+Math.abs((w[b]-v[b])/(y[b]-v[b]))*(y.t-v.t);0<=_&&_<=1&&0<=S&&S<=1&&(n?u++:u.push({x:w.x,y:w.y,t1:_,t2:S}))}}return u},j=function(t,n){if(t.length!==n.length)return!1;var r=!0;return c.each(t,function(t,e){if(t!==n[e])return r=!1}),r};function h(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=l(e)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function l(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}t.exports={parsePathString:b,parsePathArray:a,pathTocurve:P,pathToAbsolute:x,catmullRomToBezier:w,rectPath:u,fillPath:function(r,t){if(1===r.length)return r;var i=r.length-1,e=t.length-1,n=i/e,o=[];if(1===r.length&&"M"===r[0][0]){for(var a=0;a<e-i;a++)r.push(r[0]);return r}for(var s=0;s<e;s++){var u=Math.floor(n*s);o[u]=(o[u]||0)+1}var c=o.reduce(function(t,e,n){return n===i?t.concat(r[i]):t.concat(function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i,o,a,s,u=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var c=r,h=1/n,l=0;l<n-1;l++){var f=(o=h/(1-h*l),s=a=void 0,a=[],s=[],(i=c).length&&function t(e,n){if(1===e.length)a.push(e[0]),s.push(e[0]);else{for(var r=[],i=0;i<e.length-1;i++)0===i&&a.push(e[0]),i===e.length-2&&s.push(e[i+1]),r[i]=[(1-n)*e[i][0]+n*e[i+1][0],(1-n)*e[i][1]+n*e[i+1][1]];t(r,n)}}(i,o),{left:a,right:s.reverse()});u.push(f.left),c=f.right}return u.push(c),u.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),3<=t.length&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])})}(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r}(r[n],r[n+1],e))},[]);return c.unshift(r[0]),"Z"!==t[e]&&"z"!==t[e]||c.push("Z"),c},fillPathByDiff:function(t,e){var n=function(t,e){var n,r,i,o,a,s,u=t.length,c=e.length,h=0;if(0===u||0===c)return null;for(var l=[],f=0;f<=u;f++)l[f]=[],l[f][0]={min:f};for(var d=0;d<=c;d++)l[0][d]={min:d};for(var g=1;g<=u;g++){n=t[g-1];for(var p=1;p<=c;p++){r=e[p-1],h=j(n,r)?0:1;var m=l[g-1][p].min+1,v=l[g][p-1].min+1,y=l[g-1][p-1].min+h;l[g][p]=(s=a=void 0,a=null,(o=v)<(s=y)&&(s=o,a="add"),(i=m)<s&&(s=i,a="del"),{type:a,min:s})}}return l}(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i]!==r){for(var u=1;u<=r;u++){var c=n[u][u].min;s=u;for(var h=a;h<=i;h++)n[u][h].min<c&&(c=n[u][h].min,s=h);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(var l=o.length-1;0<=l;l--)a=o[l].index,"add"===o[l].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var f=i-(r=t.length);if(r<i)for(var d=0;d<f;d++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t},formatPath:function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=l(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(0<r)){t[r]=e[r];break}n=h(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(0<r)){t[r]=e[r];break}n=h(n,t[r-1],2)}t[r]=["C"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(n.length<2){if(!(0<r)){t[r]=e[r];break}n=h(n,t[r-1],1)}t[r]=["S"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;default:t[r]=e[r]}return t},intersection:function(t,e){return function(t,e){var n,r,i,o,a,s,u,c,h,l;t=P(t),e=P(e);for(var f=[],d=0,g=t.length;d<g;d++){var p=t[d];if("M"===p[0])n=a=p[1],r=s=p[2];else{r="C"===p[0]?(n=(h=[n,r].concat(p.slice(1)))[6],h[7]):(h=[n,r,n,r,a,s,a,s],n=a,s);for(var m=0,v=e.length;m<v;m++){var y=e[m];if("M"===y[0])i=u=y[1],o=c=y[2];else{o="C"===y[0]?(i=(l=[i,o].concat(y.slice(1)))[6],l[7]):(l=[i,o,i,o,u,c,u,c],i=u,c);for(var x=B(h,l,void 0),b=0,w=x.length;b<w;b++)x[b].segment1=d,x[b].segment2=m,x[b].bez1=h,x[b].bez2=l;f=f.concat(x)}}}}return f}(t,e)}}},function(t,e,n){var o=n(17),r=n(37),s=n(356),u=n(363),a=function t(e){t.superclass.constructor.call(this,e)};a.Symbols={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},a.ATTRS={path:null,lineWidth:1},o.extend(a,r),o.augment(a,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.radius,i=this.getHitLineWidth()/2+r;return{minX:e-i,minY:n-i,maxX:e+i,maxY:n+i}},_getPath:function(){var t=this._attrs,e=t.x,n=t.y,r=t.radius||t.r,i=t.symbol||"circle";return(o.isFunction(i)?i:a.Symbols[i])(e,n,r)},createPath:function(t){var e=this._cfg.segments;if(!e||this._cfg.hasUpdate){var n,r=s.parsePath(this._getPath());t.beginPath(),e=[];for(var i=0;i<r.length;i++){var o=r[i];n=new u(o,n,i===r.length-1),e.push(n),n.draw(t)}this._cfg.segments=e,this._cfg.hasUpdate=!1}else{t.beginPath();for(var a=0;a<e.length;a++)e[a].draw(t)}}}),t.exports=a},function(t,e,n){var y=n(17),S=y.vec2;function M(t,e,n,r,i){var o=1-i;return o*o*(o*r+3*i*n)+i*i*(i*t+3*o*e)}function l(t,e,n,r,i,o,a,s,u,c,h){var l,f,d,g,p,m,v,y,x=.005,b=1/0,w=[u,c];for(f=0;f<1;f+=.05)d=[M(t,n,i,a,f),M(e,r,o,s,f)],(g=S.squaredDistance(w,d))<b&&(l=f,b=g);b=1/0;for(var _=0;_<32&&!(x<1e-4);_++)y=l+x,d=[M(t,n,i,a,v=l-x),M(e,r,o,s,v)],g=S.squaredDistance(w,d),0<=v&&g<b?(l=v,b=g):(m=[M(t,n,i,a,y),M(e,r,o,s,y)],p=S.squaredDistance(w,m),y<=1&&p<b?(l=y,b=p):x*=.5);return h&&(h.x=M(t,n,i,a,l),h.y=M(e,r,o,s,l)),Math.sqrt(b)}function x(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n}t.exports={at:M,derivativeAt:function(t,e,n,r,i){var o=1-i;return 3*(((e-t)*o+2*(n-e)*i)*o+(r-n)*i*i)},projectPoint:function(t,e,n,r,i,o,a,s,u,c){var h={};return l(t,e,n,r,i,o,a,s,u,c,h),h},pointDistance:l,extrema:function(t,e,n,r){var i,o,a,s=3*t-9*e+9*n-3*r,u=6*e-12*n+6*r,c=3*n-3*r,h=[];if(y.isNumberEqual(s,0))y.isNumberEqual(u,0)||0<=(i=-c/u)&&i<=1&&h.push(i);else{var l=u*u-4*s*c;y.isNumberEqual(l,0)?h.push(-u/(2*s)):0<l&&(o=(-u-(a=Math.sqrt(l)))/(2*s),0<=(i=(-u+a)/(2*s))&&i<=1&&h.push(i),0<=o&&o<=1&&h.push(o))}return h},len:function(t,e,n,r,i,o,a,s,u){y.isNil(u)&&(u=1);for(var c=(u=1<u?1:u<0?0:u)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],l=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,d=0;d<12;d++){var g=c*h[d]+c,p=x(g,t,n,i,a),m=x(g,e,r,o,s),v=p*p+m*m;f+=l[d]*Math.sqrt(v)}return c*f}}},function(t,e,n){var c=n(366),h=n(404),l=n(375),f=n(365);t.exports={line:function(t,e,n,r,i,o,a){var s=c.box(t,e,n,r,i);if(!this.box(s.minX,s.maxX,s.minY,s.maxY,o,a))return!1;var u=c.pointDistance(t,e,n,r,o,a);return!isNaN(u)&&u<=i/2},polyline:function(t,e,n,r){var i=t.length-1;if(i<1)return!1;for(var o=0;o<i;o++){var a=t[o][0],s=t[o][1],u=t[o+1][0],c=t[o+1][1];if(this.line(a,s,u,c,e,n,r))return!0}return!1},cubicline:function(t,e,n,r,i,o,a,s,u,c,h){return l.pointDistance(t,e,n,r,i,o,a,s,c,h)<=u/2},quadraticline:function(t,e,n,r,i,o,a,s,u){return h.pointDistance(t,e,n,r,i,o,s,u)<=a/2},arcline:function(t,e,n,r,i,o,a,s,u){return f.pointDistance(t,e,n,r,i,o,s,u)<=a/2},rect:function(t,e,n,r,i,o){return t<=i&&i<=t+n&&e<=o&&o<=e+r},circle:function(t,e,n,r,i){return Math.pow(r-t,2)+Math.pow(i-e,2)<=Math.pow(n,2)},box:function(t,e,n,r,i,o){return t<=i&&i<=e&&n<=o&&o<=r}}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var c=n(383),h=n(62),l=n(358);t.exports=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(l(e)||l(n))return!1;if(h(e)||h(n)){if(e.length!==n.length)return!1;for(var r=!0,i=0;i<e.length&&(r=t(e[i],n[i]));i++);return r}if(c(e)||c(n)){var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(var s=!0,u=0;u<o.length&&(s=t(e[o[u]],n[o[u]]));u++);return s}return!1}},function(t,e,n){var a=n(359),s=n(29),u=5;function c(t,e,n,r){for(var i in n=n||0,r=r||u,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&a(o)?(a(t[i])||(t[i]={}),n<r?c(t[i],o,n+1,r):t[i]=e[i]):s(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}t.exports=function(){for(var t=new Array(arguments.length),e=t.length,n=0;n<e;n++)t[n]=arguments[n];for(var r=t[0],i=1;i<e;i++)c(r,t[i]);return r}},function(t,e,n){var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(29);t.exports=function t(e){if("object"!==(void 0===e?"undefined":a(e))||null===e)return e;var n=void 0;if(s(e)){n=[];for(var r=0,i=e.length;r<i;r++)"object"===a(e[r])&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var o in n={},e)"object"===a(e[o])&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o];return n}},function(t,e,n){var i=n(151);i.translate=function(t,e,n){var r=new Array(9);return i.fromTranslation(r,n),i.multiply(t,r,e)},i.rotate=function(t,e,n){var r=new Array(9);return i.fromRotation(r,n),i.multiply(t,r,e)},i.scale=function(t,e,n){var r=new Array(9);return i.fromScaling(r,n),i.multiply(t,r,e)},t.exports=i},function(t,e){t.exports=function(t,e,n){return t<e?e:n<t?n:t}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":n(t))&&null!==t}},function(t,e,n){var i=n(30),o=n(62);t.exports=function(t,n){if(!o(t))return t;var r=[];return i(t,function(t,e){n(t,e)&&r.push(t)}),r}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var e=void 0===t?"undefined":n(t);return null!==t&&"object"===e||"function"===e}},function(t,e){var n=function(){function t(){}return t.prototype.execute=function(){throw new Error("please override this method")},t}();t.exports=n},function(t,e,n){t.exports={CompactBoxTree:n(454),Dendrogram:n(453),IndentedTree:n(452),Mindmap:n(451),Base:n(386)}},function(t,e,n){var g=n(22),r=function(n){function t(t){var e={type:"node",isNode:!0,zIndex:3,edges:[],linkable:!0};return g.mix(e,t),n.call(this,e)||this}!function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(t,n);var e=t.prototype;return e.updatePosition=function(){var t=this.group,e=this.model;t.setMatrix([1,0,0,0,1,0,e.x?e.x:0,e.y?e.y:0,1]),this.bbox=this._calculateBBox()},e._shouldDraw=function(){var t=this._getDiff(),e=n.prototype._shouldDraw.call(this);return t&&!(2===t.length&&-1!==t.indexOf("x")&&-1!==t.indexOf("y"))&&!(1===t.length&&("x"===t[0]||"y"===t[0]))&&e},e._afterDraw=function(){this.updatePosition(),n.prototype._afterDraw.call(this)},e.layoutUpdate=function(){this._beforeDraw(),this._afterDraw()},e.getEdges=function(){var n=this;return this.graph.getEdges().filter(function(t){var e=t.getModel();return e.source===n.id||e.target===n.id})},e.getInEdges=function(){var e=this;return this.getEdges().filter(function(t){return t.target===e})},e.getOutEdges=function(){var e=this;return this.getEdges().filter(function(t){return t.source===e})},e.getLinkPoints=function(t){var e=this.getAnchorPoints();if(g.isNumber(t)&&e[t])return[e[t]];var n=t.x,r=t.y,i=this.getBBox(),o=i.centerX,a=i.centerY,s=n-o,u=r-a,c=this.shapeObj,h=c.anchor||{},l=this.defaultIntersectBox,f=[];if(g.isEmpty(e)){switch(c.intersectBox||h.intersectBox||h.type||l){case"rect":f=[g.getIntersectPointRect(i,t)];break;case"path":if(this.keyShape&&"path"===this.keyShape.get("type")){var d=g.parsePathArray(["M",n,r,"L",o,a]);f=[g.intersection(d,this.keyShape.get("path"))]}break;default:f=[g.getIntersectPointCircle(n,r,i.centerX,i.centerY,Math.max(i.width,i.height)/2)]}g.isEmpty(f[0])&&(f=[{x:o,y:a}])}else f=e.map(function(t){var e=t.x-o,n=t.y-a,r=g.getArcOfVectors({x:s,y:u},{x:e,y:n});return g.mix({},t,{arc:r})}).sort(function(t,e){return t.arc-e.arc});return f},e.getAnchorPoints=function(t){var e,n=this.shapeObj,r=this.getBBox(),i=[],o=n.anchor||{};return e=g.isArray(o)?o:g.isFunction(o)?o(this):g.isFunction(o.points)?o.points(this):o.points,g.each(e,function(t,e){var n=g.mix({x:r.minX+t[0]*r.width,y:r.minY+t[1]*r.height},t[2],{index:e});i.push(n)}),this._anchorPoints=i,g.isNumber(t)?this._anchorPoints[t]:this._anchorPoints},t}(n(371));t.exports=r},function(t,e,n){n(481),n(480),n(479);var r=n(478),h=n(476),o=n(449),f=n(22),i=n(472),l=n(147),a=n(470),s=n(468),u=n(466),c=n(465),d=n(463),g=n(462),p=n(461),m=n(458),v=n(457),y=[g,s,u,a,p,m,n(456),v,c,d],x=function(a){!function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(e,a);var t=e.prototype;function e(e){var t,n={};return y.forEach(function(t){f.mix(n,f.clone(t.CFG),e)}),(t=a.call(this,n)||this)._pluginInit(),t.emit("beforeinit"),t._init(),t.emit("afterinit"),t}return t.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,plugins:[],fontFamily:'"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "", SimSun, "sans-serif"',nodeDefaultShape:void 0,edgeDefaultShape:void 0,groupDefaultShape:void 0,defaultIntersectBox:"circle",renderer:"canvas",_type:"graph",_controllers:{},_timers:{},_dataMap:{},_itemMap:{},_freezMap:{},_data:{},_delayRunObj:{}}},t._init=function(){var e=this;this._initData(),this._initContainer(),this._initCanvas(),y.forEach(function(t){t.INIT&&e[t.INIT]()}),this.initEvent()},t.initEvent=function(){},t._executeLayout=function(t,e,n,r){f.isFunction(t)?t(e,n,this):f.isObject(t)&&(t.nodes=e,t.edges=n,t.groups=r,t.graph=this,t.execute())},t._pluginInit=function(){var e=this;this.get("plugins").forEach(function(t){e._initPlugin(t)})},t._initPlugin=function(t){t.graph=this,t.init&&t.init()},t._getTimer=function(t){return this.get("_timers")[t]},t._setTimer=function(t,e){this.get("_timers")[t]=e},t._getController=function(t){return this.get("_controllers")[t]},t._initContainer=function(){var t=this.get("container");t||(t=this.get("id")),t=f.initDOMContainer(t,"graph");var e=f.createDOM('<div class="graph-container"></div>',{position:"relative"});t.appendChild(e),this.set("_containerDOM",t),this.set("_graphContainer",e)},t._initCanvas=function(){var t=this.get("_graphContainer"),e=this.get("width"),n=this.get("height"),r=this.get("fontFamily"),i=this.get("renderer"),o={width:e,height:n,fontFamily:r,renderer:i,eventEnable:!1,containerDOM:t};"svg"===i&&(o.pixelRatio=1);var a=new l.Canvas(o),s=a.get("el");s.style.top=0,s.style.left=0,s.style.overflow="hidden",this.set("_canvas",a);var u=this.getMouseEventWrapper();u.style.outline="none",u.style["user-select"]="none",u.setAttribute("tabindex",20);var c=a.addGroup(),h=c.addGroup();this.set("_itemGroup",h),this.set("_rootGroup",c)},t._initData=function(){this.set("_dataMap",{}),this.set("_itemMap",{_nodes:[],_edges:[],_groups:[],_guides:[]}),this.set("_data",{})},t._refresh=function(){},t.getKeyboardEventWrapper=function(){var t=this.get("keyboardEventWrapper");return t||this.getMouseEventWrapper()},t.getMouseEventWrapper=function(){return this.get("_canvas").get("el")},t.addPlugin=function(t){var e=this.get("plugins");this._initPlugin(t),e.push(t)},t.getGraphContainer=function(){return this.get("_graphContainer")},t._sortGroup=function(t){var r=this.get("_dataMap"),i={};t.forEach(function(t){var e=t.id,n=t.parent;for(i[e]=1;n&&r[n];)i[e]++,n=r[n].parent}),t.sort(function(t,e){return i[e.id]-i[t.id]})},t._addItems=function(n,t){var r=this;this._addDatas(n,t),"group"===n&&this._sortGroup(t);var e=f.upperFirst(n),i=h[e],o=this.get("_itemMap"),a=this.get("_itemGroup"),s=this.get("_dataMap"),u=this.get("animate"),c=this.get("defaultIntersectBox");if(!i)throw new Error("please set valid item type!");t.forEach(function(t){var e=new i({id:t.id,type:n,model:t,group:a.addGroup(),graph:r,mapper:r._getController(n+"Mapper"),itemMap:o,animate:u,dataMap:s,defaultIntersectBox:c});o[t.id]=e,o["_"+n+"s"].push(e)})},t._removeItems=function(t){var e=this.get("_dataMap"),n=this.get("_itemMap");t.forEach(function(t){delete e[t.id],delete n[t.id],f.Array.remove(n["_"+t.type+"s"],t),t.destroy()})},t._updateItems=function(t,r){t.forEach(function(t,e){var n=r[e];n&&f.mix(t.getModel(),n),t.update()})},t._getShowEdge=function(t){var e=t.getSource(),n=t.getTarget();return(e.linkable&&e.isVisible()||!e.linkable)&&(n.linkable&&n.isVisible()||!n.linkable)&&t},t._addDatas=function(t,e){var n=this.get("_dataMap");e.forEach(function(t){if(f.isNil(t.id)&&(t.id=f.guid()),n[t.id])throw new Error("id:"+t.id+" has already been set, please set new one");n[t.id]=t})},t._drawInner=function(){var t=this.get("_data"),e=this.get("_itemGroup"),i=this.get("_dataMap"),o=this.get("_itemMap");t.nodes&&this._addItems("node",t.nodes),t.groups&&this._addItems("group",t.groups),t.edges&&this._addItems("edge",t.edges),t.guides&&this._addItems("guide",t.guides),e.sortBy(function(t){var e=t.id,n=o[e],r=i[e];return r&&!f.isNil(r.index)?r.index:!n||n.destroyed||f.isNil(n.zIndex)?void 0:n.zIndex})},t._clearInner=function(){this.getItems().forEach(function(t){t&&t.destroy()})},t.preventAnimate=function(t){return this.set("_forcePreventAnimate",!0),t(),this.set("_forcePreventAnimate",!1),this},t.getShapeObj=function(t,e){if(f.isObject(t))return t.getShapeObj();var n=f.upperFirst(t),r=o[n],i=this.get(t+"DefaultShape");return r.getShape(e.shape,i)},t.getSource=function(){return this.get("_sourceData")},t.parseSource=function(t){return t},t.getCanvas=function(){return this.get("_canvas")},t.getRootGroup=function(){return this.get("_rootGroup")},t.getItemGroup=function(){return this.get("_itemGroup")},t.source=function(t){return this.emit("beforesource"),this.set("_data",t),this.set("_sourceData",t),this.emit("aftersource"),this},t.render=function(){return this.emit("beforerender"),this.emit("beforedrawinner"),this._drawInner(),this.emit("afterdrawinner"),this.emit("afterrender"),this},t.reRender=function(){var t=this.get("_sourceData");return this.read(t),this},t.setCapture=function(t){this.get("_rootGroup").set("capture",t)},t.destroy=function(){this.emit("beforedestroy");var t=this.get("_canvas"),e=this.get("_graphContainer"),n=this.get("_controllers"),r=this.get("_timers"),i=this.get("_windowForceResizeEvent"),o=this.get("plugins");return f.each(r,function(t){clearTimeout(t)}),f.each(n,function(t){t.destroy()}),o.forEach(function(t){t.destroy&&t.destroy()}),t&&t.destroy(),e.destroy(),window.removeEventListener("resize",i),this.emit("afterdestroy"),a.prototype.destroy.call(this),this},t.save=function(){var o={nodes:[],edges:[],groups:[],guides:[]};return this.get("_itemGroup").get("children").forEach(function(t,e){var n=t.model;if(n){var r=t.itemType,i=f.clone(n);i.index=e,o[r+"s"].push(i)}}),0===o.nodes.length&&delete o.nodes,0===o.edges.length&&delete o.edges,0===o.groups.length&&delete o.groups,0===o.guides.length&&delete o.guides,o},t.add=function(t,e){var n=[],r={action:"add",model:e,affectedItemIds:n};this.emit("beforechange",r);var i=this.get("_itemMap");this._addItems(t,[e]);var o=i[e.id];return o.getAllParents().forEach(function(t){t.update()}),r.item=o,n.push(e.id),this.emit("afterchange",r),o},t.remove=function(t){if((t=this.getItem(t))&&!t.destroyed){var e=[],n=[],r={action:"remove",item:t,affectedItemIds:n};if(t.isNode){var i=t.getEdges();e=e.concat(i)}if(t.isGroup){var o=t.getEdges(),a=t.getAllChildren(),s=t.getCrossEdges(),u=t.getInnerEdges();e=e.concat(o,a,s,u),e=f.uniq(e)}e.push(t);var c=t.getAllParents();return c.forEach(function(t){n.push(t.id)}),e.forEach(function(t){n.push(t.id)}),this.emit("beforechange",r),this._removeItems(e),c.forEach(function(t){t.update()}),this.emit("afterchange",r),this}},t.simpleUpdate=function(t,e){return this._updateItems([t],[e]),this.draw(),this},t.update=function(t,e){var n=this.get("_itemMap");if((t=this.getItem(t))&&!t.destroyed&&e){var r=this.get("animate"),i=[],o=[],a=[],s=t.getModel(),u=f.mix({},s),c={action:"update",item:t,originModel:u,updateModel:e,affectedItemIds:a},h=n[u.parent];if(i.push(t),o.push(e),a.push(t.id),h&&h!==parent&&f.isGroup(h)&&t.getAllParents().forEach(function(t){i.push(t),o.push(null),a.push(t.id)}),e.parent){var l=n[e.parent];if(!l)throw new Error("there is no "+e.parent+" exist, please add a new one!");i.push(l),o.push(null),a.push(l.id),l.getAllParents().forEach(function(t){i.push(t),o.push(null),a.push(t.id)})}return(t.isNode||t.isGroup)&&t.getEdges().forEach(function(t){i.push(t),o.push(null),a.push(t.id)}),t.isGroup&&!f.isNil(e.collapsed)&&(r&&t.deepEach(function(t){a.push(t.id)}),t.getCrossEdges().forEach(function(t){i.push(t),o.push(null),a.push(t.id)})),this.emit("beforechange",c),this._updateItems(i,o),this.emit("afterchange",c),this}},t.read=function(t){var e=this;if(!t)throw new Error("please read valid data!");var n={action:"changeData",data:t};return this.emit("beforechange",n),this.preventAnimate(function(){e.clear(),e.source(t),e.render()}),this.emit("afterchange",n),this},t.clear=function(){return this.emit("beforeclear"),this._clearInner(),this._initData(),this.emit("afterclear"),this},t.hide=function(t){var e=[],n=[],r={item:t=this.getItem(t),affectedItemIds:n};return e.push(t),t.isNode&&t.getEdges().forEach(function(t){e.push(t)}),t.isGroup&&(t.getEdges().forEach(function(t){e.push(t)}),t.deepEach(function(t){e.push(t)})),(e=f.uniq(e)).forEach(function(t){n.push(t.id)}),this.emit("beforehide",r),e.forEach(function(t){t.hide()}),this.emit("afterhide",r),this},t.show=function(t){var e=this,n=[],r=[],i={item:t=this.getItem(t),affectedItemIds:r};if(t.visible=!0,t.isEdge){var o=this._getShowEdge(t);o&&n.push(o)}else n.push(t);return t.isNode&&t.getEdges().forEach(function(t){(t=e._getShowEdge(t))&&n.push(t)}),t.isGroup&&(t.getEdges().forEach(function(t){(t=e._getShowEdge(t))&&n.push(t)}),t.deepEach(function(t){n.push(t)})),(n=f.uniq(n)).forEach(function(t){r.push(t.id)}),this.emit("beforeshow",i),n.forEach(function(t){t.show()}),this.emit("aftershow",i),this},t.getWidth=function(){return this.get("width")},t.getHeight=function(){return this.get("height")},t.changeSize=function(t,e){if(!(Math.abs(t)>=1/0||Math.abs(e)>=1/0)){var n=this.get("_canvas");return t===this.get("width")&&e===this.get("height")||(this.emit("beforechangesize"),n.changeSize(t,e),this.set("width",t),this.set("height",e),this.emit("afterchangesize"),this.draw()),this}console.warn("size parameter more than the maximum")},t.toFront=function(t){t=this.getItem(t);var e=this.get("_itemGroup"),n=t.getGraphicGroup();f.toFront(n,e),this.draw()},t.toBack=function(t){t=this.getItem(t);var e=this.get("_itemGroup"),n=t.getGraphicGroup();f.toBack(n,e),this.draw()},t.css=function(t){var e=this.getGraphContainer();f.modifyCSS(e,t)},t.saveImage=function(t){var e=this.getBBox(),n=this.getFitViewPadding();return new i(function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({graph:this,width:e.width+n[1]+n[3],height:e.height+n[0]+n[2]},t)).toCanvas()},e}(r);y.forEach(function(t){f.mix(x.prototype,t.AUGMENT)}),t.exports=x},function(t,e){var o={registerBehaviour:function(t,e,n){e.dependences=n,o[t]=e},resetMode:function(t,e){var n,r=[];e._off();for(var i=0;i<t.length;i++)(n=o[t[i]])&&(n.dependences&&n.dependences.forEach(function(t){t&&-1===r.indexOf(t)&&(o[t](e),r.push(t))}),n&&-1===r.indexOf(n)&&n(e))}};t.exports=o},function(t,e,n){var l=n(17),r=n(37),i=function t(e){t.superclass.constructor.call(this,e)};i.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},l.extend(i,r),l.augment(i,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var t=this._attrs.fontSize;t&&+t<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+t/12,+t/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var t=this._attrs,e=t.fontSize,n=t.fontFamily,r=t.fontWeight,i=t.fontStyle,o=t.fontVariant;t.font=[i,o,r,e+"px",n].join(" ")},_setAttrText:function(){var t=this._attrs,e=t.text,n=null;if(l.isString(e)&&-1!==e.indexOf("\n")){var r=(n=e.split("\n")).length;t.lineCount=r}t.textArr=n},_getTextHeight:function(){var t=this._attrs,e=t.lineCount,n=1*t.fontSize;return 1<e?n*e+this._getSpaceingY()*(e-1):n},isHitBox:function(){return!1},calculateBox:function(){var t=this._attrs,e=this._cfg;e.attrs&&!e.hasUpdate||(this._assembleFont(),this._setAttrText()),t.textArr||this._setAttrText();var n=t.x,r=t.y,i=this.measureText();if(!i)return{minX:n,minY:r,maxX:n,maxY:r};var o=this._getTextHeight(),a=t.textAlign,s=t.textBaseline,u=this.getHitLineWidth(),c={x:n,y:r-o};a&&("end"===a||"right"===a?c.x-=i:"center"===a&&(c.x-=i/2)),s&&("top"===s?c.y+=o:"middle"===s&&(c.y+=o/2)),this.set("startPoint",c);var h=u/2;return{minX:c.x-h,minY:c.y-h,maxX:c.x+i+h,maxY:c.y+o+h}},_getSpaceingY:function(){var t=this._attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},drawInner:function(t){var e=this._attrs,n=this._cfg;n.attrs&&!n.hasUpdate||(this._assembleFont(),this._setAttrText()),t.font=e.font;var r=e.text;if(r){var i=e.textArr,o=e.x,a=e.y;if(t.beginPath(),this.hasStroke()){var s=e.strokeOpacity;l.isNil(s)||1===s||(t.globalAlpha=s),i?this._drawTextArr(t,!1):t.strokeText(r,o,a),t.globalAlpha=1}if(this.hasFill()){var u=e.fillOpacity;l.isNil(u)||1===u||(t.globalAlpha=u),i?this._drawTextArr(t,!0):t.fillText(r,o,a)}n.hasUpdate=!1}},_drawTextArr:function(n,r){var i,t=this._attrs.textArr,o=this._attrs.textBaseline,a=1*this._attrs.fontSize,s=this._getSpaceingY(),u=this._attrs.x,c=this._attrs.y,e=this.getBBox(),h=e.maxY-e.minY;l.each(t,function(t,e){i=c+e*(s+a)-h+a,"middle"===o&&(i+=h-a-(h-a)/2),"top"===o&&(i+=h-a),r?n.fillText(t,u,i):n.strokeText(t,u,i)})},measureText:function(){var e,t=this._attrs,n=t.text,r=t.font,i=t.textArr,o=0;if(!l.isNil(n)){var a=document.createElement("canvas").getContext("2d");return a.save(),a.font=r,i?l.each(i,function(t){e=a.measureText(t).width,o<e&&(o=e),a.restore()}):(o=a.measureText(n).width,a.restore()),o}}}),t.exports=i},function(t,e,n){var r=n(17),u=n(356).parseRadius,i=n(37),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.width,i=t.height,o=this.getHitLineWidth()/2;return{minX:e-o,minY:n-o,maxX:e+r+o,maxY:n+i+o}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.width,o=e.height,a=e.radius;if((t=t||this.get("context")).beginPath(),0===a)t.rect(n,r,i,o);else{var s=u(a);t.moveTo(n+s.r1,r),t.lineTo(n+i-s.r2,r),0!==s.r2&&t.arc(n+i-s.r2,r+s.r2,s.r2,-Math.PI/2,0),t.lineTo(n+i,r+o-s.r3),0!==s.r3&&t.arc(n+i-s.r3,r+o-s.r3,s.r3,0,Math.PI/2),t.lineTo(n+s.r4,r+o),0!==s.r4&&t.arc(n+s.r4,r+o-s.r4,s.r4,Math.PI/2,Math.PI),t.lineTo(n,r+s.r1),0!==s.r1&&t.arc(n+s.r1,r+s.r1,s.r1,Math.PI,1.5*Math.PI),t.closePath()}}}),t.exports=o},function(t,e,n){var u=n(17),r=n(37),i=n(364),c=n(366),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},u.extend(o,r),u.augment(o,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=this.getHitLineWidth(),n=t.points;if(!n||0===n.length)return null;var r=1/0,i=1/0,o=-1/0,a=-1/0;u.each(n,function(t){var e=t[0],n=t[1];e<r&&(r=e),o<e&&(o=e),n<i&&(i=n),a<n&&(a=n)});var s=e/2;return{minX:r-s,minY:i-s,maxX:o+s,maxY:a+s}},_setTcache:function(){var n,r,i=this._attrs.points,o=0,a=0,s=[];i&&0!==i.length&&(u.each(i,function(t,e){i[e+1]&&(o+=c.len(t[0],t[1],i[e+1][0],i[e+1][1]))}),o<=0||(u.each(i,function(t,e){i[e+1]&&((n=[])[0]=a/o,r=c.len(t[0],t[1],i[e+1][0],i[e+1][1]),a+=r,n[1]=a/o,s.push(n))}),this.tCache=s))},createPath:function(t){var e,n,r=this._attrs.points;if(!(r.length<2)){for((t=t||this.get("context")).beginPath(),t.moveTo(r[0][0],r[0][1]),n=1,e=r.length-1;n<e;n++)t.lineTo(r[n][0],r[n][1]);t.lineTo(r[e][0],r[e][1])}},getStartTangent:function(){var t=this.__attrs.points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},getEndTangent:function(){var t=this.__attrs.points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},afterPath:function(t){var e=this._attrs,n=e.points,r=n.length-1;t=t||this.get("context"),e.startArrow&&i.addStartArrow(t,e,n[1][0],n[1][1],n[0][0],n[0][1]),e.endArrow&&i.addEndArrow(t,e,n[r-1][0],n[r-1][1],n[r][0],n[r][1])},getPoint:function(n){var r,i,t=this._attrs.points,e=this.tCache;return e||(this._setTcache(),e=this.tCache),u.each(e,function(t,e){n>=t[0]&&n<=t[1]&&(r=(n-t[0])/(t[1]-t[0]),i=e)}),{x:c.at(t[i][0],t[i+1][0],r),y:c.at(t[i][1],t[i+1][1],r)}}}),t.exports=o},function(t,e,n){var s=n(17),r=n(37),i=function t(e){t.superclass.constructor.call(this,e)};i.ATTRS={points:null,lineWidth:1},s.extend(i,r),s.augment(i,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs.points,e=this.getHitLineWidth();if(!t||0===t.length)return null;var r=1/0,i=1/0,o=-1/0,a=-1/0;s.each(t,function(t){var e=t[0],n=t[1];e<r&&(r=e),o<e&&(o=e),n<i&&(i=n),a<n&&(a=n)});var n=e/2;return{minX:r-n,minY:i-n,maxX:o+n,maxY:a+n}},createPath:function(n){var t=this._attrs.points;t.length<2||((n=n||this.get("context")).beginPath(),s.each(t,function(t,e){0===e?n.moveTo(t[0],t[1]):n.lineTo(t[0],t[1])}),n.closePath())}}),t.exports=i},function(t,e,n){var h=n(17),r=n(37),s=n(363),u=n(356),a=n(364),i=n(373),l=n(375),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},h.extend(o,r),h.augment(o,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(t){if(h.isNil(t))return this.setSilent("segments",null),void this.setSilent("box",void 0);var e,n=u.parsePath(t),r=[];if(h.isArray(n)&&0!==n.length&&("M"===n[0][0]||"m"===n[0][0])){for(var i=n.length,o=0;o<n.length;o++){var a=n[o];e=new s(a,e,o===i-1),r.push(e)}this.setSilent("segments",r),this.setSilent("tCache",null),this.setSilent("box",null)}},calculateBox:function(){var t=this.get("segments");if(!t)return null;var n=this.getHitLineWidth(),r=1/0,i=-1/0,o=1/0,a=-1/0;return h.each(t,function(t){t.getBBox(n);var e=t.box;e&&(e.minX<r&&(r=e.minX),e.maxX>i&&(i=e.maxX),e.minY<o&&(o=e.minY),e.maxY>a&&(a=e.maxY))}),r===1/0||o===1/0?{minX:0,minY:0,maxX:0,maxY:0}:{minX:r,minY:o,maxX:i,maxY:a}},_setTcache:function(){var n,r,i,o,a=0,s=0,u=[],c=this._cfg.curve;c&&(h.each(c,function(t,e){i=c[e+1],o=t.length,i&&(a+=l.len(t[o-2],t[o-1],i[1],i[2],i[3],i[4],i[5],i[6]))}),h.each(c,function(t,e){i=c[e+1],o=t.length,i&&((n=[])[0]=s/a,r=l.len(t[o-2],t[o-1],i[1],i[2],i[3],i[4],i[5],i[6]),s+=r,n[1]=s/a,u.push(n))}),this._cfg.tCache=u)},_calculateCurve:function(){var t=this._attrs.path;this._cfg.curve=i.pathTocurve(t)},getStartTangent:function(){var t,e,n,r,i=this.get("segments");if(1<i.length)if(t=i[0].endPoint,e=i[1].endPoint,n=i[1].startTangent,r=[],h.isFunction(n)){var o=n();r.push([t.x-o[0],t.y-o[1]]),r.push([t.x,t.y])}else r.push([e.x,e.y]),r.push([t.x,t.y]);return r},getEndTangent:function(){var t,e,n,r,i=this.get("segments"),o=i.length;if(1<o)if(t=i[o-2].endPoint,e=i[o-1].endPoint,n=i[o-1].endTangent,r=[],h.isFunction(n)){var a=n();r.push([e.x-a[0],e.y-a[1]]),r.push([e.x,e.y])}else r.push([t.x,t.y]),r.push([e.x,e.y]);return r},getPoint:function(n){var r,i,t=this._cfg.tCache;t||(this._calculateCurve(),this._setTcache(),t=this._cfg.tCache);var e=this._cfg.curve;if(!t)return e?{x:e[0][1],y:e[0][2]}:null;h.each(t,function(t,e){n>=t[0]&&n<=t[1]&&(r=(n-t[0])/(t[1]-t[0]),i=e)});var o=e[i];if(h.isNil(o)||h.isNil(i))return null;var a=o.length,s=e[i+1];return{x:l.at(o[a-2],s[1],s[3],s[5],1-r),y:l.at(o[a-1],s[2],s[4],s[6],1-r)}},createPath:function(t){var e=this.get("segments");if(h.isArray(e)){(t=t||this.get("context")).beginPath();for(var n=e.length,r=0;r<n;r++)e[r].draw(t)}},afterPath:function(t){var e=this._attrs,n=this.get("segments"),r=e.path;if(t=t||this.get("context"),h.isArray(n)&&1!==n.length&&(e.startArrow||e.endArrow)&&"z"!==r[r.length-1]&&"Z"!==r[r.length-1]&&!e.fill){var i=this.getStartTangent();a.addStartArrow(t,e,i[0][0],i[0][1],i[1][0],i[1][1]);var o=this.getEndTangent();a.addEndArrow(t,e,o[0][0],o[0][1],o[1][0],o[1][1])}}}),t.exports=o},function(t,e,n){var r=n(17),i=n(37),a=n(364),s=n(366),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(o,i),r.augment(o,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=this.getHitLineWidth();return s.box(e,n,r,i,o)},createPath:function(t){var e=this._attrs,n=e.x1,r=e.y1,i=e.x2,o=e.y2;(t=t||self.get("context")).beginPath(),t.moveTo(n,r),t.lineTo(i,o)},afterPath:function(t){var e=this._attrs,n=e.x1,r=e.y1,i=e.x2,o=e.y2;t=t||this.get("context"),e.startArrow&&a.addStartArrow(t,e,i,o,n,r),e.endArrow&&a.addEndArrow(t,e,n,r,i,o)},getPoint:function(t){var e=this._attrs;return{x:s.at(e.x1,e.x2,t),y:s.at(e.y1,e.y2,t)}}}),t.exports=o},function(t,e,n){var f=n(17),r=n(37),i=function t(e){t.superclass.constructor.call(this,e)};i.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},f.extend(i,r),f.augment(i,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var t=this._attrs;this._cfg.attrs&&this._cfg.attrs.img===t.img||this._setAttrImg();var e=t.x,n=t.y;return{minX:e,minY:n,maxX:e+t.width,maxY:n+t.height}},_beforeSetLoading:function(t){var e=this.get("canvas");return!1===t&&!0===this.get("toDraw")&&(this._cfg.loading=!1,e.draw()),t},_setAttrImg:function(){var e=this,t=e._attrs,n=t.img;if(!f.isString(n))return n instanceof Image?(t.width||e.attr("width",n.width),t.height||e.attr("height",n.height),n):n instanceof HTMLElement&&f.isString(n.nodeName)&&"CANVAS"===n.nodeName.toUpperCase()?(t.width||e.attr("width",Number(n.getAttribute("width"))),t.height||e.attr("height",Number(n.getAttribute("height"))),n):n instanceof ImageData?(t.width||e.attr("width",n.width),t.height||e.attr("height",n.height),n):null;var r=new Image;r.onload=function(){if(e.get("destroyed"))return!1;e.attr("imgSrc",n),e.attr("img",r);var t=e.get("callback");t&&t.call(e),e.set("loading",!1)},r.src=n,r.crossOrigin="Anonymous",e.set("loading",!0)},drawInner:function(t){this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")?this.set("toDraw",!0):(this._drawImage(t),this._cfg.hasUpdate=!1)},_drawImage:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.img,o=e.width,a=e.height,s=e.sx,u=e.sy,c=e.swidth,h=e.sheight;this.set("toDraw",!1);var l=i;if(l instanceof ImageData&&((l=new Image).src=i),l instanceof Image||l instanceof HTMLElement&&f.isString(l.nodeName)&&"CANVAS"===l.nodeName.toUpperCase()){if(f.isNil(s)||f.isNil(u)||f.isNil(c)||f.isNil(h))return void t.drawImage(l,n,r,o,a);if(!(f.isNil(s)||f.isNil(u)||f.isNil(c)||f.isNil(h)))return void t.drawImage(l,s,u,c,h,n,r,o,a)}}}),t.exports=i},function(t,e,n){var r=n(17),i=n(37),f=n(365),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.rs,i=t.re,o=t.startAngle,a=t.endAngle,s=t.clockwise,u=this.getHitLineWidth(),c=f.box(e,n,r,o,a,s),h=f.box(e,n,i,o,a,s),l=u/2;return{minX:Math.min(c.minX,h.minX)-l,minY:Math.min(c.minY,h.minY)-l,maxX:Math.max(c.maxX,h.maxX)+l,maxY:Math.max(c.maxY,h.maxY)+l}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.rs,o=e.re,a=e.startAngle,s=e.endAngle,u=e.clockwise,c={x:Math.cos(a)*i+n,y:Math.sin(a)*i+r},h={x:Math.cos(a)*o+n,y:Math.sin(a)*o+r},l={x:Math.cos(s)*i+n,y:Math.sin(s)*i+r};(t=t||self.get("context")).beginPath(),t.moveTo(c.x,c.y),t.lineTo(h.x,h.y),t.arc(n,r,o,a,s,u),t.lineTo(l.x,l.y),t.arc(n,r,i,s,a,!u),t.closePath()}}),t.exports=o},function(t,e,n){var h=n(17),r=n(37),i=function t(e){t.superclass.constructor.call(this,e)};i.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},h.extend(i,r),h.augment(i,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.rx,i=t.ry,o=this.getHitLineWidth(),a=r+o/2,s=i+o/2;return{minX:e-a,minY:n-s,maxX:e+a,maxY:n+s}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.rx,o=e.ry;t=t||self.get("context");var a=o<i?i:o,s=o<i?1:i/o,u=o<i?o/i:1,c=[1,0,0,0,1,0,0,0,1];h.mat3.scale(c,c,[s,u]),h.mat3.translate(c,c,[n,r]),t.beginPath(),t.save(),t.transform(c[0],c[1],c[3],c[4],c[6],c[7]),t.arc(0,0,a,0,2*Math.PI),t.restore(),t.closePath()}}),t.exports=i},function(t,e,n){var r=n(17),i=n(37),o=function t(e){t.superclass.constructor.call(this,e)};r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.width,i=t.height,o=this.getHitLineWidth()/2;return{minX:e-o,minY:n-o,maxX:e+r+o,maxY:n+i+o}}}),t.exports=o},function(t,e,n){var r=n(17),i=n(37),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,r:0,lineWidth:1},r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.r,i=this.getHitLineWidth()/2+r;return{minX:e-i,minY:n-i,maxX:e+i,maxY:n+i}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()}}),t.exports=o},function(t,e,n){var r=n(17),i=n(37),c=n(365),o=n(364);function f(t,e,n){return t+e*Math.cos(n)}function d(t,e,n){return t+e*Math.sin(n)}var a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(a,i),r.augment(a,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.r,i=t.startAngle,o=t.endAngle,a=t.clockwise,s=this.getHitLineWidth()/2,u=c.box(e,n,r,i,o,a);return u.minX-=s,u.minY-=s,u.maxX+=s,u.maxY+=s,u},getStartTangent:function(){var t=this._attrs,e=t.x,n=t.y,r=t.startAngle,i=t.r,o=t.clockwise,a=Math.PI/180;o&&(a*=-1);var s=[],u=f(e,i,r+a),c=d(n,i,r+a),h=f(e,i,r),l=d(n,i,r);return s.push([u,c]),s.push([h,l]),s},getEndTangent:function(){var t=this._attrs,e=t.x,n=t.y,r=t.endAngle,i=t.r,o=t.clockwise,a=Math.PI/180,s=[];o&&(a*=-1);var u=f(e,i,r+a),c=d(n,i,r+a),h=f(e,i,r),l=d(n,i,r);return s.push([h,l]),s.push([u,c]),s},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.r,o=e.startAngle,a=e.endAngle,s=e.clockwise;(t=t||self.get("context")).beginPath(),t.arc(n,r,i,o,a,s)},afterPath:function(t){var e=this._attrs;if(t=t||this.get("context"),e.startArrow){var n=this.getStartTangent();o.addStartArrow(t,e,n[0][0],n[0][1],n[1][0],n[1][1])}if(e.endArrow){var r=this.getEndTangent();o.addEndArrow(t,e,r[0][0],r[0][1],r[1][0],r[1][1])}}}),t.exports=a},function(t,e){t.exports={xAt:function(t,e,n,r,i){return e*Math.cos(t)*Math.cos(i)-n*Math.sin(t)*Math.sin(i)+r},yAt:function(t,e,n,r,i){return e*Math.sin(t)*Math.cos(i)+n*Math.cos(t)*Math.sin(i)+r},xExtrema:function(t,e,n){return Math.atan(-n/e*Math.tan(t))},yExtrema:function(t,e,n){return Math.atan(n/(e*Math.tan(t)))}}},function(t,e,n){var o=n(17),w=o.vec2;function _(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function c(t,e,n,r,i,o,a,s,u){var c,h,l,f,d,g,p,m=.005,v=1/0,y=[a,s];for(d=0;d<1;d+=.05)l=[_(t,n,i,d),_(e,r,o,d)],(h=w.squaredDistance(y,l))<v&&(c=d,v=h);for(v=1/0,p=0;p<32&&!(m<1e-4);p++){var x=c-m,b=c+m;l=[_(t,n,i,x),_(e,r,o,x)],h=w.squaredDistance(y,l),0<=x&&h<v?(c=x,v=h):(f=[_(t,n,i,b),_(e,r,o,b)],g=w.squaredDistance(y,f),b<=1&&g<v?(c=b,v=g):m*=.5)}return u&&(u.x=_(t,n,i,c),u.y=_(e,r,o,c)),Math.sqrt(v)}t.exports={at:_,projectPoint:function(t,e,n,r,i,o,a,s){var u={};return c(t,e,n,r,i,o,a,s,u),u},pointDistance:c,extrema:function(t,e,n){var r=t+n-2*e;if(o.isNumberEqual(r,0))return[.5];var i=(t-e)/r;return i<=1&&0<=i?[i]:[]}}},function(t,e,n){var a=n(17),r=n(512),i=n(511),o=n(510),s=n(61),u=function(t){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},a.assign(this._cfg,this.getDefaultCfg(),t),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};u.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},a.augment(u,r,i,s,o,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(t,e){return"zIndex"===t&&this._beforeSetZIndex&&this._beforeSetZIndex(e),"loading"===t&&this._beforeSetLoading&&this._beforeSetLoading(e),this._cfg[t]=e,this},setSilent:function(t,e){this._cfg[t]=e},get:function(t){return this._cfg[t]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(t,e){var n=this._cfg,r=n.parent,i=n.el;return r&&a.remove(r.get("children"),this),i&&(e?r&&r._cfg.tobeRemoved.push(i):i.parentNode.removeChild(i)),!t&&void 0!==t||this.destroy(),this},destroy:function(){this.get("destroyed")||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var t=this._cfg,e=t.parent;if(e){var n=e._cfg.children,r=t.el,i=n.indexOf(this);n.splice(i,1),n.push(this),r&&(r.parentNode.removeChild(r),t.el=null)}},toBack:function(){var t=this._cfg,e=t.parent;if(e){var n=e._cfg.children,r=t.el,i=n.indexOf(this);if(n.splice(i,1),n.unshift(this),r){var o=r.parentNode;o.removeChild(r),o.insertBefore(r,o.firstChild)}}},_beforeSetZIndex:function(t){var e=this._cfg.parent;this._cfg.zIndex=t,a.isNil(e)||e.sort();var n=this._cfg.el;if(n){var r=e._cfg.children,i=r.indexOf(this),o=n.parentNode;o.removeChild(n),i===r.length-1?o.appendChild(n):o.insertBefore(n,o.childNodes[i])}return t},_setAttrs:function(t){return this.attr(t),t},setZIndex:function(t){return this._cfg.zIndex=t,this._beforeSetZIndex(t)},clone:function(){return a.clone(this)},getBBox:function(){}}),t.exports=u},function(t,e,n){var s=n(17),r=n(405),u=n(509),c={},i="_INDEX";function a(t,e,n){for(var r,i=t.length-1;0<=i;i--){var o=t[i];if(o._cfg.visible&&o._cfg.capture&&(o.isGroup?r=o.getShape(e,n):o.isHit(e,n)&&(r=o)),r)break}return r}var o=function t(e){t.superclass.constructor.call(this,e),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};s.extend(o,r),s.augment(o,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return function t(e){if(!e._cfg&&e!==o){var n=e.superclass.constructor;n&&!n._cfg&&t(n),e._cfg={},s.merge(e._cfg,n._cfg),s.merge(e._cfg,e.CFG)}}(this.constructor),s.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(t,e){var n=this.get("canvas");e=e||{};var r=c[t];if(r||(r=s.upperFirst(t),c[t]=r),e.attrs&&n){var i=e.attrs;if("text"===t){var o=n.get("fontFamily");o&&(i.fontFamily=i.fontFamily?i.fontFamily:o)}}e.canvas=n,e.type=t;var a=new u[r](e);return this.add(a),a},addGroup:function(t,e){var n,r=this.get("canvas");if(e=s.merge({},e),s.isFunction(t))n=e?(e.canvas=r,e.parent=this,new t(e)):new t({canvas:r,parent:this}),this.add(n);else if(s.isObject(t))t.canvas=r,n=new o(t),this.add(n);else{if(void 0!==t)return!1;n=new o,this.add(n)}return n},renderBack:function(t,e){var n=this.get("backShape"),r=this.getBBox();return s.merge(e,{x:r.minX-t[3],y:r.minY-t[0],width:r.width+t[1]+t[3],height:r.height+t[0]+t[2]}),n?n.attr(e):n=this.addShape("rect",{zIndex:-1,attrs:e}),this.set("backShape",n),this.sort(),n},removeChild:function(t,e){if(2<=arguments.length)this.contain(t)&&t.remove(e);else{if(1===arguments.length){if(!s.isBoolean(t))return this.contain(t)&&t.remove(!0),this;e=t}0===arguments.length&&(e=!0),o.superclass.remove.call(this,e)}return this},add:function(t){var n=this,e=n.get("children");if(s.isArray(t))s.each(t,function(t){var e=t.get("parent");e&&e.removeChild(t,!1),n._setCfgProperty(t)}),n._cfg.children=e.concat(t);else{var r=t,i=r.get("parent");i&&i.removeChild(r,!1),n._setCfgProperty(r),e.push(r)}return n},_setCfgProperty:function(t){var e=this._cfg;t.set("parent",this),t.set("canvas",e.canvas),e.timeline&&t.set("timeline",e.timeline)},contain:function(t){return-1<this.get("children").indexOf(t)},getChildByIndex:function(t){return this.get("children")[t]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var t=this.get("children").length-1;return this.getChildByIndex(t)},getBBox:function(){var h=1/0,l=-1/0,f=1/0,d=-1/0,t=this.get("children");0<t.length?s.each(t,function(t){if(t.get("visible")){if(t.isGroup&&0===t.get("children").length)return;var e=t.getBBox();if(!e)return!0;var n=[e.minX,e.minY,1],r=[e.minX,e.maxY,1],i=[e.maxX,e.minY,1],o=[e.maxX,e.maxY,1];t.apply(n),t.apply(r),t.apply(i),t.apply(o);var a=Math.min(n[0],r[0],i[0],o[0]),s=Math.max(n[0],r[0],i[0],o[0]),u=Math.min(n[1],r[1],i[1],o[1]),c=Math.max(n[1],r[1],i[1],o[1]);a<h&&(h=a),l<s&&(l=s),u<f&&(f=u),d<c&&(d=c)}}):d=f=l=h=0;var e={minX:h,minY:f,maxX:l,maxY:d};return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e},getCount:function(){return this.get("children").length},sort:function(){var t=this.get("children");return s.each(t,function(t,e){return t[i]=e,t}),t.sort(function(t,e){var n=function(t,e){return t.get("zIndex")-e.get("zIndex")}(t,e);return 0===n?t[i]-e[i]:n}),this},findById:function(e){return this.find(function(t){return t.get("id")===e})},find:function(e){if(s.isString(e))return this.findById(e);var t=this.get("children"),n=null;return s.each(t,function(t){if(e(t)?n=t:t.find&&(n=t.find(e)),n)return!1}),n},findAll:function(e){var t=this.get("children"),n=[],r=[];return s.each(t,function(t){e(t)&&n.push(t),t.findAllBy&&(r=t.findAllBy(e),n=n.concat(r))}),n},findBy:function(e){var t=this.get("children"),n=null;return s.each(t,function(t){if(e(t)?n=t:t.findBy&&(n=t.findBy(e)),n)return!1}),n},findAllBy:function(e){var t=this.get("children"),n=[],r=[];return s.each(t,function(t){e(t)&&n.push(t),t.findAllBy&&(r=t.findAllBy(e),n=n.concat(r))}),n},getShape:function(t,e){var n,r=this._attrs.clip,i=this._cfg.children;if(r){var o=[t,e,1];r.invert(o,this.get("canvas")),r.isPointInPath(o[0],o[1])&&(n=a(i,t,e))}else n=a(i,t,e);return n},clearTotalMatrix:function(){if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var t=this._cfg.children,e=0;e<t.length;e++)t[e].clearTotalMatrix()}},clear:function(t){for(var e=this._cfg.children,n=e.length-1;0<=n;n--)e[n].remove(!0,t);return this._cfg.children=[],this},destroy:function(){this.get("destroyed")||(this.clear(),o.superclass.destroy.call(this))},clone:function(){var t=this._cfg.children,e=new o;return s.each(t,function(t){e.add(t.clone())}),e}}),t.exports=o},function(t,e,n){var r=n(17),i=function(t,e,n,r){this.type=t,this.target=null,this.currentTarget=null,this.bubbles=n,this.cancelable=r,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=e};r.augment(i,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return r.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),t.exports=i},function(t,e,n){t.exports={isFunction:n(47),isObject:n(385),isBoolean:n(419),isNil:n(136),isString:n(358),isArray:n(29),isNumber:n(135),isEmpty:n(413),uniqueId:n(412),clone:n(380),deepMix:n(379),assign:n(369),merge:n(379),upperFirst:n(421),each:n(30),isEqual:n(378),toArray:n(367),extend:n(416),augment:n(417),remove:n(442),isNumberEqual:n(439),toRadian:n(435),toDegree:n(437),mod:n(438),clamp:n(382),createDom:n(447),modifyCSS:n(446),requestAnimationFrame:n(445),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:n(381),vec2:n(434),vec3:n(433),transform:n(432)}},function(t,e,n){var r=n(410).Symbol;t.exports=r},function(t,e,n){var r=n(521),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){var y=n(377),x=n(522),b=n(520),w=Math.max,_=Math.min;t.exports=function(r,n,t){var i,o,a,s,u,c,h=0,l=!1,f=!1,e=!0;if("function"!=typeof r)throw new TypeError("Expected a function");function d(t){var e=i,n=o;return i=o=void 0,h=t,s=r.apply(n,e)}function g(t){var e=t-c;return void 0===c||n<=e||e<0||f&&a<=t-h}function p(){var t=x();if(g(t))return m(t);u=setTimeout(p,function(t){var e=n-(t-c);return f?_(e,a-(t-h)):e}(t))}function m(t){return u=void 0,e&&i?d(t):(i=o=void 0,s)}function v(){var t=x(),e=g(t);if(i=arguments,o=this,c=t,e){if(void 0===u)return function(t){return h=t,u=setTimeout(p,n),l?d(t):s}(c);if(f)return u=setTimeout(p,n),d(c)}return void 0===u&&(u=setTimeout(p,n)),s}return n=b(n)||0,y(t)&&(l=!!t.leading,a=(f="maxWait"in t)?w(b(t.maxWait)||0,n):a,e="trailing"in t?!!t.trailing:e),v.cancel=function(){void 0!==u&&clearTimeout(u),i=c=o=u=void(h=0)},v.flush=function(){return void 0===u?s:m(x())},v}},function(t,e){var n=function(){var e={};return function(t){return e[t=t||"g"]?e[t]+=1:e[t]=1,t+e[t]}}();t.exports=n},function(t,e,n){var r=n(136),i=n(62),o=n(420),a=n(418),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(r(t))return!0;if(i(t))return!t.length;var e=o(t);if("Map"===e||"Set"===e)return!t.size;if(a(t))return!Object.keys(t).length;for(var n in t)if(s.call(t,n))return!1;return!0}},function(t,e,n){var i=n(30),o=n(29),a=Object.prototype.hasOwnProperty;t.exports=function(t,e){if(!e||!o(t))return t;var n={},r=null;return i(t,function(t){r=e(t),a.call(n,r)?n[r].push(t):n[r]=[t]}),n}},function(t,e,n){var r=n(47),o=n(29),a=n(414);t.exports=function(t,e){if(!e)return{0:t};if(!r(e)){var i=o(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",n=0,r=i.length;n<r;n++)e+=t[i[n]]&&t[i[n]].toString();return e}}return a(t,e)}},function(t,e,n){var a=n(47),s=n(369);t.exports=function(t,e,n,r){a(e)||(n=e,e=t,t=function(){});var i=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},o=i(e.prototype,t);return t.prototype=s(o,t.prototype),t.superclass=i(e.prototype,e),s(o,n),s(t,r),t}},function(t,e,n){var i=n(47),o=n(367),a=n(369);t.exports=function(t){for(var e=o(arguments),n=1;n<e.length;n++){var r=e[n];i(r)&&(r=r.prototype),a(t.prototype,r)}}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(60);t.exports=function(t){return r(t,"Boolean")}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).replace(/^\[object /,"").replace(/\]$/,"")}},function(t,e,n){var r=n(357);t.exports=function(t){var e=r(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e,n){var r=n(357);t.exports=function(t){return r(t).toUpperCase()}},function(t,e,n){var r=n(357);t.exports=function(t){return r(t).toLowerCase()}},function(t,e){t.exports=function(t,e){for(var n=[],r=0,i=t.length;r<i-2*!e;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="\t\n\v\f\r \u2028\u2029",i=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),s=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig");t.exports=function(t){if(!t)return null;if((void 0===t?"undefined":n(t))===n([]))return t;var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(t).replace(i,function(t,e,n){var r=[],i=e.toLowerCase();if(n.replace(s,function(t,e){e&&r.push(+e)}),"m"===i&&2<r.length&&(a.push([e].concat(r.splice(0,2))),i="l",e="m"===e?"l":"L"),"o"===i&&1===r.length&&a.push([e,r[0]]),"r"===i)a.push([e].concat(r));else for(;r.length>=o[i]&&(a.push([e].concat(r.splice(0,o[i]))),o[i]););}),a}},function(t,e,n){var b=n(425),w=n(424);function _(t,e,n,r,i){var o=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var a=Math.PI/180,s=t+n*Math.cos(-r*a),u=t+n*Math.cos(-i*a);o=[["M",s,e+n*Math.sin(-r*a)],["A",n,n,0,+(180<i-r),0,u,e+n*Math.sin(-i*a)]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o}t.exports=function(t){if(!(t=b(t))||!t.length)return[["M",0,0]];var e=[],n=0,r=0,i=0,o=0,a=0,s=void 0,u=void 0;"M"===t[0][0]&&(i=n=+t[0][1],o=r=+t[0][2],a++,e[0]=["M",n,r]);for(var c,h,l=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),f=a,d=t.length;f<d;f++){if(e.push(c=[]),(s=(h=t[f])[0])!==s.toUpperCase())switch(c[0]=s.toUpperCase(),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+h[6]+n,c[7]=+h[7]+r;break;case"V":c[1]=+h[1]+r;break;case"H":c[1]=+h[1]+n;break;case"R":for(var g=2,p=(u=[n,r].concat(h.slice(1))).length;g<p;g++)u[g]=+u[g]+n,u[++g]=+u[g]+r;e.pop(),e=e.concat(w(u,l));break;case"O":e.pop(),(u=_(n,r,h[1],h[2])).push(u[0]),e=e.concat(u);break;case"U":e.pop(),e=e.concat(_(n,r,h[1],h[2],h[3])),c=["U"].concat(e[e.length-1].slice(-2));break;case"M":i=+h[1]+n,o=+h[2]+r;break;default:for(var m=1,v=h.length;m<v;m++)c[m]=+h[m]+(m%2?n:r)}else if("R"===s)u=[n,r].concat(h.slice(1)),e.pop(),e=e.concat(w(u,l)),c=["R"].concat(h.slice(-2));else if("O"===s)e.pop(),(u=_(n,r,h[1],h[2])).push(u[0]),e=e.concat(u);else if("U"===s)e.pop(),e=e.concat(_(n,r,h[1],h[2],h[3])),c=["U"].concat(e[e.length-1].slice(-2));else for(var y=0,x=h.length;y<x;y++)c[y]=h[y];if("O"!==(s=s.toUpperCase()))switch(c[0]){case"Z":n=+i,r=+o;break;case"H":n=c[1];break;case"V":r=c[1];break;case"M":i=c[c.length-2],o=c[c.length-1];break;default:n=c[c.length-2],r=c[c.length-1]}}return e}},function(t,e,n){var x=n(426),b=function(t,e,n,r){return[t,e,n,r,n,r]},w=function(t,e,n,r,i,o){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]};t.exports=function(t,e){var o=x(t),a=e&&x(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i=[],s=[],u="",c="",h=void 0,l=function(t,e,n){var r=void 0,i=void 0;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(function t(e,n,r,i,o,a,s,u,c,h){r===i&&(r+=1);var l=120*Math.PI/180,f=Math.PI/180*(+o||0),d=[],g=void 0,p=void 0,m=void 0,v=void 0,y=void 0,x=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(h)p=h[0],m=h[1],v=h[2],y=h[3];else{e=(g=x(e,n,-f)).x,n=g.y,u=(g=x(u,c,-f)).x,c=g.y,e===u&&n===c&&(u+=1,c+=1);var b=(e-u)/2,w=(n-c)/2,_=b*b/(r*r)+w*w/(i*i);1<_&&(r*=_=Math.sqrt(_),i*=_);var S=r*r,M=i*i,P=(a===s?-1:1)*Math.sqrt(Math.abs((S*M-S*w*w-M*b*b)/(S*w*w+M*b*b)));v=P*r*w/i+(e+u)/2,y=P*-i*b/r+(n+c)/2,p=Math.asin(((n-y)/i).toFixed(9)),m=Math.asin(((c-y)/i).toFixed(9)),p=e<v?Math.PI-p:p,m=u<v?Math.PI-m:m,p<0&&(p=2*Math.PI+p),m<0&&(m=2*Math.PI+m),s&&m<p&&(p-=2*Math.PI),!s&&p<m&&(m-=2*Math.PI)}var O=m-p;if(Math.abs(O)>l){var E=m,A=u,C=c;m=p+l*(s&&p<m?1:-1),d=t(u=v+r*Math.cos(m),c=y+i*Math.sin(m),r,i,o,0,s,A,C,[m,E,v,y])}O=m-p;var k=Math.cos(p),I=Math.sin(p),B=Math.cos(m),j=Math.sin(m),T=Math.tan(O/4),L=4/3*r*T,N=4/3*i*T,D=[e,n],G=[e+L*I,n-N*k],Y=[u+L*j,c-N*B],X=[u,c];if(G[0]=2*D[0]-G[0],G[1]=2*D[1]-G[1],h)return[G,Y,X].concat(d);for(var F=[],R=0,H=(d=[G,Y,X].concat(d).join().split(",")).length;R<H;R++)F[R]=R%2?x(d[R-1],d[R],f).y:x(d[R],d[R+1],f).x;return F}.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":i="C"===n||"S"===n?(r=2*e.x-e.bx,2*e.y-e.by):(r=e.x,e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(w(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(w(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(b(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(b(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(b(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(b(e.x,e.y,e.X,e.Y))}return t},f=function(t,e){if(7<t[e].length){t[e].shift();for(var n=t[e];n.length;)i[e]="A",a&&(s[e]="A"),t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),h=Math.max(o.length,a&&a.length||0)}},d=function(t,e,n,r,i){t&&e&&"M"===t[i][0]&&"M"!==e[i][0]&&(e.splice(i,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=t[i][1],n.y=t[i][2],h=Math.max(o.length,a&&a.length||0))};h=Math.max(o.length,a&&a.length||0);for(var g=0;g<h;g++){o[g]&&(u=o[g][0]),"C"!==u&&(i[g]=u,g&&(c=i[g-1])),o[g]=l(o[g],n,c),"A"!==i[g]&&"C"===u&&(i[g]="C"),f(o,g),a&&(a[g]&&(u=a[g][0]),"C"!==u&&(s[g]=u,g&&(c=s[g-1])),a[g]=l(a[g],r,c),"A"!==s[g]&&"C"===u&&(s[g]="C"),f(a,g)),d(o,a,n,r,g),d(a,o,r,n,g);var p=o[g],m=a&&a[g],v=p.length,y=a&&m.length;n.x=p[v-2],n.y=p[v-1],n.bx=parseFloat(p[v-4])||n.x,n.by=parseFloat(p[v-3])||n.y,r.bx=a&&(parseFloat(m[y-4])||r.x),r.by=a&&(parseFloat(m[y-3])||r.y),r.x=a&&m[y-2],r.y=a&&m[y-1]}return a?[o,a]:o}},function(t,e){var n=/,?([a-z]),?/gi;t.exports=function(t){return t.join(",").replace(n,"$1")}},function(t,e,n){var a=n(428);t.exports=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=a,o}},function(t,e,n){var i=n(30),o=n(47),r=Object.values?function(t){return Object.values(t)}:function(n){var r=[];return i(n,function(t,e){o(n)&&"prototype"===e||r.push(t)}),r};t.exports=r},function(t,e){t.exports=function(t,e){return t.hasOwnProperty(e)}},function(t,e,n){var r=n(380),i=n(30),o=n(381);t.exports=function(e,t){return e=r(e),i(t,function(t){switch(t[0]){case"t":o.translate(e,e,[t[1],t[2]]);break;case"s":o.scale(e,e,[t[1],t[2]]);break;case"r":o.rotate(e,e,t[1]);break;case"m":o.multiply(e,e,t[1]);break;default:return!1}}),e}},function(t,e,n){var r=n(149);t.exports=r},function(t,e,n){var o=n(150),r=n(382);o.angle=function(t,e){var n=o.dot(t,e)/(o.length(t)*o.length(e));return Math.acos(r(n,-1,1))},o.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},o.angleTo=function(t,e,n){var r=o.angle(t,e),i=0<=o.direction(t,e);return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r},o.vertical=function(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t},t.exports=o},function(t,e){var n=Math.PI/180;t.exports=function(t){return n*t}},function(t,e){t.exports=parseInt},function(t,e){var n=180/Math.PI;t.exports=function(t){return n*t}},function(t,e){t.exports=function(t,e){return(t%e+e)%e}},function(t,e){t.exports=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1e-5;return Math.abs(t-e)<n}},function(t,e,n){var r=n(30),i=n(368);t.exports=function(t){var e=[];return r(t,function(t){i(e,t)||e.push(t)}),e}},function(t,e,n){var a=n(62),s=Array.prototype.splice;t.exports=function(t,e){if(!a(t))return[];for(var n=t?e.length:0,r=n-1;n--;){var i=void 0,o=e[n];n!==r&&o===i||(i=o,s.call(t,o,1))}return t}},function(t,e){var n=Array.prototype,o=n.splice,a=n.indexOf,s=n.slice;t.exports=function(t){for(var e=s.call(arguments,1),n=0;n<e.length;n++)for(var r=e[n],i=-1;-1<(i=a.call(t,r));)o.call(t,i,1);return t}},function(t,e,n){var i=n(30),o=n(47),r=Object.keys?function(t){return Object.keys(t)}:function(n){var r=[];return i(n,function(t,e){o(n)&&"prototype"===e||r.push(e)}),r};t.exports=r},function(t,e,n){var a=n(443),s=n(136);t.exports=function(t,e){var n=a(e),r=n.length;if(s(t))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(e[o]!==t[o]||!(o in t))return!1}return!0}},function(t,e){t.exports=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e){t.exports=function(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}},function(t,e){var n=document.createElement("table"),r=document.createElement("tr"),i=/^\s*<(\w+|!)[^>]*>/,o={tr:document.createElement("tbody"),tbody:n,thead:n,tfoot:n,td:r,th:r,"*":document.createElement("div")};t.exports=function(t){var e=i.test(t)&&RegExp.$1;e in o||(e="*");var n=o[e];t=t.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+t;var r=n.childNodes[0];return n.removeChild(r),r}},function(t,e,n){var o=n(152),g={isBetween:function(t,e,n){return e<=t&&t<=n},getLineIntersect:function(t,e,n,r){var i=n.x-t.x,o=n.y-t.y,a=e.x-t.x,s=e.y-t.y,u=r.x-n.x,c=r.y-n.y,h=a*c-s*u,l=null;if(.001*(a*a+s*s)*(u*u+c*c)<h*h){var f=(i*c-o*u)/h,d=(i*s-o*a)/h;g.isBetween(f,0,1)&&g.isBetween(d,0,1)&&(l={x:t.x+f*a,y:t.y+f*s})}return l},getIntersectPointRect:function(t,e){var n=t.minX,r=t.minY,i=t.maxX-t.minX,o=t.maxY-t.minY,a=[],s={x:n+i/2,y:r+o/2};a.push({x:n,y:r}),a.push({x:n+i,y:r}),a.push({x:n+i,y:r+o}),a.push({x:n,y:r+o}),a.push({x:n,y:r});for(var u=null,c=1;c<a.length&&!(u=g.getLineIntersect(a[c-1],a[c],s,e));c++);return u},getIntersectPointCircle:function(t,e,n,r,i){if(Math.sqrt(Math.pow(t-n,2)+Math.pow(e-r,2))<i)return null;var o=t-n,a=e-r,s=Math.sign(o),u=Math.sign(a),c=Math.atan(a/o);return{x:n+Math.abs(i*Math.cos(c))*s,y:r+Math.abs(i*Math.sin(c))*u}},applyMatrix:function(t,e,n){void 0===n&&(n=1);var r=[t.x,t.y,n];return o.vec3.transformMat3(r,r,e),{x:r[0],y:r[1]}},invertMatrix:function(t,e,n){void 0===n&&(n=1);var r=o.mat3.invert([],e),i=[t.x,t.y,n];return o.vec3.transformMat3(i,i,r),{x:i[0],y:i[1]}},radixSort:function(t,e){var n,r,i,o,a,s,u,c=10,h=1,l=[],f=1;for(i=0;i<t.length;i++)n=e(t[i]),r=(n=parseInt(n,10)).toString().length,n.toString().length>f&&(f=r);for(i=0;i<f;i++,h*=10,c*=10){for(o=0;o<t.length;o++)a=e(t[o]),void 0===l[a=parseInt(a%c/h,10)]&&(l[a]=[]),l[a].push(t[o]);for(o=s=0;o<l.length;o++)if((u=void 0)!==l[o])for(u=l[o].shift();void 0!==u;)t[s++]=u,u=l[o].shift()}return t},getArcOfVectors:function(t,e){var n=t.x,r=t.y,i=e.x,o=e.y,a=Math.sqrt(n*n+r*r),s=Math.sqrt(i*i+o*o);return Math.acos((n*i+r*o)/(a*s))}};t.exports=o.mix({},o,g)},function(t,e,n){var r=n(153);r.registerShapeManager("node",{defaultShapeType:"common"}),r.registerShapeManager("edge",{defaultShapeType:"common"}),r.registerShapeManager("group",{defaultShapeType:"common"}),r.registerShapeManager("guide",{defaultShapeType:"common"}),n(490),n(487),n(485),n(483),t.exports=r},function(t,e,n){var i=n(146),o=n(372),a=n(22);setTimeout(function(){var t=i.track;if(i.track){var e=new Image,n={pg:document.URL,r:(new Date).getTime(),g6:!0,version:o,page_type:"syslog"};a.isObject(t)&&a.mix(n,t);var r=encodeURIComponent(JSON.stringify([n]));e.src="https://kcart.alipay.com/web/bi.do?BIProfile=merge&d="+r}},2e3)},function(t,e,n){var r=n(361),i=function(n){function t(t){var e;return(e=n.call(this,t)||this).layout=r.mindmap,e}return function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(t,n),t}(n(360));t.exports=i},function(t,e,n){var r=n(361),i=function(n){function t(t){var e;return(e=n.call(this,t)||this).layout=r.indented,e}return function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(t,n),t}(n(360));t.exports=i},function(t,e,n){var r=n(361),i=function(n){function t(t){var e;return(e=n.call(this,t)||this).layout=r.dendrogram,e}return function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(t,n),t}(n(360));t.exports=i},function(t,e,n){var r=n(361),i=function(n){function t(t){var e;return(e=n.call(this,t)||this).layout=r.compactBox,e}return function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(t,n),t}(n(360));t.exports=i},function(t,e,n){var l=n(22),r=n(389),i=n(387),o=function(n){function t(t){var e=l.mix({layout:new i.CompactBoxTree({getHGap:function(){return 10},getVGap:function(){return 10}}),_type:"tree"},t);return n.call(this,e)||this}!function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(t,n);var e=t.prototype;return e.initEvent=function(){var n=this;this.on("afterdrawinner",function(){n.get("_sourceData").roots.forEach(function(t){var e=n.find(t.id);n._setVisibleByCollapsed(e)})})},e._executeLayout=function(t){var e=this.get("_sourceData");l.isFunction(t)?t(e.roots,this):l.isObject(t)&&(t.roots=e.roots,t.graph=this,t.execute())},e.getHierarchy=function(t){t=this.getItem(t);for(var e=this.get("_dataMap"),n=t.getModel().parent,r=1;n;)n=e[n].parent,r++;return r},e.parseSource=function(t){var e=t.roots,n=this.get("_dataMap"),r=[],i=[];if(!e)throw new Error("please set data.roots!");return e.forEach(function(t){l.traverseTree(t,function(t,e){t.id||(t.id=l.guid()),e||(e=n[t.parent]),e&&(t.parent=e.id,e.id||(e.id=l.guid()),i.push({source:e.id,target:t.id,id:e.id+"-"+t.id})),r.push(t)},function(t){return t.children},!0)}),{nodes:r,edges:i}},e._setVisibleByCollapsed=function(t){var e=t.getModel();t.collapsedParent?(t.hide(),t.getEdges().forEach(function(t){t.hide()}),t.deepEach(function(t){t.hide(),t.getEdges().forEach(function(t){t.hide()})})):e.collapsed?t.deepEach(function(t){t.hide(),t.getEdges().forEach(function(t){t.hide()})}):t.deepEach(function(t){t.collapsedParent&&(t.hide(),t.getEdges().forEach(function(t){t.hide()}))})},e.source=function(t){var e=this.parseSource(t);this.emit("beforesource"),this.set("_sourceData",t),this.set("_data",e),this.emit("aftersource")},e._setNodeNth=function(t,e){var n=(t=this.getItem(t)).getModel(),r=t.getParent().getModel().children;l.Array.remove(r,n),r.splice(e,0,n)},e.getNth=function(t){var e=(t=this.getItem(t)).getModel();return t.getParent().getModel().children.indexOf(e)},e.add=function(t,e){var n,r=this.get("_dataMap")[e.parent],i={action:"add",model:e};if("node"===t||"guide"===t){if(this.emit("beforechange",i),"node"===t){if(!r)throw new Error("please set available parent Id !");l.isArray(r.children)?r.children.push(e):r.children=[e];var o=this.parseSource({roots:[e]});this._addItems("node",o.nodes),this._addItems("edge",o.edges),n=this.find(e.id),this._setVisibleByCollapsed(n),l.isNil(e.nth)||this._setNodeNth(n,e.nth),this.find(r.id).forceUpdate()}else this._addItems(t,[e]),n=this.find(e.id);return i.item=n,this.emit("afterchange",i),n}console.warn("Tree do not support add type "+t+"!")},e.update=function(t,e){var r=this;if(e){var n=(t=this.getItem(t)).getModel(),i=l.mix({},n),o={action:"update",item:t,originModel:i,updateModel:e};if(this.emit("beforechange",o),this._updateItems([t],[e]),t.isNode){if("collapsed"in e&&(e.collapsed?t.deepEach(function(t){t.hide(),t.getEdges().forEach(function(t){t.hide()})}):t.deepEach(function(t){t.show(),t.getInEdges().forEach(function(t){t.show()})},function(t){return t.model.collapsed?null:t.getChildren()})),e.parent&&e.parent!==i.parent){var a=this.find(i.parent).getModel(),s=this.find(e.parent).getModel(),u=this.find(a.id+"-"+i.id),c={id:s.id+"-"+i.id,source:s.id,target:i.id};l.Array.remove(a.children,n),s.children?s.children.push(n):s.children=[n],this._removeItems([u]),this._addItems("edge",[c]),this.find(s.id).forceUpdate()}l.isArray(e.children)&&(i.children&&l.each(i.children,function(t){var e=r.find(t.id),n=[e];e.getEdges().forEach(function(t){n.push(t)}),r._removeItems(n)}),l.each(e.children,function(t){var e=r.parseSource({roots:[t]}),n=l.isNil(t.id)?l.guid():t.id;r._addItems("node",e.nodes),r._addItems("edge",e.edges),t.parent||r._addItems("edge",[{id:i.id+"-"+n,source:i.id,target:n}])})),l.isNil(e.nth)||this._setNodeNth(t,e.nth);var h=this.find(n.parent);h&&h.forceUpdate()}return this.emit("afterchange",o),this}},e.remove=function(t){var e=this.get("_dataMap"),n=[];if((t=this.getItem(t))&&!t.destroyed){var r={action:"remove",item:t};if(this.emit("beforechange",r),n.push(t),t.getEdges().forEach(function(t){n.push(t)}),"node"===t.type){var i=t.getModel(),o=e[i.parent];t.deepEach(function(t){n.push(t),t.getEdges().forEach(function(t){n.push(t)})}),l.Array.remove(o.children,i),this.find(o.id).forceUpdate()}return this._removeItems(l.uniq(n)),this.emit("afterchange",r),this}},e.getRoots=function(){var e=this;return this.getSource().roots.map(function(t){return e.find(t.id)})},e.save=function(){var t={roots:l.clone(this.getSource().roots),guides:this.getGuides().map(function(t){return t.getModel()})};return 0===t.roots.length&&delete t.roots,0===t.guides.length&&delete t.guides,t},t}(r);t.exports=o},function(t,e,n){var a=n(22),r={INIT:"_initForceFit"};r.AUGMENT={_initForceFit:function(){var t=this.get("width"),e=this.get("height");return t||e?t?e?void 0:(this.forceFit("height"),void this._bindForceEvent("height")):(this.forceFit("width"),void this._bindForceEvent("width")):(this.forceFit(),void this._bindForceEvent())},_bindForceEvent:function(e){var n=this,r=this._getTimer("forceFit"),t=function(){var t=setTimeout(function(){n.forceFit(e)},200);r&&clearTimeout(r),n._setTimer("forceFit",t)};window.addEventListener("resize",t),this.set("_windowForceResizeEvent",t)},forceFit:function(t){var e=this.get("_containerDOM"),n=this.get("width"),r=this.get("height"),i=a.getHeight(e),o=a.getWidth(e);return"width"===t?this.changeSize(o,r):"height"===t?this.changeSize(n,i):this.changeSize(o,i),this}},t.exports=r},function(t,e,n){var h=n(22),r={CFG:{fitView:void 0,fitViewPadding:10,minZoom:.2,maxZoom:10}};r.AUGMENT={getBBox:function(){var t=this.get("_itemGroup"),n=this.get("_itemMap"),e=t.get("children");return 0<e.length?(e=e.filter(function(t){var e=n[t.id];return!!e&&!1!==e.getShapeObj().bboxCalculation}),h.getChildrenBBox(e)):{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},getFitViewPadding:function(){return h.toAllPadding(this.get("fitViewPadding"))},setFitView:function(t){if(!t)return this;if("autoZoom"===t)return this.autoZoom(),this;var e=this.getFitViewPadding(),n=this.get("width"),r=this.get("height"),i=this.getBBox(),o=i.maxX-i.minX,a=i.maxY-i.minY,s={x:0,y:0,width:n,height:r},u=h.getNineBoxPosition(t,s,o,a,e),c=[1,0,0,0,1,0,0,0,1];h.mat3.translate(c,c,[-i.minX+u.x,-i.minY+u.y]),this.updateMatrix(c)},_getZoomRatio:function(t){var e=this.get("maxZoom"),n=this.get("minZoom");return t<n&&(t=n),e<t&&(t=e),t},autoZoom:function(t){var e=this;t||(t=this.getFitViewPadding());var n=this.get("width"),r=this.get("height"),i=this.getBBox(),o=h.getAutoZoomMatrix({minX:0,minY:0,maxX:n,maxY:r},i,t,function(t){return e._getZoomRatio(t)});this.updateMatrix(o)},getZoom:function(){return this.getMatrix()[0]},updateMatrix:function(t){var e=this.getMatrix(),n={updateMatrix:t,originMatrix:e},r=e[0]!==t[0];return this.emit("beforeviewportchange",n),r&&this.emit("beforezoom",n),this.setMatrix(t),r&&this.emit("afterzoom",n),this.emit("afterviewportchange",n),this.draw(),this},zoom:function(t,e){if(!h.isNumber(t)){e=this._getZoomRatio(e);var n=this.get("_rootGroup"),r=h.clone(n.getMatrix()),i=r[6]+r[0]*t.x-e*t.x,o=r[7]+r[0]*t.y-e*t.y;return r[6]=0,r[7]=0,r[0]=e,r[4]=e,h.mat3.translate(r,r,[i,o]),this.updateMatrix(r),this}var a=this.get("width"),s=this.get("height");this.zoomByDom({x:a/2,y:s/2},t)},zoomByDom:function(t,e){var n=this.getPoint(t);return this.zoom(n,e),this},translate:function(t,e){var n=this.get("_rootGroup").getMatrix();return h.mat3.translate(n,n,[t,e]),this.updateMatrix(n),this},translateByDom:function(t,e){var n=this.get("_rootGroup").getMatrix()[0];return this.translate(t/n,e/n),this},getMatrix:function(){return this.get("_rootGroup").getMatrix()},setMatrix:function(t){this.get("_rootGroup").setMatrix(t)},getPoint:function(t){return this.getPointByDom(t)},getPointByDom:function(t){var e=this.get("_rootGroup").getMatrix();return h.invertMatrix(t,e)},getPointByCanvas:function(t){var e=this.get("_canvas").get("pixelRatio");return this.getPoint({x:t.x/e,y:t.y/e})},getPointByClient:function(t){var e=this.get("_canvas").getPointByClient(t.x,t.y);return this.getPointByCanvas(e)},getDomPoint:function(t){var e=this.get("_rootGroup").getMatrix();return h.applyMatrix(t,e)},getCanvasPoint:function(t){var e=this.get("_canvas").get("pixelRatio"),n=this.getDomPoint(t);return{x:n.x*e,y:n.y*e}},getClientPoint:function(t){var e=this.getCanvasPoint(t),n=this.get("_canvas").getClientByPoint(e.x,e.y);return{x:n.clientX,y:n.clientY}},focus:function(t){if(h.isString(t)&&(t=this.find(t)),t){var e=t.getCenter();this.focusPoint(e)}return this},focusPoint:function(t){var e=this.get("_rootGroup").getMatrix(),n=this.get("width"),r=this.get("height"),i=-e[6]+n/2-e[0]*t.x,o=-e[7]+r/2-e[0]*t.y;return this.translate(i,o),this},focusPointByDom:function(t){var e=this.getPoint(t);return this.focusPoint(e),this}},t.exports=r},function(t,e){t.exports={INIT:"_initDraw",AUGMENT:{_initDraw:function(){var i=this,o=this.get("_controllers").animate;["clear","show","hide","change","updatenodeposition"].forEach(function(t){o&&i.on("before"+t,function(t){var e=i.get("_forcePreventAnimate"),n=t?t.affectedItemIds:void 0;!0!==e&&o&&o.cacheGraph("startCache",n)}),i.on("after"+t,function(t){var e=t?t.affectedItemIds:void 0,n=i.get("_forcePreventAnimate");if(t&&"changeData"===t.action){var r=i.get("fitView");r&&i.setFitView(r)}!0!==n&&o?(o.cacheGraph("endCache",e),o.run()):i.draw()})})},draw:function(){this.get("_canvas").draw()},animateDraw:function(){this.get("_controllers").animate.run()}}}},function(t,e,n){var s=n(146);function r(t,e){var n=t.getGraphicGroup(),r=t.getBBox(),i=(r.minX+r.maxX)/2,o=(r.minY+r.maxY)/2,a=n.getMatrix()[0];n.transform([["t",-i,-o],["s",.01/a,.01/a],["t",i,o]]),n.animate({transform:[["t",-i,-o],["s",100*a,100*a],["t",i,o]]},s.enterDuration,s.enterEasing,e)}function i(t,e){var n=t.getGraphicGroup(),r=t.getBBox(),i=(r.minX+r.maxX)/2,o=(r.minY+r.maxY)/2,a=n.getMatrix()[0];n.animate({transform:[["t",-i,-o],["s",.01/a,.01/a],["t",i,o]]},s.leaveDuration,s.leaveEasing,e)}function o(t,e){if(t.isShape){var n=t.attr("fillOpacity"),r=t.attr("strokeOpacity");t.attr({fillOpacity:0,strokeOpacity:0}),t.animate({fillOpacity:n,strokeOpacity:r},s.enterDuration,s.enterEasing,e)}}function a(t,e){t.isShape&&t.animate({fillOpacity:0,strokeOpacity:0},s.leaveDuration,s.leaveEasing,e)}t.exports={enterScaleIn:function(t){var e=t.item;t.element.isItemContainer&&e.getKeyShape()&&r(e)},showScaleIn:function(t){var e=t.item;t.element.isItemContainer&&e.getKeyShape()&&r(e)},leaveScaleOut:function(t){var e=t.item,n=t.element,r=t.done;n.isItemContainer&&i(e,function(){r()})},hideScaleOut:function(t){var e=t.item,n=t.element,r=t.done;n.isItemContainer&&i(e,function(){r()})},enterFadeIn:function(t){o(t.element)},showFadeIn:function(t){o(t.element)},leaveFadeOut:function(t){a(t.element,t.done)},hideFaseOut:function(t){a(t.element,t.done)}}},function(t,e,n){var r=n(362),u=n(459),h=n(22),i=n(146),o=["matrix","fillStyle","strokeStyle","endArrow","startArrow"],a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){return{show:"scaleIn",hide:"scaleOut",enter:"scaleIn",leave:"scaleOut",update:function(t){var e=t.element,n=t.endKeyFrame.props;e.animate(function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({matrix:n.matrix},n.attrs),i.updateDuration,i.updateEasing)},graph:null,startCache:{},endCache:{},keykeyCache:{}}},n._init=function(){var e=this,t=this.graph,n=this.keykeyCache;t.on("afteritemdraw",function(t){t.item.getGraphicGroup().deepEach(function(t){n[t.gid]=e._getCache(t)},!0)})},n.cacheGraph=function(e,t){var n,r=this,i=this.graph;n=t?t.map(function(t){return i.find(t)}):i.getItems(),this[e]={},n.forEach(function(t){t&&r.cache(t,r[e],e)})},n._getCache=function(t){var e=this.keykeyCache;if(!h.isObject(t))return e[t];var n={props:{matrix:h.clone(t.getMatrix()),attrs:{}}};if(t.isShape){var r=t.attr();r=h.omit(r,o),n.props.attrs=h.clone(r)}return n},n._getAnimation=function(t,e){var n=this.graph,r=t.shapeObj,i=this[e],o=r[e+"Animation"]||r[e+"Animate"],a=n.get("_"+e+"Animation"),s=o||a||i;return h.isString(s)?u[e+h.upperFirst(s)]:s},n.cache=function(r,i,o){var a=this;r.getGraphicGroup().deepEach(function(t){var e=t.gid,n="startCache"===o?a._getCache(t):a._getCache(t.gid);n.enterAnimate=a._getAnimation(r,"enter"),n.leaveAnimate=a._getAnimation(r,"leave"),n.showAnimate=a._getAnimation(r,"show"),n.hideAnimate=a._getAnimation(r,"hide"),n.updateAnimate=a._getAnimation(r,"update"),n.item=r,n.element=t,n.visible=t.get("visible"),i[e]=n},!0)},n._compare=function(){var r=this.startCache,n=this.endCache,i=[],o=[],a=[],s=[],u=[];h.each(n,function(t,e){var n=r[e];n?n.element.get("type")===t.element.get("type")&&(n.visible&&t.visible?a.push(e):n.visible&&!t.visible?s.push(e):!n.visible&&t.visible&&u.push(e)):i.push(e)}),h.each(r,function(t,e){n[e]||o.push(e)}),this.enterElements=i,this.leaveElements=o,this.updateElements=a,this.hideElements=s,this.showElements=u},n._addTween=function(){var t=this.enterElements,e=this.leaveElements,n=this.updateElements,r=this.hideElements,i=this.showElements,u=this.startCache,c=this.endCache;t.forEach(function(t){var e=c[t],n=e.enterAnimate;n&&n({element:e.element,item:e.item,endKeyFrame:e,startKeyFrame:null,startCache:u,endCache:c,done:function(){}})}),e.forEach(function(t){var e=u[t],n=e.leaveAnimate;if(n){var r=u[t].element;r.isItemContainer&&r.getParent().add(r),n({element:r,item:e.item,endKeyFrame:null,startKeyFrame:e,startCache:u,endCache:c,done:function(){r.isItemContainer&&r.remove()}})}}),n.forEach(function(t){var e=c[t],n=u[t],r=e.element,i=n.element,o=n.props,a=e.props,s=e.updateAnimate;o.attrs&&r.attr(o.attrs),h.isEqual(o.matrix,a.matrix)||r.setMatrix(o.matrix),s({element:r,item:e,endKeyFrame:e,startKeyFrame:n,startCache:u,endCache:c,done:function(){}}),i!==r&&i.remove()}),r.forEach(function(t){var n=c[t],e=u[t],r=n.hideAnimate;r&&(n.element.show(),r({element:n.element,item:n.item,endKeyFrame:n,startKeyFrame:e,startCache:u,endCache:c,done:function(){var t=n.item,e=t.getGraphicGroup();t.visible||e.hide()}}))}),i.forEach(function(t){var e=c[t],n=u[t],r=e.showAnimate;r&&r({element:e.element,item:e.item,endKeyFrame:e,startKeyFrame:n,startCache:u,endCache:c,done:function(){}})})},n.run=function(){this.graph.destroyed||(this._compare(),this._addTween())},e}(r);t.exports=a},function(t,e,n){var r=n(22),i=n(460),o={INIT:"_initAnimate",CFG:{animate:!1}};o.AUGMENT={_initAnimate:function(){var t=this.get("animate");if(t){var e=this.get("_controllers"),n={graph:this};r.isPlainObject(t)&&(n=function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({},n,t)),e.animate=new i(n)}}},t.exports=o},function(t,e,n){var i=n(22),r={INIT:"_initFilter",CFG:{filters:[]}};r.AUGMENT={_initFilter:function(){var n=this,r=this.get("filters");i.isFunction(r)&&this.set("filters",[r]),this.on("afterchange",function(t){var e=t.action;0<r.length&&"changeData"===e&&!n.destroyed&&n.filter()})},addFilter:function(t){return this.get("filters").push(t),t},removeFilter:function(t){var e=this.get("filters");this.set("filters",i.filter(e,t))},filter:function(){this.emit("beforefilter");var t=this.get("filters"),e=this.getItems(),n=this._getFilterItems();t.forEach(function(t){n=n.filter(t)}),e.forEach(function(t){-1===n.indexOf(t)?t.hide():t.show()}),this.draw(),this.emit("afterfilter")},_getFilterItems:function(){return this.getItems().filter(function(t){return!1!==t.getShapeObj().filter})}},t.exports=r},function(t,e,n){var o=n(22),a=n(390),r={CFG:{modes:{default:[]},mode:"default",_eventCache:{}},INIT:"_initModes"};r.AUGMENT={_initModes:function(){var t=this.get("mode");this.changeMode(t)},changeMode:function(t){var e=this.get("modes");o.isEmpty(e)||o.isEmpty(e[t])||(a.resetMode(e[t],this),this.set("mode",t))},addBehaviour:function(t,e){var n=this.get("modes");e=e||this.get("mode"),o.isEmpty(n[e])&&(n[e]=[]);var r=n[e],i=[].concat(t);return o.each(i,function(t){-1===r.indexOf(t)&&r.push(t)}),a.resetMode(n[e],this),this},removeBehaviour:function(t){var e=this.get("modes"),n=this.get("mode"),r=e[n];if(!o.isEmpty(r)){var i=[].concat(t);return r=r.filter(function(t){return-1===i.indexOf(t)}),e[n]=r,a.resetMode(r,this),this}},behaviourOn:function(t,e){var n=this._eventCache;n[t]||(n[t]=[]),n[t].push(e),this.on(t,e)},_off:function(){var n=this,t=this._eventCache;o.each(t,function(t,e){o.each(t,function(t){n.off(e,t)})}),this._eventCache={}}},t.exports=r},function(t,e,n){var r=n(362),s=n(22),u={MOUSEMOVE:"mousemove",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",CLICK:"click",DBLCLICK:"dblclick",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGLEAVE:"dragleave",DRAGEND:"dragend",DROP:"drop",CONTEXTMENU:"contextmenu",MOUSEWHEEL:"mousewheel",WHEEL:"wheel",KEYDOWN:"keydown",KEYUP:"keyup",KEYPRESS:"keypress"},o=[u.DBLCLICK,u.MOUSEDOWN,u.MOUSEUP,u.MOUSEENTER,u.MOUSELEAVE,u.MOUSEMOVE,u.CONTEXTMENU,u.MOUSEWHEEL,u.WHEEL],a=[u.KEYDOWN,u.KEYUP,u.KEYPRESS],i=function(n){function t(t){var e;return(e=n.call(this,t)||this)._domEvents=[],e._initEventStates(),e._registerEvents(),e}!function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(t,n);var e=t.prototype;return e._initEventStates=function(){this._pressing=!1,this._dragging=!1,this._currentEventObj={},this._dragEventObj={}},e._registerEvents=function(){this._registerMouseEvents(),this._registerKeyboardEvents()},e._registerKeyboardEvents=function(){var r=this.graph,t=r.getKeyboardEventWrapper(),e=this._domEvents,i=r.get("keyboardEnable");s.each(a,function(n){e.push(s.addEventListener(t,n,function(t){var e=!0;s.isFunction(i)&&(e=i()),e&&r.emit(n,{domEvent:t})}))})},e._registerMouseEvents=function(){var r=this,i=this,e=this.graph.getMouseEventWrapper(),n=this._domEvents;s.each(o,function(t){n.push(s.addEventListener(e,t,function(t){if(t.type!==u.MOUSEENTER||!t.fromElement||t.fromElement.parentNode&&!function(t){for(var e=t.parentNode;e;){if("foreignObject"===e.tagName)return!0;e=e.parentNode}return!1}(t.fromElement)){var e=r._currentEventObj;r._oldEventObj=e,r._processEventObj(t);var n=r._currentEventObj;i._simulateEvents(t,e,n),-1!==[u.MOUSELEAVE,u.MOUSEENTER].indexOf(t.type)&&i._triggerEvent("canvas:"+t.type),i._triggerEvent(t.type),t.type===u.MOUSELEAVE&&(r._dragging&&i._triggerEvent(u.DRAGLEAVE,s.mix({},n,{item:null,shape:null,currentItem:r._dragEventObj.item,currentShape:r._dragEventObj.shape})),i._initEventStates())}}))})},e.destroy=function(){var t=this._domEvents;s.each(t,function(t){t&&t.remove()}),this._domEvents=null},e._triggerEvent=function(t,e){if(e||(e="mouseleave"===t?this._oldEventObj:this._currentEventObj),"mousedown"===t&&(e.button=this._button),e._type=t,this.emitGraphEvent(t,e),-1===["canvas:"+u.MOUSELEAVE,"canvas:"+u.MOUSEENTER].indexOf(t)){var n=e.shape&&e.shape.eventPreFix;if(-1!==[u.DRAGSTART,u.DRAG,u.DRAGEND].indexOf(t)&&(n=e.currentShape&&e.currentShape.eventPreFix),n){var r=n+":"+t;e._type=r,s.isBoolean(e._isItemChange)?e._isItemChange&&this.emitGraphEvent(r,e):this.emitGraphEvent(r,e)}}},e.emitGraphEvent=function(t,e){this.graph.emit(t,e)},e._getDistanceToPress=function(t){return Math.pow(t.clientX-this._pressX,2)+Math.pow(t.clientY-this._pressY,2)},e._simulateEvents=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={});var r=this._dragEventObj.item,i=this._dragEventObj.shape;switch(t.type){case u.MOUSEDOWN:this._pressing=!0,this._button=t.button,this._pressX=t.clientX,this._pressY=t.clientY;break;case u.MOUSEMOVE:if(this._dragging){if(this._triggerEvent(u.DRAG,s.mix({},n,{button:this._button,currentItem:r,currentShape:i})),e.shape!==n.shape){var o=this._isItemChange(e,n);e.shape&&this._triggerEvent(u.DRAGLEAVE,s.mix({},n,{button:this._button,item:e.item,shape:e.shape,toItem:n.item,toShape:n.shape,currentItem:r,currentShape:i,_isItemChange:o})),n.shape&&this._triggerEvent(u.DRAGENTER,s.mix({},n,{button:this._button,currentItem:r,currentShape:i,fromItem:e.item,fromShape:e.shape,_isItemChange:o}))}}else this._pressing&&9<this._getDistanceToPress(t)&&(this._dragging=!0,this._dragEventObj=e,r=this._dragEventObj.item,i=this._dragEventObj.shape,this._triggerEvent(u.DRAGSTART,s.mix({},e,{button:this._button,currentItem:r,currentShape:i})));if(e.shape!==n.shape){var a=this._isItemChange(e,n);e.shape&&this._triggerEvent(u.MOUSELEAVE,s.mix({},n,{item:e.item,shape:e.shape,toItem:n.item,toShape:n.shape,_isItemChange:a})),n.shape&&this._triggerEvent(u.MOUSEENTER,s.mix({},n,{fromtItem:e.item,fromShape:e.shape,_isItemChange:a}))}break;case u.MOUSEUP:!this._dragging&&this._pressing?this._triggerEvent(u.CLICK,s.mix({},n,{button:this._button})):(this._triggerEvent(u.DROP,s.mix({},n,{button:this._button,currentItem:r,currentShape:i})),this._triggerEvent(u.DRAGEND,s.mix({},n,{button:this._button,currentItem:r,currentShape:i}))),this._pressing=!1,this._dragging=!1,this._dragEventObj={};break;default:return}},e._isItemChange=function(t,e){var n=t.shape,r=e.shape,i=n&&r&&(n.get("isItemChange")||r.get("isItemChange"));return i?i(r,n):s.isObject(t.item)&&s.isObject(e.item)?t.item.id!==e.item.id:t.item!==e.item},e._processEventObj=function(t){var e=this.graph.get("_canvas"),n=this._getEventObj(t,e);this._currentEventObj=n},e._parsePoint=function(t,e){return this.graph.getPointByCanvas({x:t,y:e})},e._getEventObj=function(t,e){var n=this.graph,r=t.clientX,i=t.clientY,o=e.getPointByClient(r,i),a=this._parsePoint(o.x,o.y),s=e.getShape(o.x,o.y,t),u=n.getItemByShape(s),c=e.get("pixelRatio");return{item:u,shape:s,x:a.x,y:a.y,domX:o.x/c,domY:o.y/c,domEvent:t}},t}(r);t.exports=i},function(t,e,n){var r={},i=n(464);r.INIT="_initEvents",r.CFG={keyboardEnable:!0},r.AUGMENT={_initEvents:function(){this.get("_controllers").events=new i({graph:this})}},t.exports=r},function(t,e,n){var r=n(22),i={};i.AUGMENT={find:function(t){return this.get("_itemMap")[t]},getNodes:function(){return this.get("_itemMap")._nodes},getEdges:function(){return this.get("_itemMap")._edges},getGroups:function(){return this.get("_itemMap")._groups},getGuides:function(){return this.get("_itemMap")._guides},getItems:function(){var t=this.get("_itemMap"),e=[];return r.each(t,function(t){t.type&&e.push(t)}),e},getItemByShape:function(t){return t?this.getItem(t.id):null},getItem:function(t){var e=this.get("_itemMap");return r.isObject(t)?t.destroyed&&(t=e[t.id]):t=e[t],t}},t.exports=i},function(t,e,n){var r=n(362),i=n(22),o=["color","shape","size","label","style"],a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(e,t);var n=e.prototype;return n._init=function(){var n=this,r={};i.each(o,function(e){r[e]={},n[e]=function(t){return r[e].input=t,n}}),this.channels=r},n.addChannels=function(t){var n=this.channels;i.each(t,function(t,e){n[e]={input:t}})},n.mapping=function(n){var t=this.channels;i.each(t,function(t,e){i.isFunction(t.input)?n[e]=t.input(n):t.input&&(n[e]=t.input)})},e}(r);t.exports=a},function(t,e,n){var r=n(467),i={INIT:"_initMapper"};i.AUGMENT={_initMapper:function(){var t=this.get("_controllers");t.nodeMapper=new r({graph:this}),t.edgeMapper=new r({graph:this}),t.groupMapper=new r({graph:this}),t.guideMapper=new r({graph:this})},node:function(t){var e=this._getController("nodeMapper");return t&&e.addChannels(t),e},edge:function(t){var e=this._getController("edgeMapper");return t&&e.addChannels(t),e},group:function(t){var e=this._getController("groupMapper");return t&&e.addChannels(t),this._getController("groupMapper")},guide:function(t){var e=this._getController("guideMapper");return t&&e.addChannels(t),this._getController("guideMapper")}},t.exports=i},function(t,e,n){var r=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){return{graph:null,auto:!0,processor:null}},n._init=function(){var n=this,r=this.graph;r.on("afteritemdraw",function(t){var e=t.item,n=e.getKeyShape(),r=e.getModel();if(e.isEdge)r.lineWidth=n.attr("lineWidth");else if(e.isNode||e.isGroup){var i=e.getBBox();r.width=i.width,r.height=i.height}}),r.on("afterchange",function(t){var e=t.action;"once"===n.auto?"changeData"===e&&(r.destroyed||r.preventAnimate(function(){n.layout()})):n.auto&&!r.destroyed&&r.preventAnimate(function(){n.layout()})})},n.changeLayout=function(t){this.processor=t,this.layout()},n.layout=function(){var t=this.graph,e=this.getLayoutProcessor();t.emit("beforelayout");var n=t.getNodes().filter(function(t){return t.isVisible()}).map(function(t){return t.getModel()}),r=t.getEdges().filter(function(t){return t.isVisible()}).map(function(t){return t.getModel()}),i=t.getGroups().filter(function(t){return t.isVisible()}).map(function(t){return t.getModel()});t._executeLayout(e,n,r,i),t.updateNodePosition(),t.emit("afterlayout")},n.getLayoutProcessor=function(){return this.processor?this.processor:this.processer},e}(n(362));t.exports=r},function(t,e,n){var i=n(22),r=n(469),o={CFG:{layout:void 0},INIT:"_initLayout"};o.AUGMENT={_initLayout:function(){var t=this.get("_controllers"),e=this._getLayoutCfg();e&&(t.layout=new r(i.mix({graph:this},e)))},_getLayoutCfg:function(){var t=this.get("layout");return i.isPlainObject(t)?t:i.isFunction(t)||i.isObject(t)?{processor:t}:null},layout:function(){return this._getController("layout").layout(),this},updateNodePosition:function(t){var e=this.getGuides(),n=[],r=[];return this.emit("beforeupdatenodeposition"),t?(t.forEach(function(t){t.getEdges().forEach(function(t){r.push(t)});var e=t.getParent();e&&n.push(e)}),r=i.uniq(r),n=i.uniq(n)):(t=this.getNodes(),n=this.getGroups(),r=this.getEdges()),t.forEach(function(t){t.layoutUpdate()}),n.forEach(function(t){t.layoutUpdate()}),r.forEach(function(t){t.layoutUpdate()}),e.forEach(function(t){t.layoutUpdate()}),this.emit("afterupdatenodeposition"),this},changeLayout:function(t){return this._getController("layout").changeLayout(t),this},getLayout:function(){return this._getController("layout").getLayoutProcessor()}},t.exports=o},function(h,t,e){!function(){"use strict";var s=function(){return{escape:function(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:n,mimeType:function(t){var e=n(t).toLowerCase();return function(){var t="application/font-woff";return{woff:t,woff2:t,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}()[e]||""},dataAsUrl:function(t,e){return"data:"+e+";base64,"+t},isDataUrl:function(t){return-1!==t.search(/^(data:)/)},canvasToBlob:function(e){return e.toBlob?new Promise(function(t){e.toBlob(t)}):function(o){return new Promise(function(t){for(var e=window.atob(o.toDataURL().split(",")[1]),n=e.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=e.charCodeAt(i);t(new Blob([r],{type:"image/png"}))})}(e)},resolveUrl:function(t,e){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var i=n.createElement("a");return n.body.appendChild(i),r.href=e,i.href=t,i.href},getAndEncode:function(o){return a.impl.options.cacheBust&&(o+=(/\?/.test(o)?"&":"?")+(new Date).getTime()),new Promise(function(n){var t,r=new XMLHttpRequest;if(r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var e=new FileReader;e.onloadend=function(){var t=e.result.split(/,/)[1];n(t)},e.readAsDataURL(r.response)}else t?n(t):i("cannot fetch resource: "+o+", status: "+r.status)},r.ontimeout=function(){t?n(t):i("timeout of 30000ms occured while fetching resource: "+o)},r.responseType="blob",r.timeout=3e4,r.open("GET",o,!0),r.send(),a.impl.options.imagePlaceholder){var e=a.impl.options.imagePlaceholder.split(/,/);e&&e[1]&&(t=e[1])}function i(t){console.error(t),n("")}})},uid:function(){var t=0;return function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+t++}}(),delay:function(n){return function(e){return new Promise(function(t){setTimeout(function(){t(e)},n)})}},asArray:function(t){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e},escapeXhtml:function(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(r){return new Promise(function(t,e){var n=new Image;n.onload=function(){t(n)},n.onerror=e,n.src=r})},width:function(t){var e=r(t,"border-left-width"),n=r(t,"border-right-width");return t.scrollWidth+e+n},height:function(t){var e=r(t,"border-top-width"),n=r(t,"border-bottom-width");return t.scrollHeight+e+n}};function n(t){var e=/\.([^\.\/]*?)$/g.exec(t);return e?e[1]:""}function r(t,e){var n=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(n.replace("px",""))}}(),r=function(){var r=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(e,r,i){return t(e)?Promise.resolve(e).then(n).then(function(t){var n=Promise.resolve(e);return t.forEach(function(e){n=n.then(function(t){return o(t,e,r,i)})}),n}):Promise.resolve(e)},shouldProcess:t,impl:{readUrls:n,inline:o}};function t(t){return-1!==t.search(r)}function n(t){for(var e,n=[];null!==(e=r.exec(t));)n.push(e[1]);return n.filter(function(t){return!s.isDataUrl(t)})}function o(e,n,r,t){return Promise.resolve(n).then(function(t){return r?s.resolveUrl(t,r):t}).then(t||s.getAndEncode).then(function(t){return s.dataAsUrl(t,s.mimeType(n))}).then(function(t){return e.replace(function(t){return new RegExp("(url\\(['\"]?)("+s.escape(t)+")(['\"]?\\))","g")}(n),"$1"+t+"$3")})}}(),t=function(){return{resolveAll:function(){return t(document).then(function(t){return Promise.all(t.map(function(t){return t.resolve()}))}).then(function(t){return t.join("\n")})},impl:{readAll:t}};function t(){return Promise.resolve(s.asArray(document.styleSheets)).then(function(t){var n=[];return t.forEach(function(e){try{s.asArray(e.cssRules||[]).forEach(n.push.bind(n))}catch(t){console.log("Error while reading CSS rules from "+e.href,t.toString())}}),n}).then(function(t){return t.filter(function(t){return t.type===CSSRule.FONT_FACE_RULE}).filter(function(t){return r.shouldProcess(t.style.getPropertyValue("src"))})}).then(function(t){return t.map(e)});function e(e){return{resolve:function(){var t=(e.parentStyleSheet||{}).href;return r.inlineAll(e.cssText,t)},src:function(){return e.style.getPropertyValue("src")}}}}}(),e=function(){return{inlineAll:function e(t){return t instanceof Element?function(e){var t=e.style.getPropertyValue("background");return t?r.inlineAll(t).then(function(t){e.style.setProperty("background",t,e.style.getPropertyPriority("background"))}).then(function(){return e}):Promise.resolve(e)}(t).then(function(){return t instanceof HTMLImageElement?n(t).inline():Promise.all(s.asArray(t.childNodes).map(function(t){return e(t)}))}):Promise.resolve(t)},impl:{newImage:n}};function n(r){return{inline:function(t){return s.isDataUrl(r.src)?Promise.resolve():Promise.resolve(r.src).then(t||s.getAndEncode).then(function(t){return s.dataAsUrl(t,s.mimeType(r.src))}).then(function(n){return new Promise(function(t,e){r.onload=t,r.onerror=e,r.src=n})})}}}}(),i={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:o,toPng:function(t,e){return n(t,e||{}).then(function(t){return t.toDataURL()})},toJpeg:function(t,e){return n(t,e=e||{}).then(function(t){return t.toDataURL("image/jpeg",e.quality||1)})},toBlob:function(t,e){return n(t,e||{}).then(s.canvasToBlob)},toPixelData:function(e,t){return n(e,t||{}).then(function(t){return t.getContext("2d").getImageData(0,0,s.width(e),s.height(e)).data})},impl:{fontFaces:t,images:e,util:s,inliner:r,options:{}}};function o(e,n){return function(t){void 0===t.imagePlaceholder?a.impl.options.imagePlaceholder=i.imagePlaceholder:a.impl.options.imagePlaceholder=t.imagePlaceholder,void 0===t.cacheBust?a.impl.options.cacheBust=i.cacheBust:a.impl.options.cacheBust=t.cacheBust}(n=n||{}),Promise.resolve(e).then(function(t){return function(e,n){return Promise.resolve(e).then(function(t){return t instanceof HTMLCanvasElement?s.makeImage(t.toDataURL()):t.cloneNode(!1)}).then(function(t){return function(t,e,n){var r=t.childNodes;return 0===r.length?Promise.resolve(e):function(e,t,n){var r=Promise.resolve();return t.forEach(function(t){r=r.then(function(){return function i(e,n,t){return t||!n||n(e)?Promise.resolve(e).then(function(t){return t instanceof HTMLCanvasElement?s.makeImage(t.toDataURL()):t.cloneNode(!1)}).then(function(t){return r(e,t,n)}).then(function(t){return function(o,a){return a instanceof Element?Promise.resolve().then(function(){!function(t,e){t.cssText?e.cssText=t.cssText:function(e,n){s.asArray(e).forEach(function(t){n.setProperty(t,e.getPropertyValue(t),e.getPropertyPriority(t))})}(t,e)}(window.getComputedStyle(o),a.style)}).then(function(){[":before",":after"].forEach(function(t){!function(t){var e=window.getComputedStyle(o,t),n=e.getPropertyValue("content");if(""!==n&&"none"!==n){var r=s.uid();a.className=a.className+" "+r;var i=document.createElement("style");i.appendChild(function(t,e,n){var r="."+t+":"+e,i=n.cssText?function(t){var e=t.getPropertyValue("content");return t.cssText+" content: "+e+";"}(n):function(e){return s.asArray(e).map(function(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}).join("; ")+";"}(n);return document.createTextNode(r+"{"+i+"}")}(r,t,e)),a.appendChild(i)}}(t)})}).then(function(){o instanceof HTMLTextAreaElement&&(a.innerHTML=o.value),o instanceof HTMLInputElement&&a.setAttribute("value",o.value)}).then(function(){a instanceof SVGElement&&(a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a instanceof SVGRectElement&&["width","height"].forEach(function(t){var e=a.getAttribute(t);e&&a.style.setProperty(t,e)}))}).then(function(){return a}):a}(e,t)}):Promise.resolve();function r(t,e,n){var r=t.childNodes;return 0===r.length?Promise.resolve(e):function(e,t,n){var r=Promise.resolve();return t.forEach(function(t){r=r.then(function(){return i(t,n)}).then(function(t){t&&e.appendChild(t)})}),r}(e,s.asArray(r),n).then(function(){return e})}}(t,n)}).then(function(t){t&&e.appendChild(t)})}),r}(e,s.asArray(r),n).then(function(){return e})}(e,t,n)}).then(function(t){return function(o,a){return a instanceof Element?Promise.resolve().then(function(){!function(t,e){t.cssText?e.cssText=t.cssText:function(e,n){s.asArray(e).forEach(function(t){n.setProperty(t,e.getPropertyValue(t),e.getPropertyPriority(t))})}(t,e)}(window.getComputedStyle(o),a.style)}).then(function(){[":before",":after"].forEach(function(t){!function(t){var e=window.getComputedStyle(o,t),n=e.getPropertyValue("content");if(""!==n&&"none"!==n){var r=s.uid();a.className=a.className+" "+r;var i=document.createElement("style");i.appendChild(function(t,e,n){var r=".0:"+e,i=n.cssText?function(t){var e=t.getPropertyValue("content");return t.cssText+" content: "+e+";"}(n):function(e){return s.asArray(e).map(function(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}).join("; ")+";"}(n);return document.createTextNode(r+"{"+i+"}")}(0,t,e)),a.appendChild(i)}}(t)})}).then(function(){o instanceof HTMLTextAreaElement&&(a.innerHTML=o.value),o instanceof HTMLInputElement&&a.setAttribute("value",o.value)}).then(function(){a instanceof SVGElement&&(a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a instanceof SVGRectElement&&["width","height"].forEach(function(t){var e=a.getAttribute(t);e&&a.style.setProperty(t,e)}))}).then(function(){return a}):a}(e,t)})}(t,n.filter)}).then(u).then(c).then(function(e){return n.bgcolor&&(e.style.backgroundColor=n.bgcolor),n.width&&(e.style.width=n.width+"px"),n.height&&(e.style.height=n.height+"px"),n.style&&Object.keys(n.style).forEach(function(t){e.style[t]=n.style[t]}),e}).then(function(t){return function(t,e,n){return Promise.resolve(t).then(function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)}).then(s.escapeXhtml).then(function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"}).then(function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+n+'">'+t+"</svg>"}).then(function(t){return"data:image/svg+xml;charset=utf-8,"+t})}(t,n.width||s.width(e),n.height||s.height(e))})}function n(n,r){return o(n,r).then(s.makeImage).then(s.delay(100)).then(function(t){var e=function(t){var e=document.createElement("canvas");if(e.width=r.width||s.width(t),e.height=r.height||s.height(t),r.bgcolor){var n=e.getContext("2d");n.fillStyle=r.bgcolor,n.fillRect(0,0,e.width,e.height)}return e}(n);return e.getContext("2d").drawImage(t,0,0),e})}function u(n){return t.resolveAll().then(function(t){var e=document.createElement("style");return n.appendChild(e),e.appendChild(document.createTextNode(t)),n})}function c(t){return e.inlineAll(t).then(function(){return t})}h.exports=a}()},function(t,e,n){var f=n(22),o=n(147),u=n(471),r=function(){function t(t){this.options=function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({graph:null,width:null,height:null,canvas:null,beforeTransform:function(){},afterTransform:function(){},drawCount:0},t)}var e=t.prototype;return e.getCanvas=function(){var t=this.options,e=t.width,n=t.height,r=t.canvas;if(!r){var i=f.createDOM("<canvas></canvas>");r=new o.Canvas({containerDOM:i,width:e,height:n})}return r.drawCount||(r.drawCount=0),r},e.drawInner=function(i,o){var t=this.options.graph,e=t.getCanvas(),n=t.get("renderer"),a=i.drawCount;if("svg"===n){var s=[];e.deepEach(function(t){"dom"===t.get("type")&&s.push(t)}),0<s.length?s.forEach(function(r){r.domImageOnload=!1;var t=r.get("el"),e=r.attr("width"),n=r.attr("height");u.toPng(t,{width:e,height:n}).then(function(t){var n=new Image;n.src=t,n.onload=function(){if(a===i.drawCount-1){r.domImage=n,r.domImageOnload=!0;for(var t=0;t<s.length;t++){var e=s[t];if(!e.domImageOnload||e.get("destroyed"))break;e.domImageOnload&&t===s.length-1&&o()}}}})}):o()}else o();i.drawCount+=1},e.toCanvas=function(){var t=this.options,e=t.graph,n=t.width,r=t.height,i=t.beforeTransform,o=t.afterTransform,a=this.getCanvas(),s=e.getBBox(),u=f.clone(e.getMatrix()),c=e.getFitViewPadding(),h=e.getCanvas(),l=f.getAutoZoomMatrix({minX:0,minY:0,maxX:n,maxY:r},s,c);return this.drawInner(a,function(){var t=h.get("children");a.set("children",t),i(l,u),e.setMatrix(l),a.draw(),e.setMatrix(u),o(l,u)}),a.matrix=l,a.get("el")},t}();t.exports=r},function(t,e,n){var r=n(22),i=function(n){function t(t){var e={type:"guide",isGuide:!0,zIndex:4};return r.mix(e,t),n.call(this,e)||this}return function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(t,n),t}(n(371));t.exports=i},function(t,e,n){var r=n(22),i=function(n){function t(t){var e={type:"group",isNode:!1,isGroup:!0,zIndex:1};return r.mix(e,t),n.call(this,e)||this}!function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(t,n);var e=t.prototype;return e._beforeDraw=function(){this.deepEach(function(t,e){e&&(t.zIndex=e.zIndex+1),t.updateCollapsedParent(),t.collapsedParent?t.hide():t.show()}),this.getInnerEdges().forEach(function(t){t.linkedItemVisible()?t.show():t.hide()}),n.prototype._beforeDraw.call(this)},e.updatePosition=function(){},e._shouldDraw=function(){return!0},e.getCrossEdges=function(){var n=[],t=this.getInnerEdges();this.deepEach(function(t){n.push(t.id)});var e=t.filter(function(t){var e=t.getModel();return-1===n.indexOf(e.source)||-1===n.indexOf(e.target)});return r.uniq(e)},e.getInnerEdges=function(){var e=[];return this.deepEach(function(t){t.getEdges().forEach(function(t){e.push(t)})}),r.uniq(e)},e.getChildrenBBox=function(){var t=this.getChildren().map(function(t){return t.getGraphicGroup()});return r.getChildrenBBox(t)},t}(n(388));t.exports=i},function(t,e,n){var b=n(22),r=function(i){function t(t){var e={type:"edge",isEdge:!0,zIndex:2};return b.mix(e,t),i.call(this,e)||this}!function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(t,i);var e=t.prototype;return e._init=function(){i.prototype._init.call(this)},e._beforeDraw=function(){var t=this.model,e=this.itemMap;b.isObject(t.source)?this.source=t.source:this.source=e[t.source],b.isObject(t.target)?this.target=t.target:this.target=e[t.target],i.prototype._beforeDraw.call(this)},e._afterDraw=function(){this.linkedItemVisible()||this.hide(),this._addArrow(),i.prototype._afterDraw.call(this)},e._addArrow=function(){var t=this.model,e=this.keyShape;if("path"===e.get("type")){var n=this.shapeObj,r=e.attr("endArrow"),i=e.attr("startArrow"),o=t.endArrow||r,a=t.startArrow||i;i&&e.attr("startArrow",!1),r&&e.attr("endArrow",!1),o&&this._drawArrow(n.endArrow,"end"),a&&this._drawArrow(n.startArrow,"start")}},e._drawArrow=function(t,e){var n=t.path,r=t.shorten,i=t.tangent,o=t.ratio,a=t.style;i=i(this),r=r(this),n=n(this),a=a(this),o=o();var s=this.group,u=this.keyShape,c=b.parsePathString(u.attr("path")),h=c[c.length-1],l=c[0],f=u.getPoint(o);if(f&&!isNaN(f.x)){var d=s.addShape("path",{attrs:function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({path:n},a)}),g=i[1][0]-i[0][0],p=i[1][1]-i[0][1],m=r/Math.sqrt(g*g+p*p),v=[-g*m,-p*m],y=0,x=Math.atan(g/p);0==p&&g<0?y=Math.PI:0<g&&0<p?y=Math.PI/2-x:g<0&&p<0?y=-Math.PI/2-x:0<=g&&p<0?y=-x-Math.PI/2:g<=0&&0<p&&(y=Math.PI/2-x),d.rotate(y),d.translate(f.x,f.y),"end"===e?(h[h.length-1]=v[1]+f.y,h[h.length-2]=v[0]+f.x):(l[l.length-1]=v[1]+f.y,l[l.length-2]=v[0]+f.x),u.attr("path",c),this[e+"Arrow"]=d}},e._getControlPoints=function(){var t=this.model.controlPoints;return b.isArray(t)?t:[]},e._shouldDraw=function(){return i.prototype._shouldDraw.call(this)&&this.linkedItemVisible()},e._getPoint=function(t){if(t.isItem){var e=t.getBBox();return{x:e.centerX,y:e.centerY}}return{x:t.x,y:t.y}},e.linkedItemVisible=function(){var t=this.source,e=this.target;return b.isPlainObject(t)||b.isPlainObject(e)||t.isVisible()||e.isVisible()||t.collapsedParent!==e.collapsedParent},e.getSource=function(){var t=this.source,e=t.collapsedParent,n=this.itemMap;return e?n[e.id]:t},e.getTarget=function(){var t=this.target,e=t.collapsedParent,n=this.itemMap;return e?n[e.id]:t},e.getPoints=function(){var t=this.getSource(),e=this.getTarget(),n=this.model,r=this._getControlPoints(),i=this._getPoint(t),o=this._getPoint(e),a=[i].concat(r).concat([o]),s=a.length;if(t.isItem){var u=b.isNumber(this.model.sourceAnchor)&&t.id===n.source?this.model.sourceAnchor:a[1],c=t.getLinkPoints(u);a[0]=c[0]}if(e.isItem){var h=b.isNumber(this.model.targetAnchor)&&e.id===n.target?this.model.targetAnchor:a[s-2],l=e.getLinkPoints(h);a[s-1]=l[0]}return a},e.destroy=function(){var t=this.itemMap,e=this.model,n=t[e.source],r=t[e.target];n&&n.isItem&&b.Array.remove(n.edges,this),r&&r.isItem&&b.Array.remove(r.edges,this),i.prototype.destroy.call(this)},t}(n(371));t.exports=r},function(t,e,n){t.exports={Node:n(388),Edge:n(475),Group:n(474),Guide:n(473)}},function(a,t,s){var u;!function(t){"use strict";function e(){}var n=e.prototype,r=t.EventEmitter;function o(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}n.getListeners=function(t){var e,n,r=this._getEvents();if(t instanceof RegExp)for(n in e={},r)r.hasOwnProperty(n)&&t.test(n)&&(e[n]=r[n]);else e=r[t]||(r[t]=[]);return e},n.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},n.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&((e={})[t]=n),e||n},n.addListener=function(t,e){if(!function t(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&t(e.listener)}(e))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(t),i="object"==typeof e;for(n in r)r.hasOwnProperty(n)&&-1===o(r[n],e)&&r[n].push(i?e:{listener:e,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,e){var n,r,i=this.getListenersAsObject(t);for(r in i)i.hasOwnProperty(r)&&-1!==(n=o(i[r],e))&&i[r].splice(n,1);return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,n){var r,i,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(r=n.length;r--;)o.call(this,e,n[r]);else for(r in e)e.hasOwnProperty(r)&&(i=e[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},n.removeEvent=function(t){var e,n=typeof t,r=this._getEvents();if("string"==n)delete r[t];else if(t instanceof RegExp)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var n,r,i,o,a=this.getListenersAsObject(t);for(o in a)if(a.hasOwnProperty(o))for(n=a[o].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(t,r.listener),r.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,r.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return t.EventEmitter=r,e},void 0===(u=function(){return e}.call(t,s,t,a))||(a.exports=u)}("undefined"!=typeof window?window:this||{})},function(t,e,n){var i=n(22),r=function(r){!function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(e,r);var t=e.prototype;function e(t){var e,n=(e=r.call(this)||this).getDefaultCfg();return e._cfg=i.mix({},n,t),e}return t.getDefaultCfg=function(){return{}},t.get=function(t){return this._cfg[t]},t.set=function(t,e){this._cfg[t]=e},t.destroy=function(){this._cfg={},this.removeAllListeners(),this.destroyed=!0},e}(n(477));t.exports=r},function(t,e,n){var s=n(22),r=n(147),i=function(){};s.augment(i,{drawInner:function(t){var e=s.clone(this.getTotalMatrix()),n=this._attrs,r=n.x,i=n.y,o=n.width,a=n.height;t.setTransform(e[0],e[1],e[3],e[4],e[6],e[7]),t.drawImage(this.domImage,r,i,o,a)}}),s.mixin(r.Dom,[i]),t.exports=i},function(t,e,n){var r=n(22),i=n(147),o=function(){};r.augment(o,{hasClass:function(t){var e=this.get("class");return!(!e||-1===e.indexOf(t))}}),r.mixin(i.Shape,[o]),t.exports=o},function(t,e,n){var r=n(147),i=n(22),o=function(){};i.augment(o,{findByClass:function(e){var n=[];return this.deepEach(function(t){t.hasClass(e)&&n.push(t)}),n},hasClass:function(t){var e=this.get("class");return!(!e||-1===e.indexOf(t))},deepEach:function(t,e){i.traverseTree(this,t,function(t){return t.get("children")},e)},sort:function(){var t=this.get("children");this.set("children",i.radixSort(t,function(t){return t.get("zIndex")}))},sortBy:function(t){var e=this.get("children");this.set("children",i.radixSort(e,t))},clear:function(t){for(var e=this._cfg.children,n=e.length-1;0<=n;n--)e[n].remove(t);return this._cfg.children=[],this}}),i.mixin(r.Group,[o]),t.exports=o},function(t,e,n){n(153).registerGuide("common",{draw:function(){console.warn("do not have this guide, please register one")}})},function(t,e,n){t.exports={common:n(482)}},function(t,e,n){var r=n(153),p=n(22),m=n(146);r.registerGroup("common",{draw:function(t){return t.getModel().collapsed?this.drawCollapsed(t):this.drawExpanded(t)},defaultWidth:184,defaultHeight:40,getLabel:function(t){return t.getModel().label},drawLabel:function(t,e,n){var r=this.getLabel(t);if(r){var i=t.getGraphicGroup(),o=[8,8];e+=o[0],n+=o[1];var a=t.getModel(),s=a.labelOffsetX,u=a.labelOffsetY,c=a.labelRotate;e=s?s+e:e,n=u?u+n:n;var h=p.mix(!0,{},m.labelStyle,{x:e,y:n,textAlign:"left",textBaseline:"top"});p.isObject(r)?p.mix(h,r):h.text=r;var l=i.addShape("text",{class:"label",attrs:h});if(c){var f=l.getBBox(),d=(f.maxX+f.minX)/2,g=(f.maxY+f.minY)/2;l.transform([["t",-d,-g],["r",c,c],["t",d,g]])}}},drawKeyShape:function(t,e){var n=e.x,r=e.y,i=e.width,o=e.height,a=t.getModel(),s=t.getGraphicGroup(),u=p.mix({},m.groupStyle,a.style),c=p.getRectPath(n,r,i,o,u.radius);return t.lastChildrenBox=e,s.addShape("path",{attrs:p.mix({},u,{path:c})})},getChildrenBBox:function(t){var e=function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({},t.lastChildrenBox),n=t.getModel();if(0<t.getChildren().length){var r=t.getChildrenBBox();e.x=r.minX-m.groupBackgroundPadding[3],e.y=r.minY-m.groupBackgroundPadding[0],e.width=r.maxX-r.minX+m.groupBackgroundPadding[3]+m.groupBackgroundPadding[1],e.height=r.maxY-r.minY+m.groupBackgroundPadding[0]+m.groupBackgroundPadding[2]}else e.width=this.defaultWidth,e.height=this.defaultHeight;return p.isNil(e.x)&&!p.isNil(n.x)&&(e.x=n.x),p.isNil(e.y)&&!p.isNil(n.y)&&(e.y=n.y),e},drawExpanded:function(t){var e=this.getChildrenBBox(t),n=this.drawKeyShape(t,e);return this.drawLabel(t,e.x,e.y),n},drawCollapsed:function(t){var e=this.getChildrenBBox(t);e.width=this.defaultWidth,e.height=this.defaultHeight;var n=this.drawKeyShape(t,e);return this.drawLabel(t,e.x,e.y),n},anchor:{intersectBox:"rect"}})},function(t,e,n){t.exports={common:n(484)}},function(t,e,n){function r(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}var i=n(153),v=n(22),y=n(146),o={path:function(t){var e=t.getKeyShape().attr("lineWidth"),n=10*(e=3<e?e:3)/3,r=4*e/3,i=4*e;return[["M",-n,r],["L",0,0],["L",-n,-r],["A",i,i,0,0,1,-n,r],["Z"]]},shorten:function(t){var e=t.getKeyShape().attr("lineWidth");return 3.1*(3<e?e:3)},style:function(t){var e=t.getKeyShape().attr();return{fillOpacity:e.strokeOpacity,fill:e.stroke}}};i.registerEdge("common",{draw:function(t){var e=this.drawKeyShape(t);return this.drawLabel(t,e),e},drawKeyShape:function(t){var e=t.getGraphicGroup(),n=this.getStyle(t),r=this.getPath(t);return e.addShape("path",{attrs:v.mix({},n,{path:r})})},getStyle:function(t){var e=t.getModel();return v.mix(!0,{},{stroke:e.color||"#A3B1BF",strokeOpacity:.92,lineAppendWidth:4,lineWidth:e.size||1},e.style)},getPath:function(t){var e=t.getPoints();return v.pointsToPolygon(e)},getLabel:function(t){return t.getModel().label},getDefaultLabelRectStyle:function(){return{fill:"white"}},getDefaultLabelRectPadding:function(){return v.toAllPadding([4,8])},drawLabel:function(t,e){var n=this.getLabel(t),r=t.getGraphicGroup(),i=t.getModel(),o=i.labelOffsetX,a=i.labelOffsetY,s=i.labelRotate;if(n){var u=e.getPoint(.5);if(!u)return;u.x=o?u.x+o:u.x,u.y=a?u.y+a:u.y;var c=v.mix(!0,{},y.labelStyle,u);v.isObject(n)?v.mix(c,n):c.text=n,n=r.addShape("text",{class:"label",attrs:c});var h=this.getDefaultLabelRectPadding(t),l=this.getDefaultLabelRectStyle(t),f=n.getBBox(),d=i.labelRectStyle?v.mix({},l,i.labelRectStyle):l,g=r.addShape("rect",{attrs:v.mix({},d,{x:f.minX-h[3],y:f.minY-h[0],width:f.maxX-f.minX+h[1]+h[3],height:f.maxY-f.minY+h[0]+h[2]})});if(s){var p=(f.maxX+f.minX)/2,m=(f.maxY+f.minY)/2;n.transform([["t",-p,-m],["r",s,s],["t",p,m]]),g.transform([["t",-p,-m],["r",s,s],["t",p,m]])}v.toFront(n)}},startArrow:r({},o,{tangent:function(t){return t.getKeyShape().getStartTangent()},ratio:function(){return 0}}),endArrow:r({},o,{tangent:function(t){return t.getKeyShape().getEndTangent()},ratio:function(){return 1}})})},function(t,e,n){t.exports={common:n(486)}},function(t,e,n){var r=n(153),g=n(22);r.registerNode("html",{getHtml:function(t){return t.getModel().html},cssSize:!0,draw:function(t){var e=g.createDOM('<div class="g6-html-node-container"></div>'),n=t.getGraphicGroup(),r=t.getGraph();if("svg"!==r.get("renderer"))throw new Error("please use svg renderer draw html element !");var i=r.getGraphContainer(),o=this.getSize(t),a=this.getStyle(t),s=this.cssSize,u=this.getHtml(t);u=g.createDOM(u),e.css({position:"absolute",padding:"0px",margin:"0px"}),e.appendChild(u),i.appendChild(e),s&&(o[0]=e.width(),o[1]=e.height());var c=-o[0]/2,h=-o[1]/2,l=o[0],f=o[1],d=n.addShape("rect",{attrs:g.mix({},a,{x:c,y:h,width:l,height:f})});return n.addShape("dom",{attrs:g.mix({x:c,y:h,width:l,height:f,html:e})}),d}})},function(t,e,n){var r=n(153),c=n(22),h=n(146);r.registerNode("common",{draw:function(t){var e=t.getGraphicGroup(),n=this.drawLabel(t),r=this.drawKeyShape(t);return n&&c.toFront(n,e),r},getSize:function(t){var e=t.getModel().size;return c.isArray(e)?e:c.isNumber(e)?[e,e]:[h.defaultNodeSize,h.defaultNodeSize]},getStyle:function(t){var e=t.getModel();return c.mix(!0,{lineWidth:1,fill:e.color||"#40a9ff",stroke:e.color||"#096dd9",fillOpacity:.92},e.style)},getLabel:function(t){return t.getModel().label},drawKeyShape:function(t){var e=t.getGraphicGroup(),n=this.getStyle(t),r=this.getPath(t);return e.addShape("path",{attrs:c.mix({},n,{path:r})})},drawLabel:function(t){var e=t.getGraphicGroup(),n=this.getLabel(t),r=t.getModel(),i=r.labelOffsetX,o=r.labelOffsetY,a=r.labelRotate;if(!c.isNil(n)){var s=c.mix(!0,{},h.labelStyle,{x:i||0,y:o||0});c.isObject(n)?c.mix(s,n):s.text=n;var u=e.addShape("text",{class:"label",attrs:s});return a&&u.rotate(a),u}},getPath:function(t){var e=this.getSize(t);return c.getEllipsePath(0,0,e[0]/2,e[1]/2)}})},function(t,e,n){t.exports={common:n(489),html:n(488)}},function(t,e,n){var g=n(448),r=n(152),p={getAutoZoomMatrix:function(t,e,n,r){var i=[1,0,0,0,1,0,0,0,1],o=t.maxX-t.minX,a=t.maxY-t.minY,s=(e.maxX+e.minX)/2,u=(e.maxY+e.minY)/2,c=o-n[1]-n[3],h=a-n[0]-n[2],l=e.maxX-e.minX,f=e.maxY-e.minY,d=Math.min(h/f,c/l);return r&&(d=r(d)),g.mat3.translate(i,i,[-s,-u]),g.mat3.scale(i,i,[d,d]),g.mat3.translate(i,i,[o/2,a/2]),i},getNineBoxPosition:function(t,e,n,r,i){var o={};switch(t){case"tl":o.y=e.x+i[0],o.x=e.y+i[3];break;case"lc":o.y=(e.height-r)/2,o.x=i[3];break;case"bl":o.y=e.height-r-i[2],o.x=i[3];break;case"cc":o.y=(e.height-r)/2,o.x=(e.width-n)/2;break;case"tc":o.y=i[0],o.x=(e.width-n)/2;break;case"tr":o.y=i[0],o.x=e.width-n-i[1];break;case"rc":o.y=(e.height-r)/2,o.x=e.width-n-i[1];break;case"br":o.y=e.height-r-i[2],o.x=e.width-n-i[1];break;case"bc":o.y=e.height-r-i[2],o.x=(e.width-n)/2;break;default:o.y=e.x+i[0],o.x=e.y+i[3]}return o.x+=e.x,o.y+=e.y,o},getTotalBBox:function(t){var e=1/0,n=-1/0,r=1/0,i=-1/0;return t.forEach(function(t){t.minX<e&&(e=t.minX),t.maxX>n&&(n=t.maxX),t.minY<r&&(r=t.minY),t.maxY>i&&(i=t.maxY)}),{minX:e,minY:r,maxX:n,maxY:i,width:n-e,height:i-r}},getChildrenBBox:function(t){var h=1/0,l=-1/0,f=1/0,d=-1/0;r.each(t,function(t){var e=t.isGroup?p.getChildrenBBox(t.get("children")):t.getBBox();if(!e)return!0;var n=[e.minX,e.minY,1],r=[e.minX,e.maxY,1],i=[e.maxX,e.minY,1],o=[e.maxX,e.maxY,1];t.apply(n),t.apply(r),t.apply(i),t.apply(o);var a=Math.min(n[0],r[0],i[0],o[0]),s=Math.max(n[0],r[0],i[0],o[0]),u=Math.min(n[1],r[1],i[1],o[1]),c=Math.max(n[1],r[1],i[1],o[1]);a<h&&(h=a),l<s&&(l=s),u<f&&(f=u),d<c&&(d=c)});var e={minX:h,minY:f,maxX:l,maxY:d};return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},getBBox:function(t,e){var n,r=t.getBBox(),i={x:r.minX,y:r.minY},o={x:r.maxX,y:r.maxY};if(e.isGroup){for(n=t;n!==e;){var a=n.getMatrix();i=g.applyMatrix(i,a),o=g.applyMatrix(o,a),n=n.getParent()}var s=n.getMatrix();i=g.applyMatrix(i,s),o=g.applyMatrix(o,s)}else i=g.applyMatrix(i,e),o=g.applyMatrix(o,e);return{minX:i.x,minY:i.y,maxX:o.x,maxY:o.y}},toBack:function(t){t.toBack()},toFront:function(t){t.toFront()}};t.exports=p},function(t,e,n){var r=n(152);t.exports={isNode:function(t){return t&&r.isObject(t)&&"node"===t.type},isEdge:function(t){return t&&r.isObject(t)&&"edge"===t.type},isGroup:function(t){return t&&r.isObject(t)&&"group"===t.type}}},function(t,e,n){var r=n(152),i={};r.mix(i,{addEventListener:function(t,e,n){return t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):void 0},createDOM:function(t,e){var n;return(n=r.isString(t)?r.createDom(t):t).bbox=n.getBoundingClientRect(),n.hide=function(){return n.style.visibility="hidden",n},n.show=function(){return n.style.visibility="visible",n},n.css=function(t){return r.modifyCSS(n,t),n},n.width=function(){return r.getWidth(n)},n.height=function(){return r.getHeight(n)},n.destroy=function(){n.parentNode&&n.parentNode.removeChild(n)},n.on=function(t,e){n.addEventListener(t,e)},n.off=function(t,e){n.removeEventListener(t,e)},n.css(e),n},initDOMContainer:function(t,e){if(!t)throw new Error("please set the container for the "+e+" !");return r.isString(t)&&(t=document.getElementById(t)),t}}),t.exports=i},function(t,e){var o={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};t.exports=function(t,e,n){var r=n.target||n.srcElement;if(!o[r.tagName]){for(var i=r.parentNode;i&&!o[i.tagName];)i=i.parentNode;r=i}return this._cfg.el===r?this:this.find(function(t){return t._cfg&&t._cfg.el===r})}},function(t,e,n){var s=n(17),u=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,r=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=document.createElementNS("http://www.w3.org/2000/svg","image");e.appendChild(n);var r=s.uniqueId("pattern_");e.id=r,this.el=e,this.id=r,this.cfg=t;var i=u.exec(t)[2];n.setAttribute("href",i);var o=new Image;function a(){console.log(o.width,o.height),e.setAttribute("width",o.width),e.setAttribute("height",o.height)}return i.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=i,o.complete?a():(o.onload=a,o.src=o.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}();t.exports=r},function(t,e,n){var r=n(17),i=function(){function t(t){this.type="clip";var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=e,this.id=r.uniqueId("clip_"),e.id=this.id;var n=t._cfg.el;return e.appendChild(n.cloneNode(!0)),this.cfg=t,this}var e=t.prototype;return e.match=function(){return!1},e.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}();t.exports=i},function(t,e,n){var o=n(17),r=function(){function t(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=o.uniqueId("marker_");n.setAttribute("id",r);var i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("stroke","none"),i.setAttribute("fill",t.stroke||"#000"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=r,this.cfg=t["marker-start"===e?"startArrow":"endArrow"],this.stroke=t.stroke||"#000",!0===this.cfg?this._setDefaultPath(e,i):this._setMarker(t.lineWidth,i),this}var e=t.prototype;return e.match=function(){return!1},e._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),n.setAttribute("refX",3),n.setAttribute("refY",3)},e._setMarker=function(t,e){var n=this.el,r=this.cfg.path,i=this.cfg.d;o.isArray(r)&&(r=r.map(function(t){return t.join(" ")}).join("")),e.setAttribute("d",r),n.appendChild(e),i&&n.setAttribute("refX",i/t)},e.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}();t.exports=r},function(t,e,n){var i=n(17),r={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},o={x:"-40%",y:"-40%",width:"200%",height:"200%"},a=function(){function t(t){this.type="filter";var n=document.createElementNS("http://www.w3.org/2000/svg","filter");return i.each(o,function(t,e){n.setAttribute(e,t)}),this.el=n,this.id=i.uniqueId("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,n),this}var e=t.prototype;return e.match=function(t,e){if(this.type!==t)return!1;var n=!0,r=this.cfg;return i.each(Object.keys(r),function(t){if(r[t]!==e[t])return n=!1}),n},e.update=function(t,e){var n=this.cfg;return n[r[t]]=e,this._parseShadow(n,this.el),this},e._parseShadow=function(t,e){var n='<feDropShadow \n      dx="'+(t.dx||0)+'" \n      dy="'+(t.dy||0)+'" \n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}();t.exports=a},function(t,e,n){var l=n(17),f=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,s=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,r=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function d(t){var e=t.match(r);if(!e)return"";var n="";return e.sort(function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])}),l.each(e,function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'}),n}var i=function(){function t(t){var e=null,n=l.uniqueId("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,r,i=f.exec(t),o=l.mod(l.toRadian(parseFloat(i[1])),2*Math.PI),a=i[2];r=0<=o&&o<.5*Math.PI?(n={x:0,y:0},{x:1,y:1}):.5*Math.PI<=o&&o<Math.PI?(n={x:1,y:0},{x:0,y:1}):Math.PI<=o&&o<1.5*Math.PI?(n={x:1,y:1},{x:0,y:0}):(n={x:0,y:1},{x:1,y:0});var s=Math.tan(o),u=s*s,c=(r.x-n.x+s*(r.y-n.y))/(1+u)+n.x,h=s*(r.x-n.x+s*(r.y-n.y))/(1+u)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",c),e.setAttribute("y2",h),e.innerHTML=d(a)}(t,e=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")):function(t,e){var n=s.exec(t),r=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),a=n[4];e.setAttribute("cx",r),e.setAttribute("cy",i),e.setAttribute("r",o),e.innerHTML=d(a)}(t,e=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}();t.exports=i},function(t,e,n){var r=n(17),i=n(499),o=n(498),a=n(497),s=n(496),u=n(495),c=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","defs"),n=r.uniqueId("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}var e=t.prototype;return e.find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},e.findById=function(t){for(var e=this.children,n=null,r=0;r<e.length;r++)if(e[r].id===t){n=e[r];break}return n},e.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},e.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new a(t,e);return this.defaultArrow[n]=r,this.el.appendChild(r.el),r.id},e.addGradient=function(t){var e=new i(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addArrow=function(t,e){var n=new a(t,e);return this.el.appendChild(n.el),n.id},e.addShadow=function(t){var e=new o(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addPattern=function(t){var e=new u(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addClip=function(t){var e=new s(t);return this.el.appendChild(e.el),this.add(e),e.id},t}();t.exports=c},function(t,e,n){var m=n(17),s=n(356).parseRadius,r=n(374),i=n(500),u={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},c={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},o={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},a={left:"left",start:"left",center:"middle",right:"end",end:"end"},h=function(){function t(t){if(!t)return null;var e=m.uniqueId("canvas_"),n=m.createDom('<svg id="'+e+'"></svg>');return t.appendChild(n),this.type="svg",this.canvas=n,this.context=new i(n),this.toDraw=!1,this}var e=t.prototype;return e.draw=function(e){var n=this;n.animateHandler?n.toDraw=!0:function t(){n.animateHandler=m.requestAnimationFrame(function(){n.animateHandler=void 0,n.toDraw&&t()});try{n._drawChildren(e)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t),n.toDraw=!1}n.toDraw=!1}()},e.drawSync=function(t){this._drawChildren(t)},e._drawGroup=function(t,e){var n=t._cfg;n.removed||n.destroyed||(n.tobeRemoved&&(m.each(n.tobeRemoved,function(t){t.parentNode&&t.parentNode.removeChild(t)}),n.tobeRemoved=[]),this._drawShape(t,e),n.children&&0<n.children.length&&this._drawChildren(t))},e._drawChildren=function(t){var e,n=t._cfg.children;if(n)for(var r=0;r<n.length;r++)(e=n[r]).isGroup?this._drawGroup(e,r):this._drawShape(e,r)},e._drawShape=function(t,e){var n=t._attrs,r=t._cfg,i=r.el;r.removed||r.destroyed?i&&i.parentNode.removeChild(r.el):(!i&&r.parent&&(this._createDom(t,e),this._updateShape(t)),i=r.el,!1!==r.visible?(r.visible&&i.hasAttribute("visibility")&&i.removeAttribute("visibility"),r.hasUpdate&&this._updateShape(t),n.clip&&n.clip._cfg.hasUpdate&&this._updateShape(n.clip)):i.setAttribute("visibility","hidden"))},e._updateShape=function(t){var e=t._attrs,n=t._cfg.attrs;if(n)if(t._cfg.el||this._createDom(t),"clip"in e&&this._setClip(t,e.clip),("shadowOffsetX"in e||"shadowOffsetY"in e||"shadowBlur"in e||"shadowColor"in e)&&this._setShadow(t),"text"!==t.type){for(var r in"fan"===t.type&&this._updateFan(t),"marker"===t.type&&t._cfg.el.setAttribute("d",this._assembleMarker(e)),"rect"===t.type&&t._cfg.el.setAttribute("d",this._assembleRect(e)),e)e[r]!==n[r]&&this._setAttribute(t,r,e[r]);t._cfg.attrs=m.deepMix({},t._attrs),t._cfg.hasUpdate=!1}else this._updateText(t)},e._setAttribute=function(t,e,n){var r=t.type,i=t._attrs,o=t._cfg.el,a=this.context;if("marker"!==r&&"rect"!==r||!~["x","y","radius","r"].indexOf(e))if(~["circle","ellipse"].indexOf(r)&&~["x","y"].indexOf(e))o.setAttribute("c"+e,parseInt(n,10));else{if("polygon"===r&&"points"===e)return n&&0!==n.length||(n=""),m.isArray(n)&&(n=(n=n.map(function(t){return t[0]+","+t[1]})).join(" ")),void o.setAttribute("points",n);if("path"===e&&m.isArray(n))o.setAttribute("d",this._formatPath(n));else if("img"!==e){if("transform"===e)return n?void this._setTransform(t):void o.removeAttribute("transform");if("rotate"===e)return n?void this._setTransform(t):void o.removeAttribute("transform");if("matrix"!==e)if("fillStyle"!==e&&"strokeStyle"!==e){if("clip"!==e)if(~e.indexOf("Arrow"))if(e=c[e],n){var s=null;s="boolean"==typeof n?a.getDefaultArrow(i,e):a.addArrow(i,e),o.setAttribute(e,"url(#"+s+")"),t._cfg[e]=s}else t._cfg[e]=null,o.removeAttribute(e);else"html"===e&&("string"==typeof n?o.innerHTML=n:(o.innerHTML="",o.appendChild(n))),c[e]&&o.setAttribute(c[e],n)}else this._setColor(t,e,n);else this._setTransform(t)}else this._setImage(t,n)}},e._createDom=function(t,e){var n=u[t.type],r=t._attrs,i=t._cfg.parent,o=i._cfg.el;if(!n)throw new Error("the type"+t.type+"is not supported by svg");var a=document.createElementNS("http://www.w3.org/2000/svg",n);if(t._cfg.el=a,i)if(void 0===e)o.appendChild(a);else{var s=i._cfg.el.childNodes;"svg"===o.tagName&&(e+=1),s.length<=e?o.appendChild(a):o.insertBefore(a,s[e])}return t._cfg.attrs={},"text"===t.type?(a.setAttribute("paint-order","stroke"),a.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(r.stroke||r.strokeStyle||a.setAttribute("stroke","none"),r.fill||r.fillStyle||a.setAttribute("fill","none")),a},e._assembleMarker=function(t){var e=t.r;if(void 0===t.r&&(e=t.radius),isNaN(Number(t.x))||isNaN(Number(t.y))||isNaN(Number(e)))return"";var n="";return n="function"==typeof t.symbol?t.symbol(t.x,t.y,e):r.Symbols[t.symbol||"circle"](t.x,t.y,e),m.isArray(n)&&(n=n.map(function(t){return t.join(" ")}).join("")),n},e._assembleRect=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.radius;if(!o)return"M "+e+","+n+" l "+r+",0 l 0,"+i+" l"+-r+" 0 z";var a=s(o);return m.isArray(o)?1===o.length?a.r1=a.r2=a.r3=a.r4=o[0]:2===o.length?(a.r1=a.r3=o[0],a.r2=a.r4=o[1]):3===o.length?(a.r1=o[0],a.r2=a.r4=o[1],a.r3=o[2]):(a.r1=o[0],a.r2=o[1],a.r3=o[2],a.r4=o[3]):a.r1=a.r2=a.r3=a.r4=o,[["M "+(e+a.r1)+","+n],["l "+(r-a.r1-a.r2)+",0"],["a "+a.r2+","+a.r2+",0,0,1,"+a.r2+","+a.r2],["l 0,"+(i-a.r2-a.r3)],["a "+a.r3+","+a.r3+",0,0,1,"+-a.r3+","+a.r3],["l "+(a.r3+a.r4-r)+",0"],["a "+a.r4+","+a.r4+",0,0,1,"+-a.r4+","+-a.r4],["l 0,"+(a.r4+a.r1-i)],["a "+a.r1+","+a.r1+",0,0,1,"+a.r1+","+-a.r1],["z"]].join(" ")},e._formatPath=function(t){return~(t=t.map(function(t){return t.join(" ")}).join("")).indexOf("NaN")?"":t},e._setTransform=function(t){for(var e=t._attrs.matrix,n=t._cfg.el,r=[],i=0;i<9;i+=3)r.push(e[i]+","+e[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)},e._setImage=function(t,e){var n=t._attrs,r=t._cfg.el;if(m.isString(e))r.setAttribute("href",e);else if(e instanceof Image)n.width||(r.setAttribute("width",e.width),t._attrs.width=e.width),n.height||(r.setAttribute("height",e.height),t._attrs.height=e.height),r.setAttribute("href",e.src);else if(e instanceof HTMLElement&&m.isString(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase())r.setAttribute("href",e.toDataURL());else if(e instanceof ImageData){var i=document.createElement("canvas");i.setAttribute("width",e.width),i.setAttribute("height",e.height),i.getContext("2d").putImageData(e,0,0),n.width||(r.setAttribute("width",e.width),t._attrs.width=e.width),n.height||(r.setAttribute("height",e.height),t._attrs.height=e.height),r.setAttribute("href",i.toDataURL())}},e._updateFan=function(t){function e(t,e,n){return{x:e*Math.cos(t)+n.x,y:e*Math.sin(t)+n.y}}var n=t._attrs,r=t._cfg,i={x:n.x,y:n.y},o=[],a=n.startAngle,s=n.endAngle;m.isNumberEqual(s-a,2*Math.PI)&&(s-=1e-5);var u=e(a,n.re,i),c=e(s,n.re,i),h=a<s?1:0,l=Math.abs(s-a)>Math.PI?1:0,f=n.rs,d=n.re,g=e(a,n.rs,i),p=e(s,n.rs,i);0<n.rs?(o.push("M "+c.x+","+c.y),o.push("L "+p.x+","+p.y),o.push("A "+f+","+f+",0,"+l+","+(1==h?0:1)+","+g.x+","+g.y),o.push("L "+u.x+" "+u.y)):(o.push("M "+i.x+","+i.y),o.push("L "+u.x+","+u.y)),o.push("A "+d+","+d+",0,"+l+","+h+","+c.x+","+c.y),0<n.rs?o.push("L "+p.x+","+p.y):o.push("Z"),r.el.setAttribute("d",o.join(" "))},e._updateText=function(t){var e=t._attrs,n=t._cfg.attrs,r=t._cfg.el;for(var i in this._setFont(t),e)if(e[i]!==n[i]){if("text"===i){this._setText(t,""+e[i]);continue}if("fillStyle"===i||"strokeStyle"===i){this._setColor(t,i,e[i]);continue}if("matrix"===i){this._setTransform(t);continue}c[i]&&r.setAttribute(c[i],e[i])}t._cfg.attrs=Object.assign({},t._attrs),t._cfg.hasUpdate=!1},e._setFont=function(t){var e=t.get("el"),n=t._attrs,r=n.fontSize;e.setAttribute("alignment-baseline",o[n.textBaseline]||"baseline"),e.setAttribute("text-anchor",a[n.textAlign]||"left"),r&&+r<12&&(n.matrix=[1,0,0,0,1,0,0,0,1],t.transform([["t",-n.x,-n.y],["s",+r/12,+r/12],["t",n.x,n.y]]))},e._setText=function(t,e){var n=t._cfg.el,r=t._attrs.textBaseline||"bottom";if(e)if(~e.indexOf("\n")){var i=t._attrs.x,o=e.split("\n"),a=o.length-1,s="";m.each(o,function(t,e){0===e?"alphabetic"===r?s+='<tspan x="'+i+'" dy="'+-a+'em">'+t+"</tspan>":"top"===r?s+='<tspan x="'+i+'" dy="0.9em">'+t+"</tspan>":"middle"===r?s+='<tspan x="'+i+'" dy="'+-(a-1)/2+'em">'+t+"</tspan>":"bottom"===r?s+='<tspan x="'+i+'" dy="-'+(.3+a)+'em">'+t+"</tspan>":"hanging"===r&&(s+='<tspan x="'+i+'" dy="'+(-(a-1)-.3)+'em">'+t+"</tspan>"):s+='<tspan x="'+i+'" dy="1em">'+t+"</tspan>"}),n.innerHTML=s}else n.innerHTML=e;else n.innerHTML=""},e._setClip=function(t,e){var n=t._cfg.el;if(e)if(n.hasAttribute("clip-path"))e._cfg.hasUpdate&&this._updateShape(e);else{this._createDom(e),this._updateShape(e);var r=this.context.addClip(e);n.setAttribute("clip-path","url(#"+r+")")}else n.removeAttribute("clip-path")},e._setColor=function(t,e,n){var r=t._cfg.el,i=this.context;if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=i.find("gradient",n);o||(o=i.addGradient(n)),r.setAttribute(c[e],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var a=i.find("pattern",n);a||(a=i.addPattern(n)),r.setAttribute(c[e],"url(#"+a+")")}else r.setAttribute(c[e],n);else r.setAttribute(c[e],"none")},e._setShadow=function(t){var e=t._cfg.el,n=t._attrs,r={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(r.dx||r.dy||r.blur||r.color){var i=this.context.find("filter",r);i||(i=this.context.addShadow(r,this)),e.setAttribute("filter","url(#"+i+")")}else e.removeAttribute("filter")},t}();t.exports=h},function(t,e,n){t.exports={painter:n(501),getShape:n(494)}},function(t,e,n){var g=n(17),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi,p=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,m=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,c=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,v=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function y(t,e){var n=t.match(v);g.each(n,function(t){t=t.split(":"),e.addColorStop(t[0],t[1])})}t.exports={parsePath:function(r){return r=r||[],g.isArray(r)?r:g.isString(r)?(r=r.match(i),g.each(r,function(n,t){if(1<(n=n.match(o))[0].length){var e=n[0].charAt(0);n.splice(1,0,n[0].substr(1)),n[0]=e}g.each(n,function(t,e){isNaN(t)||(n[e]=+t)}),r[t]=n}),r):void 0},parseStyle:function(t,e,n){if(g.isString(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return function(t,e,n){var r,i,o=p.exec(t),a=g.mod(g.toRadian(parseFloat(o[1])),2*Math.PI),s=o[2],u=e.getBBox();i=0<=a&&a<.5*Math.PI?(r={x:u.minX,y:u.minY},{x:u.maxX,y:u.maxY}):.5*Math.PI<=a&&a<Math.PI?(r={x:u.maxX,y:u.minY},{x:u.minX,y:u.maxY}):Math.PI<=a&&a<1.5*Math.PI?(r={x:u.maxX,y:u.maxY},{x:u.minX,y:u.minY}):(r={x:u.minX,y:u.maxY},{x:u.maxX,y:u.minY});var c=Math.tan(a),h=c*c,l=(i.x-r.x+c*(i.y-r.y))/(1+h)+r.x,f=c*(i.x-r.x+c*(i.y-r.y))/(1+h)+r.y,d=n.createLinearGradient(r.x,r.y,l,f);return y(s,d),d}(t,e,n);if("r"===t[0])return function(t,e,n){var r=m.exec(t),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),s=r[4];if(0===a){var u=s.match(v);return u[u.length-1].split(":")[1]}var c=e.getBBox(),h=c.maxX-c.minX,l=c.maxY-c.minY,f=Math.sqrt(h*h+l*l)/2,d=n.createRadialGradient(c.minX+h*i,c.minY+l*o,a*f,c.minX+h/2,c.minY+l/2,f);return y(s,d),d}(t,e,n);if("p"===t[0])return function(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var r,i,o=c.exec(t),a=o[1],s=o[2];function u(){r=n.createPattern(i,a),e.setSilent("pattern",r),e.setSilent("patternSource",t)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?u():(i.onload=u,i.src=i.src),r}(t,e,n)}return t}}}},function(t,e,n){var o=n(17),a=n(503),s=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],r=function(){function t(t){if(!t)return null;var e=o.uniqueId("canvas_"),n=o.createDom('<canvas id="'+e+'"></canvas>');return t.appendChild(n),this.type="canvas",this.canvas=n,this.context=n.getContext("2d"),this.toDraw=!1,this}var e=t.prototype;return e.beforeDraw=function(){var t=this.canvas;this.context&&this.context.clearRect(0,0,t.width,t.height)},e.draw=function(e){var n=this;n.animateHandler?n.toDraw=!0:function t(){n.animateHandler=o.requestAnimationFrame(function(){n.animateHandler=void 0,n.toDraw&&t()}),n.beforeDraw();try{n._drawGroup(e)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t),n.toDraw=!1}n.toDraw=!1}()},e.drawSync=function(t){this.beforeDraw(),this._drawGroup(t)},e._drawGroup=function(t){if(!t._cfg.removed&&!t._cfg.destroyed&&t._cfg.visible){var e=t._cfg.children,n=null;this.setContext(t);for(var r=0;r<e.length;r++)n=e[r],e[r].isGroup?this._drawGroup(n):this._drawShape(n);this.restoreContext(t)}},e._drawShape=function(t){t._cfg.removed||t._cfg.destroyed||!t._cfg.visible||(this.setContext(t),t.drawInner(this.context),this.restoreContext(t),t._cfg.attrs=t._attrs,t._cfg.hasUpdate=!1)},e.setContext=function(t){var e=this.context,n=t._attrs.clip;e.save(),n&&(n.resetTransform(e),n.createPath(e),e.clip()),this.resetContext(t),t.resetTransform(e)},e.restoreContext=function(){this.context.restore()},e.resetContext=function(t){var e=this.context,n=t._attrs;if(!t.isGroup)for(var r in n)if(-1<s.indexOf(r)){var i=n[r];"fillStyle"===r&&(i=a.parseStyle(i,t,e)),"strokeStyle"===r&&(i=a.parseStyle(i,t,e)),"lineDash"===r&&e.setLineDash?o.isArray(i)?e.setLineDash(i):o.isString(i)&&e.setLineDash(i.split(" ")):e[r]=i}},t}();t.exports=r},function(t,e,n){t.exports={painter:n(504)}},function(t,e,n){t.exports={canvas:n(505),svg:n(502)}},function(t,e,n){var v=n(17),y=n(373),u=n(15),s=n(28),r=n(137),x=r.interpolate,b=r.interpolateArray,i=function(t){this._animators=[],this._current=0,this._timer=null,this.canvas=t};function c(t,e,n){var r,i=e.startTime;if(n<i+e.delay||e.isPaused)return!1;var o=e.duration,a=e.easing;if(n=n-i-e.delay,e.toAttrs.repeat)r=n%o/o,r=s[a](r);else{if(!((r=n/o)<1))return t.attr(e.toAttrs),e.toMatrix&&t.setMatrix(e.toMatrix),!0;r=s[a](r)}return function(t,e,n){var r={},i=e.toAttrs,o=e.fromAttrs,a=e.toMatrix;if(!t.get("destroyed")){var s;for(var u in i)if(!v.isEqual(o[u],i[u]))if("path"===u){var c=i[u],h=o[u];c.length>h.length?(c=y.parsePathString(i[u]),h=y.parsePathString(o[u]),h=y.fillPathByDiff(h,c),h=y.formatPath(h,c),e.fromAttrs.path=h,e.toAttrs.path=c):e.pathFormatted||(c=y.parsePathString(i[u]),h=y.parsePathString(o[u]),h=y.formatPath(h,c),e.fromAttrs.path=h,e.toAttrs.path=c,e.pathFormatted=!0),r[u]=[];for(var l=0;l<c.length;l++){for(var f=c[l],d=h[l],g=[],p=0;p<f.length;p++)v.isNumber(f[p])&&d&&v.isNumber(d[p])?(s=x(d[p],f[p]),g.push(s(n))):g.push(f[p]);r[u].push(g)}}else s=x(o[u],i[u]),r[u]=s(n);if(a){var m=b(e.fromMatrix,a)(n);t.setMatrix(m)}t.attr(r)}}(t,e,r),!1}v.augment(i,{initTimer:function(){var r,i,o,a=this,s=this;s._timer=u.timer(function(t){if(s._current=t,0<a._animators.length){for(var e=a._animators.length-1;0<=e;e--)if((r=a._animators[e]).get("destroyed"))s.removeAnimator(e);else{if(!r.get("pause").isPaused)for(var n=(i=r.get("animators")).length-1;0<=n;n--)o=i[n],c(r,o,t)&&(i.splice(n,1),o.callback&&o.callback());0===i.length&&s.removeAnimator(e)}a.canvas.draw()}})},addAnimator:function(t){this._animators.push(t)},removeAnimator:function(t){this._animators.splice(t,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach(function(t){t.stopAnimate()}),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),t.exports=i},function(t,e,n){var v=n(17),y=n(376),x={arc:n(365),ellipse:n(403),line:n(366)},r=v.createDom('<canvas width="500" height="500"></canvas>').getContext("2d");function s(t,e,n){return n.createPath(r),r.isPointInPath(t,e)}var i={arc:function(t,e){var n=this._attrs,r=n.x,i=n.y,o=n.r,a=n.startAngle,s=n.endAngle,u=n.clockwise,c=this.getHitLineWidth();return!!this.hasStroke()&&y.arcline(r,i,o,a,s,u,c,t,e)},circle:function(t,e){var n=this._attrs,r=n.x,i=n.y,o=n.r,a=this.getHitLineWidth(),s=this.hasFill(),u=this.hasStroke();return s&&u?y.circle(r,i,o,t,e)||y.arcline(r,i,o,0,2*Math.PI,!1,a,t,e):s?y.circle(r,i,o,t,e):!!u&&y.arcline(r,i,o,0,2*Math.PI,!1,a,t,e)},dom:function(t,e){if(!this._cfg.el)return!1;var n=this._cfg.el.getBBox();return y.box(n.x,n.x+n.width,n.y,n.y+n.height,t,e)},ellipse:function(t,e){var n=this._attrs,r=this.hasFill(),i=this.hasStroke(),o=n.x,a=n.y,s=n.rx,u=n.ry,c=this.getHitLineWidth(),h=u<s?s:u,l=u<s?1:s/u,f=u<s?u/s:1,d=[t,e,1],g=[1,0,0,0,1,0,0,0,1];v.mat3.scale(g,g,[l,f]),v.mat3.translate(g,g,[o,a]);var p=v.mat3.invert([],g);return v.vec3.transformMat3(d,d,p),r&&i?y.circle(0,0,h,d[0],d[1])||y.arcline(0,0,h,0,2*Math.PI,!1,c,d[0],d[1]):r?y.circle(0,0,h,d[0],d[1]):!!i&&y.arcline(0,0,h,0,2*Math.PI,!1,c,d[0],d[1])},fan:function(o,a){var s=this,t=s.hasFill(),e=s.hasStroke(),n=s._attrs,u=n.x,c=n.y,h=n.rs,l=n.re,f=n.startAngle,d=n.endAngle,g=n.clockwise,r=[o-u,a-c],i=v.vec2.angleTo([1,0],r);function p(){var t=x.arc.nearAngle(i,f,d,g);if(v.isNumberEqual(i,t)){var e=v.vec2.squaredLength(r);if(h*h<=e&&e<=l*l)return!0}return!1}function m(){var t=s.getHitLineWidth(),e={x:Math.cos(f)*h+u,y:Math.sin(f)*h+c},n={x:Math.cos(f)*l+u,y:Math.sin(f)*l+c},r={x:Math.cos(d)*h+u,y:Math.sin(d)*h+c},i={x:Math.cos(d)*l+u,y:Math.sin(d)*l+c};return!!(y.line(e.x,e.y,n.x,n.y,t,o,a)||y.line(r.x,r.y,i.x,i.y,t,o,a)||y.arcline(u,c,h,f,d,g,t,o,a)||y.arcline(u,c,l,f,d,g,t,o,a))}return t&&e?p()||m():t?p():!!e&&m()},image:function(t,e){var n=this._attrs;if(this.get("toDraw")||!n.img)return!1;this._cfg.attrs&&this._cfg.attrs.img===n.img||this._setAttrImg();var r=n.x,i=n.y,o=n.width,a=n.height;return y.rect(r,i,o,a,t,e)},line:function(t,e){var n=this._attrs,r=n.x1,i=n.y1,o=n.x2,a=n.y2,s=this.getHitLineWidth();return!!this.hasStroke()&&y.line(r,i,o,a,s,t,e)},path:function(r,i){var o=this,a=o.get("segments"),t=o.hasFill(),e=o.hasStroke();function n(){if(!v.isEmpty(a)){for(var t=o.getHitLineWidth(),e=0,n=a.length;e<n;e++)if(a[e].isInside(r,i,t))return!0;return!1}}return t&&e?s(r,i,o)||n():t?s(r,i,o):!!e&&n()},marker:function(t,e){var n=this._attrs,r=n.x,i=n.y,o=n.radius||n.r,a=this.getHitLineWidth();return y.circle(r,i,o+a/2,t,e)},polygon:function(r,i){var o=this,t=o.hasFill(),e=o.hasStroke();function n(){var t=o._attrs.points;if(t.length<2)return!1;var e=o.getHitLineWidth(),n=t.slice(0);return 3<=t.length&&n.push(t[0]),y.polyline(n,e,r,i)}return t&&e?s(r,i,o)||n():t?s(r,i,o):!!e&&n()},polyline:function(t,e){var n=this._attrs;if(this.hasStroke()){var r=n.points;if(r.length<2)return!1;var i=n.lineWidth;return y.polyline(r,i,t,e)}return!1},rect:function(u,c){var h=this,t=h.hasFill(),e=h.hasStroke();function n(){var t=h._attrs,e=t.x,n=t.y,r=t.width,i=t.height,o=t.radius,a=h.getHitLineWidth();if(0!==o)return y.line(e+o,n,e+r-o,n,a,u,c)||y.line(e+r,n+o,e+r,n+i-o,a,u,c)||y.line(e+r-o,n+i,e+o,n+i,a,u,c)||y.line(e,n+i-o,e,n+o,a,u,c)||y.arcline(e+r-o,n+o,o,1.5*Math.PI,2*Math.PI,!1,a,u,c)||y.arcline(e+r-o,n+i-o,o,0,.5*Math.PI,!1,a,u,c)||y.arcline(e+o,n+i-o,o,.5*Math.PI,Math.PI,!1,a,u,c)||y.arcline(e+o,n+o,o,Math.PI,1.5*Math.PI,!1,a,u,c);var s=a/2;return y.line(e-s,n,e+r+s,n,a,u,c)||y.line(e+r,n-s,e+r,n+i+s,a,u,c)||y.line(e+r+s,n+i,e-s,n+i,a,u,c)||y.line(e,n+i+s,e,n-s,a,u,c)}return t&&e?s(u,c,h)||n():t?s(u,c,h):!!e&&n()},text:function(t,e){var n=this.getBBox();if(this.hasFill()||this.hasStroke())return y.box(n.minX,n.maxX,n.minY,n.maxY,t,e)}};t.exports={isPointInPath:function(t,e){var n=i[this.type];return!!n&&n.call(this,t,e)}}},function(t,e,n){var r=n(37);r.Arc=n(402),r.Circle=n(401),r.Dom=n(400),r.Ellipse=n(399),r.Fan=n(398),r.Image=n(397),r.Line=n(396),r.Marker=n(374),r.Path=n(395),r.Polygon=n(394),r.Polyline=n(393),r.Rect=n(392),r.Text=n(391),t.exports=r},function(t,e,n){var c=n(17),h={delay:"delay",rotate:"rotate"},l={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};t.exports={animate:function(t,e,n,r,i){void 0===i&&(i=0),this.set("animating",!0);var o=this.get("timeline");o||(o=this.get("canvas").get("timeline"),this.setSilent("timeline",o));var a=this.get("animators")||[];o._timer||o.initTimer(),c.isNumber(r)&&(i=r,r=null),n=c.isFunction(n)?(r=n,"easeLinear"):n||"easeLinear";var s=function(t,e){var n={matrix:null,attrs:{}},r=e._attrs;for(var i in t)if("transform"===i)n.matrix=c.transform(e.getMatrix(),t[i]);else if("rotate"===i)n.matrix=c.transform(e.getMatrix(),[["r",t[i]]]);else if("matrix"===i)n.matrix=t[i];else{if(l[i]&&/^[r,R,L,l]{1}[\s]*\(/.test(t[i]))continue;h[i]||r[i]===t[i]||(n.attrs[i]=t[i])}return n}(t,this),u={fromAttrs:function(t,e){var n={},r=e._attrs;for(var i in t.attrs)n[i]=r[i];return n}(s,this),toAttrs:s.attrs,fromMatrix:c.clone(this.getMatrix()),toMatrix:s.matrix,duration:e,easing:n,callback:r,delay:i,startTime:o.getTime(),id:c.uniqueId()};0<a.length?a=function(n,t){var r=t.delay,i=Object.prototype.hasOwnProperty;return c.each(t.toAttrs,function(t,e){c.each(n,function(t){r<t.startTime+t.duration&&i.call(t.toAttrs,e)&&(delete t.toAttrs[e],delete t.fromAttrs[e])})}),t.toMatrix&&c.each(n,function(t){r<t.startTime+t.duration&&t.toMatrix&&delete t.toMatrix}),n}(a,u):o.addAnimator(this),a.push(u),this.setSilent("animators",a),this.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var e=this,t=this.get("animators");c.each(t,function(t){e.attr(t.toAttrs),t.toMatrix&&e.attr("matrix",t.toMatrix),t.callback&&t.callback()}),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var t=this.get("timeline");return this.setSilent("pause",{isPaused:!0,pauseTime:t.getTime()}),this},resumeAnimate:function(){var e=this.get("timeline").getTime(),t=this.get("animators"),n=this.get("pause").pauseTime;return c.each(t,function(t){t.startTime=t.startTime+(e-n),t._paused=!1,t._pauseTime=null}),this.setSilent("pause",{isPaused:!1}),this.setSilent("animators",t),this}}},function(t,e,n){var i=n(17);function r(t){return 1===t[0]&&0===t[1]&&0===t[3]&&1===t[4]&&0===t[6]&&0===t[7]}function o(t){return 0===t[1]&&0===t[3]&&0===t[6]&&0===t[7]}function a(t,e){r(e)||(o(e)?(t[0]*=e[0],t[4]*=e[4]):i.mat3.multiply(t,t,e))}t.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(t,e){var n=this._attrs.matrix;return i.mat3.translate(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotate:function(t){var e=this._attrs.matrix;return i.mat3.rotate(e,e,t),this.clearTotalMatrix(),this.attr("matrix",e),this},scale:function(t,e){var n=this._attrs.matrix;return i.mat3.scale(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotateAtStart:function(t){var e=this._attrs.x||this._cfg.attrs.x,n=this._attrs.y||this._cfg.attrs.y;return Math.abs(t)>2*Math.PI&&(t=t/180*Math.PI),this.transform([["t",-e,-n],["r",t],["t",e,n]])},move:function(t,e){var n=this.get("x")||0,r=this.get("y")||0;return this.translate(t-n,e-r),this.set("x",t),this.set("y",e),this},transform:function(t){var e=this,n=this._attrs.matrix;return i.each(t,function(t){switch(t[0]){case"t":e.translate(t[1],t[2]);break;case"s":e.scale(t[1],t[2]);break;case"r":e.rotate(t[1]);break;case"m":e.attr("matrix",i.mat3.multiply([],n,t[1])),e.clearTotalMatrix()}}),e},setTransform:function(t){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(t)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(t){return this.attr("matrix",t),this.clearTotalMatrix(),this},apply:function(t,e){var n;return n=e?this._getMatrixByRoot(e):this.attr("matrix"),i.vec3.transformMat3(t,t,n),this},_getMatrixByRoot:function(t){t=t||this;for(var e=this,n=[];e!==t;)n.unshift(e),e=e.get("parent");n.unshift(e);var r=[1,0,0,0,1,0,0,0,1];return i.each(n,function(t){i.mat3.multiply(r,t.attr("matrix"),r)}),r},getTotalMatrix:function(){var t=this._cfg.totalMatrix;if(!t){t=[1,0,0,0,1,0,0,0,1];var e=this._cfg.parent;e&&a(t,e.getTotalMatrix()),a(t,this.attr("matrix")),this._cfg.totalMatrix=t}return t},clearTotalMatrix:function(){},invert:function(t){var e=this.getTotalMatrix();if(o(e))t[0]/=e[0],t[1]/=e[4];else{var n=i.mat3.invert([],e);n&&i.vec3.transformMat3(t,t,n)}return this},resetTransform:function(t){var e=this.attr("matrix");r(e)||t.transform(e[0],e[1],e[3],e[4],e[6],e[7])}}},function(t,e,n){var r=n(17);t.exports={canFill:!1,canStroke:!1,initAttrs:function(t){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(r.assign(this.getDefaultAttrs(),t)),this},getDefaultAttrs:function(){return{}},attr:function(t,e){if(0===arguments.length)return this._attrs;if(r.isObject(t)){for(var n in t)this._setAttr(n,t[n]);return this.clearBBox(),this._cfg.hasUpdate=!0,this}return 2===arguments.length?(this._setAttr(t,e),this.clearBBox(),this._cfg.hasUpdate=!0,this):this._attrs[t]},_setAttr:function(t,e){var n=this._attrs;n[t]=e,"fill"!==t&&"stroke"!==t?"opacity"!==t?"clip"===t&&e?this._setClip(e):"path"===t&&this._afterSetAttrPath?this._afterSetAttrPath(e):"transform"!==t?"rotate"===t&&this.rotateAtStart(e):this.transform(e):n.globalAlpha=e:n[t+"Style"]=e},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(t){t._cfg.renderer=this._cfg.renderer,t._cfg.canvas=this._cfg.canvas,t._cfg.parent=this._cfg.parent,t.hasFill=function(){return!0}}}},function(t,e,n){var r=n(17),o=n(407),i=n(406),a=n(507),s=n(506),u=function t(e){t.superclass.constructor.call(this,e)};u.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},r.extend(u,i),r.augment(u,{init:function(){u.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this._registEvents()},getEmitter:function(t,e){if(t){if(!r.isEmpty(t._getEvents()))return t;var n=t.get("parent");if(n&&!e.propagationStopped)return this.getEmitter(n,e)}},_getEventObj:function(t,e,n,r){var i=new o(t,e,!0,!0);return i.x=n.x,i.y=n.y,i.clientX=e.clientX,i.clientY=e.clientY,i.currentTarget=r,i.target=r,i},_triggerEvent:function(t,e){var n,r=this.getPointByClient(e.clientX,e.clientY),i=this.getShape(r.x,r.y,e),o=this.get("el");if("mousemove"===t){var a=this.get("preShape");if(a&&a!==i){var s=this._getEventObj("mouseleave",e,r,a);(n=this.getEmitter(a,e))&&n.emit("mouseleave",s),o.style.cursor="default"}if(i){var u=this._getEventObj("mousemove",e,r,i);if((n=this.getEmitter(i,e))&&n.emit("mousemove",u),a!==i){var c=this._getEventObj("mouseenter",e,r,i);n&&n.emit("mouseenter",c,e)}}else{var h=this._getEventObj("mousemove",e,r,this);this.emit("mousemove",h)}this.set("preShape",i)}else{var l=this._getEventObj(t,e,r,i||this);(n=this.getEmitter(i,e))&&n!==this&&n.emit(t,l),this.emit(t,l)}i&&!i.get("destroyed")&&(o.style.cursor=i.attr("cursor")||"default")},_registEvents:function(){var n=this,t=n.get("el");r.each(["mouseout","mouseover","mousemove","mousedown","mouseleave","mouseup","click","dblclick"],function(e){t.addEventListener(e,function(t){n._triggerEvent(e,t)},!1)}),t.addEventListener("touchstart",function(t){r.isEmpty(t.touches)||n._triggerEvent("touchstart",t.touches[0])},!1),t.addEventListener("touchmove",function(t){r.isEmpty(t.touches)||n._triggerEvent("touchmove",t.touches[0])},!1),t.addEventListener("touchend",function(t){r.isEmpty(t.changedTouches)||n._triggerEvent("touchend",t.changedTouches[0])},!1)},_scale:function(){if("svg"!==this._cfg.renderType){var t=this.get("pixelRatio");this.scale(t,t)}},_setGlobalParam:function(){var t=this.get("renderer")||"canvas";"svg"===t?this.set("pixelRatio",1):this.get("pixelRatio")||this.set("pixelRatio",r.getRatio()),this._cfg.renderType=t;var e=s[t];this._cfg.renderer=e,this._cfg.canvas=this;var n=new a(this);this._cfg.timeline=n},_setContainer:function(){var t=this.get("containerId"),e=this.get("containerDOM");e||(e=document.getElementById(t),this.set("containerDOM",e)),r.modifyCSS(e,{position:"relative"})},_initPainter:function(){var t=this.get("containerDOM"),e=new this._cfg.renderer.painter(t);this._cfg.painter=e,this._cfg.canvasDOM=this._cfg.el=e.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var t=this.get("canvasDOM"),e=this.get("widthCanvas"),n=this.get("heightCanvas"),r=this.get("widthStyle"),i=this.get("heightStyle");t.style.width=r,t.style.height=i,t.setAttribute("width",e),t.setAttribute("height",n)},getWidth:function(){var t=this.get("pixelRatio");return this.get("width")*t},getHeight:function(){var t=this.get("pixelRatio");return this.get("height")*t},changeSize:function(t,e){var n=this.get("pixelRatio"),r=t*n,i=e*n;this.set("widthCanvas",r),this.set("heightCanvas",i),this.set("widthStyle",t+"px"),this.set("heightStyle",e+"px"),this.set("width",t),this.set("height",e),this._resize()},getPointByClient:function(t,e){var n=this.get("el"),r=this.get("pixelRatio")||1,i=n.getBoundingClientRect();return{x:(t-i.left)*r,y:(e-i.top)*r}},getClientByPoint:function(t,e){var n=this.get("el").getBoundingClientRect(),r=this.get("pixelRatio")||1;return{clientX:t/r+n.left,clientY:e/r+n.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(t,e,n){return 3===arguments.length&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,t,e,n):u.superclass.getShape.call(this,t,e)},getRenderer:function(){return this._cfg.renderType},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var t=this._cfg,e=t.containerDOM,n=t.canvasDOM;n&&e&&e.removeChild(n),t.timeline.stop(),u.superclass.destroy.call(this)}}),t.exports=u},function(t,e,n){var r=n(147),i={};n(152).mix(i,r.PathUtil,{getRectPath:r.PathUtil.rectPath,pointsToPolygon:function(t){for(var e=[["M",t[0].x,t[0].y]],n=1;n<t.length;n++){var r=t[n];e.push(["L",r.x,r.y])}return e},getEllipsePath:function(t,e,n,r){return[["M",t,e-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]}}),t.exports=i},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(409),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{var r=!(t[s]=void 0)}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e,n){var r=n(409),i=n(517),o=n(516),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(518),i=n(515);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},function(t,e,n){var r=n(377),i=n(519),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,h=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return o;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=u.test(t);return n||c.test(t)?h(t.slice(2),n?2:8):s.test(t)?o:+t}},function(n,t,e){(function(t){var e="object"==typeof t&&t&&t.Object===Object&&t;n.exports=e}).call(this,e(148))},function(t,e,n){var r=n(410);t.exports=function(){return r.Date.now()}},function(t,e,n){var o=n(411),a=n(377);t.exports=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return a(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),o(t,e,{leading:r,maxWait:e,trailing:i})}},function(t,e){t.exports=function(n,r,i){var o=void 0,a=void 0,s=void 0,u=void 0,c=0;i||(i={});var h=function(){c=!1===i.leading?0:Date.now(),o=null,u=n.apply(a,s),o||(a=s=null)},t=function(){var t=Date.now();c||!1!==i.leading||(c=t);var e=r-(t-c);return a=this,s=arguments,e<=0||r<e?(o&&(clearTimeout(o),o=null),c=t,u=n.apply(a,s),o||(a=s=null)):o||!1===i.trailing||(o=setTimeout(h,e)),u};return t.cancel=function(){clearTimeout(o),c=0,o=a=s=null},t}},function(t,e,n){var r=n(30),i=n(359),o=Object.prototype.hasOwnProperty;t.exports=function(e,t){if(null===e||!i(e))return{};var n={};return r(t,function(t){o.call(e,t)&&(n[t]=e[t])}),n}},function(t,e,n){var i=n(30),o=n(62);t.exports=function(t,n){if(!o(t))return t;var r=[];return i(t,function(t,e){r.push(n(t,e))}),r}},function(t,e,n){var r=n(47),i=n(378);t.exports=function(t,e,n){return r(n)?!!n(t,e):i(t,e)}},function(t,e,n){var o=n(62);t.exports=function(t,e){if(!o(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,i=0;i<t.length;i++)if(t[i]===e){r=i;break}return r}},function(t,e,n){var o=n(415);t.exports=function(t,e){if(!e)return[t];var n=o(t,e),r=[];for(var i in n)r.push(n[i]);return r}},function(t,e){t.exports=function(r,i,o){var a=void 0;return function(){var t=this,e=arguments,n=o&&!a;clearTimeout(a),a=setTimeout(function(){a=null,o||r.apply(t,e)},i),n&&r.apply(t,e)}}},function(t,e,n){var r=n(60);t.exports=function(t){return r(t,"Error")}},function(t,e,n){var r=n(60);t.exports=function(t){return r(t,"Arguments")}},function(t,e,n){var r=n(60);t.exports=function(t){return r(t,"Date")}},function(t,e,n){var r=n(60);t.exports=function(t){return r(t,"RegExp")}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e){t.exports=function(t){return null===t}},function(t,e,n){var r=n(60),i={getType:n(420),isArray:n(29),isArrayLike:n(62),isBoolean:n(419),isFunction:n(47),isNil:n(136),isNull:n(536),isNumber:n(135),isObject:n(385),isObjectLike:n(383),isPlainObject:n(359),isPrototype:n(418),isType:r,isUndefined:n(535),isString:n(358),isRegExp:n(534),isDate:n(533),isArguments:n(532),isError:n(531)};t.exports=i},function(t,e,n){t.exports=n(422)},function(t,e){t.exports=function(t,n){return t&&n?t.replace(/\\?\{([^{}]+)\}/g,function(t,e){return"\\"===t.charAt(0)?t.slice(1):void 0===n[e]?"":n[e]}):t}},function(t,e,n){var r=n(357);t.exports=function(t){var e=r(t);return e.charAt(0).toLowerCase()+e.substring(1)}},function(t,e,n){t.exports=n(423)},function(t,e,n){var r={lc:n(541),lowerCase:n(423),lowerFirst:n(540),substitute:n(539),uc:n(538),upperCase:n(422),upperFirst:n(421)};t.exports=r},function(t,e){function u(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}function i(t,e,n){for(var r=[].concat(t),i=void 0,o=1/(n+1),a=u(e)[0],s=1;s<=n;s++)o*=s,0===(i=Math.floor(t.length*o))?r.unshift([a[0]*o+t[i][0]*(1-o),a[1]*o+t[i][1]*(1-o)]):r.splice(i,0,[a[0]*o+t[i][0]*(1-o),a[1]*o+t[i][1]*(1-o)]);return r}t.exports=function(t,e){if(t.length<=1)return t;for(var n=void 0,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=u(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(0<r)){t[r]=e[r];break}n=i(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(0<r)){t[r]=e[r];break}n=i(n,t[r-1],2)}t[r]=["C"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(n.length<2){if(!(0<r)){t[r]=e[r];break}n=i(n,t[r-1],1)}t[r]=["S"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;default:t[r]=e[r]}return t}},function(t,e,n){var i=n(30);t.exports=function(t,n){if(t.length!==n.length)return!1;var r=!0;return i(t,function(t,e){if(t!==n[e])return r=!1}),r}},function(t,e,n){var x=n(544);t.exports=function(t,e){var n=function(t,e){var n,r,i,o,a=t.length,s=e.length,u=void 0,c=void 0,h=0;if(0===a||0===s)return null;for(var l=[],f=0;f<=a;f++)l[f]=[],l[f][0]={min:f};for(var d=0;d<=s;d++)l[0][d]={min:d};for(var g=1;g<=a;g++){u=t[g-1];for(var p=1;p<=s;p++){c=e[p-1],h=x(u,c)?0:1;var m=l[g-1][p].min+1,v=l[g][p-1].min+1,y=l[g-1][p-1].min+h;l[g][p]=(o=i=void 0,i=null,(r=v)<(o=y)&&(o=r,i="add"),(n=m)<o&&(o=n,i="del"),{type:i,min:o})}}return l}(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i]!==r){for(var u=1;u<=r;u++){var c=n[u][u].min;s=u;for(var h=a;h<=i;h++)n[u][h].min<c&&(c=n[u][h].min,s=h);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(var l=o.length-1;0<=l;l--)a=o[l].index,"add"===o[l].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}if((r=t.length)<i)for(var f=0;f<i-r;f++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]);return t}},function(t,e){t.exports=function(r,t){if(1===r.length)return r;var i=r.length-1,e=t.length-1,n=i/e,o=[];if(1===r.length&&"M"===r[0][0]){for(var a=0;a<e-i;a++)r.push(r[0]);return r}for(var s=0;s<e;s++){var u=Math.floor(n*s);o[u]=(o[u]||0)+1}var c=o.reduce(function(t,e,n){return n===i?t.concat(r[i]):t.concat(function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i,o,a,s,u=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var c=r,h=1/n,l=0;l<n-1;l++){var f=(o=h/(1-h*l),s=a=void 0,a=[],s=[],(i=c).length&&function t(e,n){if(1===e.length)a.push(e[0]),s.push(e[0]);else{for(var r=[],i=0;i<e.length-1;i++)0===i&&a.push(e[0]),i===e.length-2&&s.push(e[i+1]),r[i]=[(1-n)*e[i][0]+n*e[i+1][0],(1-n)*e[i][1]+n*e[i+1][1]];t(r,n)}}(i,o),{left:a,right:s.reverse()});u.push(f.left),c=f.right}return u.push(c),u.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),3<=t.length&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])})}(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r}(r[n],r[n+1],e))},[]);return c.unshift(r[0]),"Z"!==t[e]&&"z"!==t[e]||c.push("Z"),c}},function(t,e,n){var c=n(29),i=n(429),_=n(427),y=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},M=function(t,e,n,r,i,o,a,s,u){null===u&&(u=1);for(var c=(u=1<u?1:u<0?0:u)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],l=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,d=0;d<12;d++){var g=c*h[d]+c,p=y(g,t,n,i,a),m=y(g,e,r,o,s),v=p*p+m*m;f+=l[d]*Math.sqrt(v)}return c*f},P=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var u=(t-n)*(o-s)-(e-r)*(i-a);if(u){var c=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/u,h=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/u,l=+c.toFixed(2),f=+h.toFixed(2);if(!(l<+Math.min(t,n).toFixed(2)||l>+Math.max(t,n).toFixed(2)||l<+Math.min(i,a).toFixed(2)||l>+Math.max(i,a).toFixed(2)||f<+Math.min(e,r).toFixed(2)||f>+Math.max(e,r).toFixed(2)||f<+Math.min(o,s).toFixed(2)||f>+Math.max(o,s).toFixed(2)))return{x:c,y:h}}}},O=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},E=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:i(t,e,n,r),vb:[t,e,n,r].join(" ")}},A=function(t,e,n,r,i,o,a,s){c(t)||(t=[t,e,n,r,i,o,a,s]);var u=function(t,e,n,r,i,o,a,s){for(var u=[],c=[[],[]],h=void 0,l=void 0,f=void 0,d=void 0,g=0;g<2;++g)if(f=0===g?(l=6*t-12*n+6*i,h=-3*t+9*n-9*i+3*a,3*n-3*t):(l=6*e-12*r+6*o,h=-3*e+9*r-9*o+3*s,3*r-3*e),Math.abs(h)<1e-12){if(Math.abs(l)<1e-12)continue;0<(d=-f/l)&&d<1&&u.push(d)}else{var p=l*l-4*f*h,m=Math.sqrt(p);if(!(p<0)){var v=(-l+m)/(2*h);0<v&&v<1&&u.push(v);var y=(-l-m)/(2*h);0<y&&y<1&&u.push(y)}}for(var x=u.length,b=x,w=void 0;x--;)w=1-(d=u[x]),c[0][x]=w*w*w*t+3*w*w*d*n+3*w*d*d*i+d*d*d*a,c[1][x]=w*w*w*e+3*w*w*d*r+3*w*d*d*o+d*d*d*s;return c[0][b]=t,c[1][b]=e,c[0][b+1]=a,c[1][b+1]=s,c[0].length=c[1].length=b+2,{min:{x:Math.min.apply(0,c[0]),y:Math.min.apply(0,c[1])},max:{x:Math.max.apply(0,c[0]),y:Math.max.apply(0,c[1])}}}.apply(null,t);return E(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},C=function(t,e,n,r,i,o,a,s,u){var c=1-u,h=Math.pow(c,3),l=Math.pow(c,2),f=u*u,d=f*u,g=t+2*u*(n-t)+f*(i-2*n+t),p=e+2*u*(r-e)+f*(o-2*r+e),m=n+2*u*(i-n)+f*(a-2*i+n),v=r+2*u*(o-r)+f*(s-2*o+r);return{x:h*t+3*l*u*n+3*c*u*u*i+d*a,y:h*e+3*l*u*r+3*c*u*u*o+d*s,m:{x:g,y:p},n:{x:m,y:v},start:{x:c*t+u*n,y:c*e+u*r},end:{x:c*i+u*a,y:c*o+u*s},alpha:90-180*Math.atan2(g-m,p-v)/Math.PI}},S=function(t,e,n){if(!function(t,e){return t=E(t),e=E(e),O(e,t.x,t.y)||O(e,t.x2,t.y)||O(e,t.x,t.y2)||O(e,t.x2,t.y2)||O(t,e.x,e.y)||O(t,e.x2,e.y)||O(t,e.x,e.y2)||O(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(A(t),A(e)))return n?0:[];for(var r=~~(M.apply(0,t)/8),i=~~(M.apply(0,e)/8),o=[],a=[],s={},u=n?0:[],c=0;c<1+r;c++){var h=C.apply(0,t.concat(c/r));o.push({x:h.x,y:h.y,t:c/r})}for(var l=0;l<1+i;l++){var f=C.apply(0,e.concat(l/i));a.push({x:f.x,y:f.y,t:l/i})}for(var d=0;d<r;d++)for(var g=0;g<i;g++){var p=o[d],m=o[d+1],v=a[g],y=a[g+1],x=Math.abs(m.x-p.x)<.001?"y":"x",b=Math.abs(y.x-v.x)<.001?"y":"x",w=P(p.x,p.y,m.x,m.y,v.x,v.y,y.x,y.y);if(w){if(s[w.x.toFixed(4)]===w.y.toFixed(4))continue;s[w.x.toFixed(4)]=w.y.toFixed(4);var _=p.t+Math.abs((w[x]-p[x])/(m[x]-p[x]))*(m.t-p.t),S=v.t+Math.abs((w[b]-v[b])/(y[b]-v[b]))*(y.t-v.t);0<=_&&_<=1&&0<=S&&S<=1&&(n?u++:u.push({x:w.x,y:w.y,t1:_,t2:S}))}}return u};t.exports=function(t,e){return function(t,e){t=_(t),e=_(e);for(var n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,h=void 0,l=void 0,f=[],d=0,g=t.length;d<g;d++){var p=t[d];if("M"===p[0])n=a=p[1],r=s=p[2];else{r="C"===p[0]?(n=(h=[n,r].concat(p.slice(1)))[6],h[7]):(h=[n,r,n,r,a,s,a,s],n=a,s);for(var m=0,v=e.length;m<v;m++){var y=e[m];if("M"===y[0])i=u=y[1],o=c=y[2];else{o="C"===y[0]?(i=(l=[i,o].concat(y.slice(1)))[6],l[7]):(l=[i,o,i,o,u,c,u,c],i=u,c);for(var x=S(h,l,void 0),b=0,w=x.length;b<w;b++)x[b].segment1=d,x[b].segment2=m,x[b].bez1=h,x[b].bez2=l;f=f.concat(x)}}}}return f}(t,e)}},function(t,e,n){var r=n(547),i=n(426),o=n(427),a=n(424);t.exports={catmullRom2Bezier:a,catmullRomToBezier:a,fillPath:n(546),fillPathByDiff:n(545),formatPath:n(543),intersection:r,pathIntersection:r,parsePathArray:n(428),parsePathString:n(425),pathToAbsolute:i,path2absolute:i,pathTocurve:o,path2curve:o,rectPath:n(429)}},function(t,e,n){var r=n(368),i=n(430);t.exports=function(t,e){return r(i(t),e)}},function(t,e,n){t.exports=n(431)},function(t,e,n){t.exports=n(30)},function(t,e,n){t.exports={forIn:n(551),has:n(431),hasKey:n(550),hasValue:n(549),keys:n(443),isMatch:n(444),values:n(430)}},function(t,e,n){t.exports={mat3:n(381),vec2:n(434),vec3:n(433),transform:n(432)}},function(t,e,n){var o=n(29),a=n(47),s=n(30);t.exports=function(t,e){if(o(t)){var n=t[0],r=void 0;r=a(e)?e(t[0]):t[0][e];var i=void 0;return s(t,function(t){(i=a(e)?e(t):t[e])<r&&(n=t,r=i)}),n}}},function(t,e,n){var o=n(29),a=n(47),s=n(30);t.exports=function(t,e){if(o(t)){var n=t[0],r=void 0;r=a(e)?e(t[0]):t[0][e];var i=void 0;return s(t,function(t){(i=a(e)?e(t):t[e])>r&&(n=t,r=i)}),n}}},function(t,e,n){var r=n(135);t.exports=function(t){return r(t)&&0<t}},function(t,e,n){var r=n(135);t.exports=function(t){return r(t)&&t%2!=0}},function(t,e,n){var r=n(135);t.exports=function(t){return r(t)&&t<0}},function(t,e,n){var r=n(135),i=Number.isInteger?Number.isInteger:function(t){return r(t)&&t%1==0};t.exports=i},function(t,e,n){var r=n(135);t.exports=function(t){return r(t)&&t%2==0}},function(t,e,n){var r=n(135);t.exports=function(t){return r(t)&&t%1!=0}},function(t,e){t.exports=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return 20<i&&(i=20),parseFloat(t.toFixed(i))}},function(t,e,n){var r=n(439);t.exports={clamp:n(382),fixedBase:n(562),isDecimal:n(561),isEven:n(560),isInteger:n(559),isNegative:n(558),isNumberEqual:r,isOdd:n(557),isPositive:n(556),maxBy:n(555),minBy:n(554),mod:n(438),snapEqual:r,toDegree:n(437),toInt:n(436),toInteger:n(436),toRadian:n(435)}},function(t,e,n){var o=n(29);t.exports=function(t){var e=0,n=0,r=0,i=0;return o(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}}},function(t,e,n){var i=n(29),o=n(358),a=n(30),s=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,u=/[^\s\,]+/gi;t.exports=function(r){return i(r=r||[])?r:o(r)?(r=r.match(s),a(r,function(n,t){if(1<(n=n.match(u))[0].length){var e=n[0].charAt(0);n.splice(1,0,n[0].substr(1)),n[0]=e}a(n,function(t,e){isNaN(t)||(n[e]=+t)}),r[t]=n}),r):void 0}},function(t,e){var i={};t.exports=function(t){var e=i[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,i[t]=e}return e}},function(t,e,n){var r=n(566);t.exports={number2color:r,numberToColor:r,parsePath:n(565),parseRadius:n(564)}},function(t,e){t.exports=function(e,n){if(e["_wrap_"+n])return e["_wrap_"+n];var t=function(t){e[n](t)};return e["_wrap_"+n]=t}},function(t,e){t.exports=function(t,e){return t["_wrap_"+e]}},function(t,e,n){t.exports={getWrapBehavior:n(569),wrapBehavior:n(568)}},function(t,e,n){var a=n(136),s=n(29),u=n(30);t.exports=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i][e];a(o)||(s(o)||(o=[o]),u(o,function(t){r[t]||(n.push(t),r[t]=!0)}))}return n}},function(t,e,n){var r=n(30),i=n(367),o=n(440);t.exports=function(){var e=[],t=i(arguments);return r(t,function(t){e=e.concat(t)}),o(e)}},function(t,e,n){var r=n(358),o=n(47),a=n(29);t.exports=function(t,n){var e=void 0;if(o(n))e=function(t,e){return n(t)-n(e)};else{var i=[];r(n)?i.push(n):a(n)&&(i=n),e=function(t,e){for(var n=0;n<i.length;n+=1){var r=i[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0}}return t.sort(e),t}},function(t,e,n){var s=n(62),u=n(441);t.exports=function(t,e){var n=[];if(!s(t))return n;for(var r=-1,i=[],o=t.length;++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return u(t,i),n}},function(t,e,n){var i=n(29),o=n(359),a=n(30);t.exports=function(t,n,e){if(!i(t)&&!o(t))return t;var r=e;return a(t,function(t,e){r=n(r,t,e)}),r}},function(t,e){t.exports=function(t){for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e}},function(t,e,n){var i=n(384),o=n(29);t.exports=function(t){if(!(t=i(t,function(t){return!isNaN(t)})).length)return{min:0,max:0};if(o(t[0])){for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);t=e}var r=Math.max.apply(null,t);return{min:Math.min.apply(null,t),max:r}}},function(t,e,n){var i=n(29);t.exports=function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];if(i(e))for(var r=0;r<e.length;r+=1)t(e[r],n);else n.push(e);return n}},function(t,e,n){var r=n(29),i=n(30);t.exports=function(t){if(!r(t))return t;var e=[];return i(t,function(t){r(t)?i(t,function(t){e.push(t)}):e.push(t)}),e}},function(t,e,n){var o=n(136),a=n(29);t.exports=function(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r][e];if(!o(i)){n=a(i)?i[0]:i;break}}return n}},function(t,e,n){var i=n(47),o=n(359),a=n(444);t.exports=function(t,e){var n=void 0;if(i(e)&&(n=e),o(e)&&(n=function(t){return a(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null}},function(t,e,n){var r=n(384),i=n(368);t.exports=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return r(t,function(t){return!i(e,t)})}},function(t,e,n){t.exports={contains:n(368),difference:n(582),find:n(581),firstValue:n(580),flatten:n(579),flattenDeep:n(578),getRange:n(577),merge:n(576),pull:n(442),pullAt:n(441),reduce:n(575),remove:n(574),sortBy:n(573),union:n(572),uniq:n(440),valuesOfKey:n(571)}},function(t,e){t.exports=function(t,e){var n=this.getStyle(t,"width",e);return"auto"===n&&(n=t.offsetWidth),parseFloat(n)}},function(t,e,n){var r=n(136);t.exports=function(t,e,n){try{return window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.currentStyle[e]}catch(t){return r(n)?null:n}}},function(t,e){t.exports=function(){return window.devicePixelRatio?window.devicePixelRatio:2}},function(t,e){t.exports=function(t,e){var n=this.getWidth(t,e),r=parseFloat(this.getStyle(t,"borderLeftWidth"))||0,i=parseFloat(this.getStyle(t,"paddingLeft"))||0,o=parseFloat(this.getStyle(t,"paddingRight"))||0;return n+r+(parseFloat(this.getStyle(t,"borderRightWidth"))||0)+i+o}},function(t,e){t.exports=function(t,e){var n=this.getHeight(t,e),r=parseFloat(this.getStyle(t,"borderTopWidth"))||0,i=parseFloat(this.getStyle(t,"paddingTop"))||0,o=parseFloat(this.getStyle(t,"paddingBottom"))||0;return n+r+(parseFloat(this.getStyle(t,"borderBottomWidth"))||0)+i+o}},function(t,e){t.exports=function(t,e){var n=this.getStyle(t,"height",e);return"auto"===n&&(n=t.offsetHeight),parseFloat(n)}},function(t,e){t.exports=function(t,e){if(t&&t.getBoundingClientRect){var n=t.getBoundingClientRect(),r=document.documentElement.clientTop,i=document.documentElement.clientLeft;return{top:n.top-r,bottom:n.bottom-r,left:n.left-i,right:n.right-i}}return e||null}},function(t,e){t.exports=function(t,e,n){if(t){if(t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if(t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}},function(t,e,n){t.exports={addEventListener:n(591),createDom:n(447),getBoundingClientRect:n(590),getHeight:n(589),getOuterHeight:n(588),getOuterWidth:n(587),getRatio:n(586),getStyle:n(585),getWidth:n(584),modifyCSS:n(446),requestAnimationFrame:n(445)}},function(t,e,n){var r=n(30),i=n(369),o=n(592),a=n(583),s=n(570),u=n(567),c=n(563),h=n(553),l=n(552),f=n(548),d=n(542),g=n(537),p={DOMUtil:o,DomUtil:o,MatrixUtil:h,PathUtil:f,arrayUtil:a,domUtil:o,eventUtil:s,formatUtil:u,mathUtil:c,matrixUtil:h,objectUtil:l,stringUtil:d,pathUtil:f,typeUtil:g,augment:n(417),clone:n(380),debounce:n(530),deepMix:n(379),each:r,extend:n(416),filter:n(384),group:n(529),groupBy:n(414),groupToMap:n(415),indexOf:n(528),isEmpty:n(413),isEqual:n(378),isEqualWith:n(527),map:n(526),mix:i,pick:n(525),throttle:n(524),toArray:n(367),toString:n(357),uniqueId:n(412)};r([o,a,s,u,c,h,l,f,d,g],function(t){i(p,t)}),t.exports=p},function(t,e,n){var r=n(449),i=n(390),o=n(146),a=n(372),s=n(147),u={Graph:n(389),Tree:n(455),Util:n(22),Layouts:n(387),G:s,Plugins:{},Components:{},Global:o,Shape:r,registerNode:r.registerNode,registerEdge:r.registerEdge,registerGroup:r.registerGroup,registerGuide:r.registerGuide,registerBehaviour:i.registerBehaviour,version:a,track:function(t){o.track=t}};n(450),t.exports=u}])},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var o=n(17).Util,a=function(){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=this.getDefaultCfg();o.mix(!0,this,e,t),this.init()}return i(n,[{key:"getDefaultCfg",value:function(){return{}}}]),i(n,[{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),n}();t.exports=a},function(t,e,n){function r(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}var c=n(17),i=n(182),o=n(181),a={whitespace:{9:"Tab",13:"Enter",32:"Space"},fn:{112:"f1 ",113:"f2 ",114:"f3 ",115:"f4 ",116:"f5 ",117:"f6 ",118:"f7 ",119:"f8 ",120:"f9 ",121:"f10",122:"f11",123:"f12"},letter:{65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z"},number:{48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9"},navigation:{37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown"},symbol:{110:"decimal point",186:"semi-colon",187:"=",188:"comma",189:"-",190:"period ",191:"/",192:"grave accent",219:"open bracket ",220:"back slash ",221:"close bracket ",222:"single quote "},smallNumberKey:{96:"numpad 0 ",97:"numpad 1 ",98:"numpad 2 ",99:"numpad 3 ",100:"numpad 4 ",101:"numpad 5 ",102:"numpad 6 ",103:"numpad 7 ",104:"numpad 8 ",105:"numpad 9 "},modifierKey:{16:"Shift",17:"Ctrl ",18:"Alt",20:"caps lock"},escKey:{8:"Backspace",46:"Delete",27:"Escape"},homeKey:{91:"Windows Key / Left command",92:"right window key ",93:"Windows Menu"},computeKey:{106:"multiply ",107:"add",109:"subtract ",111:"divide "}},s=r({},c.Util,i,{getNodeSize:function(t){if(t){if(c.Util.isNumber(t))return[t,t];if(c.Util.isString(t)){if(-1!==t.indexOf("*"))return t.split("*");var e=Number(t);return[e,e]}return t}return[96,48]},getTypeAndChar:function(t){var e;for(var n in t=""+t,a)for(var r in a[e=n])if(r===t)return{type:e,character:a[n][r]};return{}},getKeyboradKey:function(t){return t.key||s.getTypeAndChar(t.keyCode).character},getIndex:function(t){return t.getParent().get("children").indexOf(t)},setId:function(t){t.id||(t.id=c.Util.guid())},pointLineDistance:function(t,e,n,r,i,o){var a=[n-t,r-e];if(c.Util.vec2.exactEquals(a,[0,0]))return NaN;var s=[-a[1],a[0]];c.Util.vec2.normalize(s,s);var u=[i-t,o-e];return Math.abs(c.Util.vec2.dot(u,s))},getRectByBox:function(t,e,n){return e.addShape("rect",{attrs:r({},n,{x:t.minX,y:t.minY,width:t.maxX-t.minX,height:t.maxY-t.minY})})},objectToValues:function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(t[e]);return n},getValue:function(t){return c.Util.isFunction(t)?t():t},getContrast:function(n,t){var r={};return c.Util.each(t,function(t,e){r[e]=n[e]}),r},arrowTo:function(t,e,n,r,i,o,a){var s=[o-r,a-i],u=c.Util.vec2.angleTo(s,[1,0],!0);return t.transform([["r",u],["t",e,n]]),t},setEndOfContenteditable:function(t){var e,n;document.createRange?((e=document.createRange()).selectNodeContents(t),e.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(e)):document.selection&&((e=document.body.createTextRange()).moveToElementText(t),e.collapse(!1),e.select())},matches:function(t,e){return(Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;0<=--n&&e.item(n)!==this;);return-1<n}).call(t,e)},delegateEvent:function(n,t,r,i){return s.addEventListener(n,t,function(t){for(var e=t.target||t.srcElement;e!==n;)s.matches(e,r)&&i.call(e,Array.prototype.slice.call(arguments)),e=e.parentNode})},Palettes:o});t.exports=s},function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=n(17),s=n(9),m=n(22),f=[],u=function(){function c(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var n={showHotArea:!1,defaultData:{roots:[{label:"",children:[{label:""},{label:""},{label:""}]}]},shortcut:{append:!0,appendChild:!0,collapseExpand:!0,selectAll:!0},labelEditable:!0,graph:{modes:{default:["clickNodeSelected","keydownMoveSelection","clickCanvasSelected","hoverMindExpandButton","keydownEditLabel","panBlank","wheelChangeViewport","panMindNode","clickCollapsedButton","clickExpandedButton","hoverButton","hoverNodeActived","dblclickItemEditLabel"],readOnly:["clickNodeSelected","wheelChangeViewport","keydownMoveSelection","hoverNodeActived","panCanvas","clickExpandedButton","hoverButton","clickCanvasSelected"]},layout:new a.Layouts.Mindmap({direction:"H",getSubTreeSep:function(t){return t.children&&0<t.children.length?t.hierarchy<=2?8:2:0},getHGap:function(t){return 1===t.hierarchy?8:2===t.hierarchy?24:18},getVGap:function(t){return 1===t.hierarchy?24:2===t.hierarchy?24:2},getSide:function(t){return t.data.side?t.data.side:"right"}}),mode:"default",defaultIntersectBox:"rect",nodeDefaultShape:"mind-base",edgeDefaultShape:"mind-edge",minZoom:.2,maxZoom:2},align:{item:!1},rootShape:"mind-root",firstSubShape:"mind-first-sub",secondSubShape:"mind-second-sub",subShape:"mind-base",nodeDefaultShape:"mind-base",graphConstructor:a.Tree,defaultSide:"right"},r={};return m.each(f,function(t){m.mix(r,t.CFG)}),m.mix(!0,n,r,t),(e=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,l(c).call(this,n))).isMind=!0,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(c,s),function(t,e){r(t.prototype,e)}(c,[{key:"_init",value:function(){var e=this;h(l(c.prototype),"_init",this).call(this),m.each(f,function(t){t.INIT&&e[t.INIT]()});var n=this.getGraph(),t=this.get("defaultData"),r=n.get("mode"),i=n.getRootGroup().addGroup();if(this.set("hotAreaGroup",i),n.edge().shape(function(t){if(n.find(t.target).getModel().isPlaceholder)return"mind-placeholder-edge"}),t&&this.read(t),"default"===r){if(t){var o=this.getRoot(),a=n.find(o.id);this.setSelected(a,!0)}}else if("readOnly"===r){var s=this.get("shortcut");s.append=!1,s.appendChild=!1,s.selectAll=!1,s.delete=!1}if(t){var u=this.getRoot();this.focus(u.id)}}},{key:"bindEvent",value:function(){var i=this;h(l(c.prototype),"bindEvent",this).call(this);var t=this.get("_graph");t.on("keydown",function(t){t.domEvent.preventDefault()}),t.on("beforechange",function(t){"add"===t.action?i._beforeAdd(t):"changeData"===t.action&&i._beforeChangeData(t)}),t.on("aftersource",function(){i._setHierarchy()}),t.on("afterchange",function(){i._setHotArea()}),t.on("afteritemdraw",function(t){var e=t.item,n=e.getModel();if(e.isEdge){var r=e.getGraphicGroup();m.toBack(r,r.getParent()),r.setSilent("capture",!1)}n.parent||(e.isRoot=!0,e.deleteable=!1,e.collapseExpand=!1,e.appendable=!1,e.dragable=!1)}),this.on("beforedelete",function(t){var e=t.items[0],n=i._getBrothers(e),r=i._getNth(e);n[r-1]?i.setSelected(n[r-1].id,!0):n[r+1]?i.setSelected(n[r+1].id,!0):i.setSelected(e.getParent(),!0)}),this.on("afteritemselected",function(t){i._tryAdjustViewport(t.item)})}},{key:"getRoot",value:function(){return this.getGraph().getSource().roots[0]}},{key:"_setHierarchy",value:function(t){var e=this.getGraph(),n=this.get("firstSubShape"),r=this.get("secondSubShape"),i=this.get("defaultSide");if(t){var o=e.find(t.parent);if(o){var a=o.getModel();t.hierarchy=a.hierarchy+1,"mind-placeholder"!==t.shape&&(2===t.hierarchy&&(t.shape=n,t.side||(t.side=i)),3===t.hierarchy&&(t.shape=r))}}else(t=this.getRoot()).hierarchy=1;m.traverseTree(t,function(t,e){t.hierarchy=e.hierarchy+1,t.side||(t.side=i),e.side&&(t.side=e.side),2===t.hierarchy?t.shape=n:3===t.hierarchy&&(t.shape=r)},function(t){return t.children})}},{key:"getFirstChildrenBySide",value:function(e){var n=[];return this.getRoot().children.forEach(function(t){t.side===e&&n.push(t)}),n}},{key:"_getNth",value:function(t){return this.getGraph().getNth(t)}},{key:"_getBrothers",value:function(t){return t.getParent().getModel().children}},{key:"_getMoveChildModel",value:function(t){if(t&&0<t.length){var e=t.length;return t[parseInt(e/2)]}}},{key:"_getVerticalMoveItem",value:function(t,e,n){for(var r,i=this.getGraph().getNodes(),o=t.getBBox(),a=[o.minX,o.maxX],s=[],u=0;u<a.length;u++)for(var c=a[u],h=0;h<i.length;h++){var l=i[h],f=l.getBBox();e(f,o,c)&&s.push({long:n(f,o),node:l})}return 0<s.length&&(s.sort(function(t,e){return t.long-e.long}),r=s[0].node),r}},{key:"_arrowTopItem",value:function(t){var e=this._getBrothers(t),n=this._getNth(t);return e[n-1]?e[n-1]:this._getVerticalMoveItem(t,function(t,e,n){return t.centerY<e.centerY&&n<=t.maxX&&n>=t.minX},function(t,e){return e.centerY-t.centerY})}},{key:"_arrowBottomItem",value:function(t){var e=this._getBrothers(t),n=this._getNth(t);return e[n+1]?e[n+1]:this._getVerticalMoveItem(t,function(t,e,n){return t.centerY>e.centerY&&n<=t.maxX&&n>=t.minX},function(t,e){return t.centerY-e.centerY})}},{key:"_arrowLeftItem",value:function(t){var e=m.getMindNodeSide(t);if(t.isRoot){var n=this.getFirstChildrenBySide("left");return this._getMoveChildModel(n)}if("left"!==e)return t.getParent();var r=t.getModel().children;return this._getMoveChildModel(r)}},{key:"_arrowRightItem",value:function(t){var e=m.getMindNodeSide(t);if(t.isRoot){var n=this.getFirstChildrenBySide("right");return this._getMoveChildModel(n)}if("right"!==e)return t.getParent();var r=t.getModel().children;return this._getMoveChildModel(r)}},{key:"_moveItemSelection",value:function(t){var e=this.getGraph(),n=this.getSelected()[0];if(n){var r,i=t.domEvent,o=m.getKeyboradKey(i);"ArrowUp"!==o||n.isRoot?"ArrowDown"!==o||n.isRoot?"ArrowLeft"===o?r=this._arrowLeftItem(n):"ArrowRight"===o&&(r=this._arrowRightItem(n)):r=this._arrowBottomItem(n):r=this._arrowTopItem(n),r&&(r=e.find(r.id)).isVisible()&&(this.clearSelected(),this.setSelected(r,!0))}}},{key:"showLabelEditor",value:function(t){var e=t.domEvent,n=this.getSelected()[0],r=m.getKeyboradKey(e);if(n&&1===r.length&&!e.metaKey&&!e.ctrlKey){var i=this.get("labelTextArea");n&&(this.beginEditLabel(n),i.innerHTML=r,m.setEndOfContenteditable(i))}}},{key:"_tryAdjustViewport",value:function(t){var e=this.get("_graph"),n=t.getBBox(),r={x:n.minX,y:n.minY},i={x:n.maxX,y:n.maxY},o=e.getDomPoint(r),a=e.getDomPoint(i),s=e.getWidth(),u=e.getHeight();o.x<0&&e.translate(16-o.x,0),o.y<0&&e.translate(0,16-o.y),a.x>s&&e.translate(s-a.x-16,0),a.y>u&&e.translate(0,u-a.y-16)}},{key:"_beforeChangeData",value:function(t){var e=t.data.roots[0],n=this.get("rootShape");e.shape=n,this._setHierarchy(e)}},{key:"_beforeAdd",value:function(t){var e=this.get("_graph"),n=t.model,r=e.find(n.parent);r.getModel().collapsed&&e.update(r,{collapsed:!1}),this._setHierarchy(n)}},{key:"_drawHotAreaShape",value:function(){var t=this.get("_graph"),e=this.get("hotAreaGroup"),n=this.get("hotAreas");e.clear(),n.forEach(function(t){e.addShape("rect",{attrs:{x:t.minX,y:t.minY,width:t.maxX-t.minX,height:t.maxY-t.minY,fill:t.color,fillOpacity:.4},capture:!1})}),t.draw()}},{key:"_setHotArea",value:function(){var f=[],d=this.get("_graph"),t=this.getRoot(),g="placeholder",e=this.get("showHotArea"),n=d.find(t.id).getBBox();f.push({minX:n.minX-90,minY:n.minY-60,maxX:(n.minX+n.maxX)/2,maxY:n.maxY+60,parent:t,current:t,id:t.id+"left"+g,nth:t.children.length,side:"left",color:"orange"}),f.push({minX:(n.minX+n.maxX)/2,minY:n.minY-60,maxX:n.maxX+90,maxY:n.maxY+60,parent:t,current:t,id:t.id+"right"+g,nth:t.children.length,side:"right",color:"pink"}),m.traverseTree(t,function(e,t,n){var r=d.find(e.id);if(!e.isPlaceholder&&r&&r.isVisible()){var i,o=function(t,e,n){var r=n.children,i=t;if(!n.parent)for(;r[i]&&r[i].side!==e.side;)i++;for(;r[i]&&r[i].isPlaceholder;)i++;if(r[i]&&r[i].side===e.side)return r[i]}(n+1,e,t),a=function(t,e,n){var r=n.children,i=t;if(!n.parent)for(;r[i]&&r[i].side!==e.side;)i--;for(;r[i]&&r[i].isPlaceholder;)i--;if(r[i]&&r[i].side===e.side)return r[i]}(n-1,e,t),s=d.find(e.id).getBBox(),u=t.children,c=2===e.hierarchy&&"right"===e.side,h=2===e.hierarchy&&"left"===e.side;if(a||f.push({minX:c?s.minX-90:s.minX,minY:function(){var t=a?s.minY:s.minY-16;return u[n-1]&&u[n-1].isPlaceholder&&u[n-1].side===e.side&&(t=d.find(u[n-1].id).getBBox().minY),t}(),maxX:h?s.maxX+90:s.maxX,maxY:(s.minY+s.maxY)/2,parent:t,id:(a?a.id:void 0)+e.id+t.id+g,side:e.side,color:"yellow",nth:n}),o){var l=d.find(o.id).getBBox();f.push({minX:"left"===e.side?Math.max(s.minX,l.minX):c?s.minX-90:s.minX,minY:(s.minY+s.maxY)/2,maxX:"right"===e.side?Math.min(s.maxX,l.maxX):h?s.maxX+90:s.maxX,maxY:(l.minY+l.maxY)/2,parent:t,id:e.id+(o?o.id:void 0)+t.id+g,side:e.side,color:"blue",nth:n+1})}else f.push({minX:c?s.minX-90:s.minX,minY:(s.minY+s.maxY)/2,maxX:h?s.maxX+90:s.maxX,maxY:function(){var t=s.maxY+16;return u[n+1]&&u[n+1].isPlaceholder&&u[n+1].side===e.side&&(t=d.find(u[n+1].id).getBBox().maxY),t}(),parent:t,id:e.id+void 0+t.id+g,color:"red",nth:n+1,addOrder:"push",side:e.side});(!e.children||0===e.children.length||1===e.children.length&&e.children[0].isPlaceholder)&&(i=e.x>t.x?{minX:s.maxX,minY:s.minY-0,maxX:s.maxX+100,maxY:s.maxY+0}:{minX:s.minX-100,minY:s.minY-0,maxX:s.minX,maxY:s.maxY+0},f.push(p({},i,{parent:e,id:NaN+e.id+g,nth:0,color:"green",side:e.side,addOrder:"push"})))}},function(t){return t.children}),this.set("hotAreas",f),e&&this._drawHotAreaShape()}},{key:"hideHotArea",value:function(){var t=this.get("_graph");this.get("hotAreaGroup").clear(),t.draw(),this.set("showHotArea",!1)}},{key:"showHotArea",value:function(){this._drawHotAreaShape(),this.set("showHotArea",!0)}},{key:"getHotArea",value:function(e){var n;return this.get("hotAreas").forEach(function(t){if(e.x>t.minX&&e.x<t.maxX&&e.y>t.minY&&e.y<t.maxY)return n=t,!1}),n}},{key:"saveExpandImage",value:function(t){var e,n,r,i=this,o=this.getGraph(),a=o.getBBox(),s=o.getFitViewPadding();return o.saveImage(p({width:a.width+s[1]+s[3],height:a.height+s[0]+s[2],beforeTransform:function(){var t=o.getNodes();(e=t.filter(function(t){return t.getModel().collapsed}).map(function(t){return t.getModel().id})).forEach(function(t){o.update(t,{collapsed:!1})}),o.layout(),n=i.getSelected().map(function(t){return t.id}),r=i.getSelected().map(function(t){return t.id}),i.clearSelected(),i.clearActived()},afterTransform:function(){e.forEach(function(t){o.update(t,{collapsed:!0})}),i.setSelected(n,!0),i.setActived(r,!0)}},t))}},{key:"save",value:function(){var t=this.get("_graph").save();return t.roots.forEach(function(t){m.traverseTree(t,function(t){delete t.x,delete t.y,delete t.width,delete t.height,delete t.parent,delete t.nth,delete t.hierarchy,delete t.index,delete t.shape},function(t){return t.children},!0)}),t}}]),c}();m.each(f,function(t){m.mix(u.prototype,t.AUGMENT)}),s.setRegister(u,"mind","page"),t.exports=u},,function(t,e,n){var r=function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({},n(14),{getMindNodeSide:function(t){var e=t.getModel();if(e.side)return e.side;var n=t.getParent();return n?n.getModel().side?n.getModel().side:r.getMindNodeSide(n):void 0}});t.exports=r},,function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var r=n(9),s=n(64),u=n(48),c=function(){function r(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var n={graph:{modes:{default:["panBlank","hoverGroupActived","keydownCmdWheelZoom","clickEdgeSelected","clickNodeSelected","clickCanvasSelected","clickGroupSelected","hoverNodeActived","hoverEdgeActived","hoverButton","clickCollapsedButton","clickExpandedButton","wheelChangeViewport","keydownShiftMultiSelected","dragNodeAddToGroup","dragOutFromGroup","panItem","hoverEdgeControlPoint","dragEdgeControlPoint"],add:["dragPanelItemAddNode"],readOnly:["panCanvas"],move:["panCanvas"],multiSelect:["dragMultiSelect"]},mode:"default",defaultIntersectBox:"rect",nodeDefaultShape:"flow-base",edgeDefaultShape:"flow-smooth",groupDefaultShape:"flow-base"},linkNode:!1};return u.mix(!0,n,{},t),(e=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,o(r).call(this,n))).isFlow=!0,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(r,s),r}();r.setRegister(c,"flow","diagram"),t.exports=c},,,function(t,e){t.exports={gridStyle:{stroke:"#A3B1BF",lineWidth:.5},cursor:{panningCanvas:"-webkit-grabbing",beforePanCanvas:"-webkit-grab"},wheelPanRatio:.3,alignLineStyle:{stroke:"#FA8C16",lineWidth:1},nodeDelegationStyle:{stroke:"#1890FF",fill:"#1890FF",fillOpacity:.08,lineDash:[4,4],radius:4,lineWidth:1},edgeDelegationStyle:{stroke:"#1890FF",lineDash:[4,4],lineWidth:1}}},,,,,,,,,function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var r=n(9),c=n(64),p=n(61),h=function(){function r(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var n={graph:{modes:{default:["panBlank","hoverGroupActived","keydownCmdWheelZoom","clickEdgeSelected","clickNodeSelected","clickCanvasSelected","clickGroupSelected","hoverNodeActived","hoverEdgeActived","hoverButton","clickCollapsedButton","clickExpandedButton","wheelChangeViewport","keydownShiftMultiSelected","dragNodeAddToGroup","dragOutFromGroup","panItem","hoverEdgeControlPoint","dragEdgeControlPoint"],add:["dragPanelItemAddNode","processAddEdge"],readOnly:["panCanvas"],move:["panCanvas"],multiSelect:["dragMultiSelect"]},mode:"default",defaultIntersectBox:"circle",nodeDefaultShape:"koni-base",edgeDefaultShape:"koni-base",groupDefaultShape:"koni-base",minZoom:.5,maxZoom:2},orbit:{satellite:["forkAndLink"]},anchorLink:!1,noEndEdge:!1};return p.mix(!0,n,{},t),(e=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,s(r).call(this,n))).isKoni=!0,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,c),function(t,e){o(t.prototype,e)}(r,[{key:"bindEvent",value:function(){a(s(r.prototype),"bindEvent",this).call(this);var g=this.getGraph();g.on("afterchange",function(t){var e=t.item,n=t.action,r=t.originModel,i=t.updateModel;if(e&&e.isEdge)if("add"===n||"remove"===n){var o=e.getSource(),a=e.getTarget();p.getParallelEdges(o,a,!0).forEach(function(t){t.update()})}else if("update"===n){var s=g.find(r.source),u=g.find(r.target),c=[];if(p.getParallelEdges(s,u,!0).forEach(function(t){t.update()}),p.isNil(i.target)&&!p.isNil(i.source)){var h=g.find(i.source);c=p.getParallelEdges(h,u,!0)}else if(!p.isNil(i.target)&&p.isNil(i.source)){var l=g.find(i.target);c=p.getParallelEdges(s,l,!0)}else if(!p.isNil(i.target)&&!p.isNil(i.source)){var f=g.find(i.source),d=g.find(i.target);c=p.getParallelEdges(f,d,!0)}c.forEach(function(t){t.update()})}"changeData"===n&&g.getEdges().forEach(function(t){t.update()}),g.draw()})}}]),r}();r.setRegister(h,"koni","diagram"),t.exports=h},function(t,e,n){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(17),h=n(9),l=n(11),i=n(144),f=n(143),d=n(141),g=n(137),p=[i,n(136),g,f,d,n(135)],m=function(){function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var n={shortcut:{copy:!0,paste:!0,selectAll:!0,addGroup:!0,unGroup:!0},graph:{minZoom:.2,maxZoom:2},graphConstructor:c.Graph,noEndEdge:!0},r={};return l.each(p,function(t){l.mix(r,t.CFG)}),l.mix(!0,n,r,t),(e=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,s(i).call(this,n))).isFlow=!0,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(i,h),function(t,e){r(t.prototype,e)}(i,[{key:"_init",value:function(){var e=this;a(s(i.prototype),"_init",this).call(this),l.each(p,function(t){t.INIT&&e[t.INIT]()})}},{key:"bindEvent",value:function(){var r=this;a(s(i.prototype),"bindEvent",this).call(this),this.on("beforeitemactived",function(t){var e=t.item,n=r.get("_graph").getShapeObj(e).getActivedOutterStyle(e);e.isNode&&r.addOutterShape(e,n)}),this.on("beforeitemunactived",function(t){var e=t.item;(e.isNode||e.isGroup)&&r.clearOutterShape(e)}),this.on("beforeitemselected",function(t){var e=t.item,n=r.get("_graph").getShapeObj(e).getSelectedOutterStyle(e);e.isNode?r.addOutterShape(e,n):e.isGroup&&r.addOutterShape(e,n)}),this.on("beforeitemunselected",function(t){var e=t.item;(e.isNode||e.isGroup)&&r.clearOutterShape(e)})}}]),i}();l.each(p,function(t){l.mix(m.prototype,t.AUGMENT)}),h.setRegister(m,"diagram","page"),t.exports=m},function(t,e,n){var r=n(49);n(179),n(178),t.exports=r},,,,,,,,,,function(t,e,n){t.exports=n(11)},function(t,e,n){function o(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}var u=n(19),a={};function r(t){return 0<t.getCurrentPage().getSelected().length}function i(t){var e=t.getCurrentPage();this.snapShot=e.save(),this.selectedItems=e.getSelected().map(function(t){return t.id}),this.method&&(u.isString(this.method)?e[this.method]():this.method(t))}function s(t){var e=t.getCurrentPage();e.read(this.snapShot),e.setSelected(this.selectedItems,!0)}function c(t){return t.getCurrentPage().getMode()!==this.toMode}function h(t){var e=t.getCurrentPage();this.fromMode=e.getMode(),e.changeMode(this.toMode)}function l(t){t.getCurrentPage().changeMode(this.fromMode)}function f(t){var r={},i=[];return t.forEach(function(t){var e=t.model,n=u.mix(!0,{},o({},e,{id:u.guid()}));r[e.id]=n.id,i.push(o({},t,{model:n}))}),i.forEach(function(t){var e=t.model;if(e.parent){var n=r[e.parent];n?e.parent=n:delete e.parent}}),i.sort(function(t,e){return t.index-e.index}),i}a.list=[],a.registerCommand=function(t,e,n){if(a[t])u.mix(a[t],e);else{var r=o({enable:function(){return!0},init:function(){},execute:i,back:s,shortcutCodes:void 0,executeTimes:1,name:t,queue:!0},e);n&&a[n]&&(r=u.mix({},a[n],e)),a[t]=r,a.list.push(r)}},a.execute=function(t,e,n){var r=u.mix(!0,{},a[t],n),i=e.get("_command");return r.enable(e)&&(r.init(),r.queue&&(i.queue.splice(i.current,i.queue.length-i.current,r),i.current+=1),e.emit("beforecommandexecute",{command:r}),r.execute(e),e.emit("aftercommandexecute",{command:r}),e.setCommandDOMenable()),r},a.enable=function(t,e){return a[t].enable(e)},a.registerCommand("common",{back:s}),a.registerCommand("copyAdjacent",{enable:function(){return this.copyNode&&this.copyNode.isNode&&this.x&&this.y},execute:function(t){var e=this.copyNode,n=t.getCurrentPage(),r=n.getGraph(),i=e.getModel(),o=u.clone(i);o.id=u.guid(),o.x=this.x,o.y=this.y;var a=r.add("node",o),s=r.add("edge",{source:i.id,target:o.id});1===this.executeTimes&&(this.addIds=[a.id,s.id],this.page=n)},back:function(){var e=this.page.getGraph();this.addIds.forEach(function(t){e.remove(t)})}}),a.registerCommand("add",{enable:function(){return this.type&&this.addModel},execute:function(t){var e=t.getCurrentPage(),n=e.getGraph().add(this.type,this.addModel);1===this.executeTimes&&(this.addId=n.id,this.page=e)},back:function(){this.page.getGraph().remove(this.addId)}}),a.registerCommand("update",{enable:function(){return this.itemId&&this.updateModel},execute:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=n.find(this.itemId);1===this.executeTimes&&(this.originModel=u.getContrast(r.getModel(),this.updateModel),this.page=e),n.update(r,this.updateModel)},back:function(){var t=this.page.getGraph(),e=t.find(this.itemId);t.update(e,this.originModel)}}),a.registerCommand("redo",{queue:!1,enable:function(t){var e=t.get("_command"),n=e.queue;return e.current<n.length},execute:function(t){var e=t.get("_command");e.queue[e.current].execute(t),e.current+=1},shortcutCodes:[["metaKey","shiftKey","z"],["ctrlKey","shiftKey","z"]]}),a.registerCommand("undo",{queue:!1,enable:function(t){return 0<t.get("_command").current},execute:function(t){var e=t.get("_command"),n=e.queue[e.current-1];n.executeTimes++,n.back(t),e.current-=1},shortcutCodes:[["metaKey","z"],["ctrlKey","z"]]}),a.registerCommand("copy",{queue:!1,enable:r,method:function(t){var e=t.getCurrentPage().getSelected(),r=t.get("_command"),n=e.map(function(t){return t.getGraphicGroup()}),i=u.getChildrenBBox(n);r.clipboard=[],e.forEach(function(t){u.traverseTree(t,function(t){var e=t.getModel(),n=t.getGraphicGroup();r.clipboard.push({type:t.type,index:u.getIndex(n),model:e})},function(t){return t.getChildren&&t.getChildren()},!0)}),t.set("copyCenterBox",o({},i))}}),a.registerCommand("pasteHere",{enable:function(t){return 0<t.get("_command").clipboard.length},method:function(t){var n=t.getCurrentPage(),e=t.get("_command"),r=this.pasteData?this.pasteData:f(e.clipboard),i=this.copyCenterBox?this.copyCenterBox:t.get("copyCenterBox"),o=this.contextmenuPoint?this.contextmenuPoint:t.get("contextmenuPoint");n.clearSelected(),this.copyCenterBox=u.clone(i),this.pasteData=u.clone(r),this.contextmenuPoint=u.clone(o),r.forEach(function(t){var e=t.model;e.x&&(e.x+=o.x-i.minX),e.y&&(e.y+=o.y-i.minY),n.add(t.type,e)})},back:s}),a.registerCommand("paste",{enable:function(t){return 0<t.get("_command").clipboard.length},method:function(t){var n=t.getCurrentPage(),e=t.get("_command"),r=this.pasteData?this.pasteData:f(e.clipboard);n.clearSelected(),this.pasteData=u.clone(r),r.forEach(function(t){var e=t.model;e.x&&(e.x+=10),e.y&&(e.y+=10),n.add(t.type,e)})},back:s}),a.registerCommand("addGroup",{init:function(){this.addGroupId=u.guid()},enable:function(t){return 1<t.getCurrentPage().getSelected().length},method:function(t){t.getCurrentPage().addGroup({id:this.addGroupId})},back:s}),a.registerCommand("unGroup",{enable:function(t){var e=t.getCurrentPage().getSelected();return 1===e.length&&e[0].isGroup},method:"unGroup",back:s}),a.registerCommand("delete",{getDeleteItems:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=this.itemIds?this.itemIds.map(function(t){return n.find(t)}):e.getSelected();return r=r.filter(function(t){return!1!==t.deleteable})},enable:function(t){return 0<this.getDeleteItems(t).length},method:function(t){var e=t.getCurrentPage(),n=this.getDeleteItems(t),r=e.getGraph();e.emit("beforedelete",{items:n}),u.each(n,function(t){r.remove(t)}),e.emit("afterdelete",{items:n}),this.itemIds=n.map(function(t){return t.getModel().id})},back:s,shortcutCodes:["Delete","Backspace"]}),a.registerCommand("selectAll",{method:function(t){var e=t.getCurrentPage();e.getGraph().getItems().forEach(function(t){e.setSelected(t,!0)})},back:s,shortcutCodes:[["metaKey","a"]]}),a.registerCommand("toBack",{enable:r,method:"toBack",back:s}),a.registerCommand("toFront",{enable:r,method:"toFront",back:s}),a.registerCommand("clear",{enable:function(t){return 0<t.getCurrentPage().getItems().length},method:"clear",back:s}),a.registerCommand("multiSelect",{enable:c,toMode:"multiSelect",execute:h,back:l}),a.registerCommand("move",{enable:c,toMode:"move",execute:h,back:l}),t.exports=a},,,,,,,,,,,,function(t,e,n){t.exports=n(11)},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=n(18),u=n(11),c=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,o(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,s),function(t,e){i(t.prototype,e)}(t,[{key:"getDefaultCfg",value:function(){return{name:"",render:function(){return"<button>satellite</button>"},bindEvent:function(){return[]}}}},{key:"_renderDOM",value:function(){var t=u.createDOM(this.render(this.diagram));return(this.dom=t).isSatellite=!0,t}},{key:"getDOM",value:function(){return this.dom||this._renderDOM()}},{key:"init",value:function(){var t=this.getDOM(),e=this.diagram.getGraph().getGraphContainer();t&&(t.css({position:"absolute",visibility:"hidden"}),e.appendChild(t),t&&this.bindEvent(t,this.diagram))}},{key:"enable",value:function(){return!0}},{key:"show",value:function(){this.getDOM().show()}},{key:"hide",value:function(){this.getDOM().hide()}},{key:"isVisible",value:function(){return"hidden"!==this.getDOM().style.visibility}},{key:"destroy",value:function(){var t=this.events;t&&t.forEach(function(t){t.remove()})}}]),t}();t.exports=c},function(t,e,n){var r=n(14);t.exports=function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({},r,{getParallelEdges:function(t,n){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return t.getEdges().filter(function(t){var e=t.getModel();return e.target===n.id||r&&e.source===n.id})},object2array:function(t){var e=[];return r.each(t,function(t){e.push(t)}),e}})},function(t,e,n){var r=n(37);n(134),n(130),t.exports=r},function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(183),c=n(19),h=function(){function r(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var n=(e=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,o(r).call(this))).getDefaultCfg();return e._cfg=c.mix(!0,{},e._cfg,n,t),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(r,u),a(r,[{key:"getDefaultCfg",value:function(){return{}}}]),a(r,[{key:"get",value:function(t){return this._cfg[t]}},{key:"set",value:function(t,e){this._cfg[t]=e}},{key:"destroy",value:function(){this._cfg={},this.destroyed=!0}}]),r}();t.exports=h},,,,,,,,,,,,,,,,,,function(G,Y,X){var F;!function(c){var u=/^\s+/,h=/\s+$/,r=0,a=c.round,l=c.min,f=c.max,t=c.random;function d(t,e){if(e=e||{},(t=t||"")instanceof d)return t;if(!(this instanceof d))return new d(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"==typeof t&&(t=function(t){t=t.replace(u,"").replace(h,"").toLowerCase();var e,n=!1;if(O[t])t=O[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=N.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=N.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=N.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=N.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=N.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=N.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=N.hex8.exec(t))?{r:I(e[1]),g:I(e[2]),b:I(e[3]),a:L(e[4]),format:n?"name":"hex8"}:(e=N.hex6.exec(t))?{r:I(e[1]),g:I(e[2]),b:I(e[3]),format:n?"name":"hex"}:(e=N.hex4.exec(t))?{r:I(e[1]+""+e[1]),g:I(e[2]+""+e[2]),b:I(e[3]+""+e[3]),a:L(e[4]+""+e[4]),format:n?"name":"hex8"}:!!(e=N.hex3.exec(t))&&{r:I(e[1]+""+e[1]),g:I(e[2]+""+e[2]),b:I(e[3]+""+e[3]),format:n?"name":"hex"}}(t)),"object"==typeof t&&(D(t.r)&&D(t.g)&&D(t.b)?(e=function(t,e,n){return{r:255*C(t,255),g:255*C(e,255),b:255*C(n,255)}}(t.r,t.g,t.b),a=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):D(t.h)&&D(t.s)&&D(t.v)?(r=j(t.s),i=j(t.v),e=function(t,e,n){t=6*C(t,360),e=C(e,100),n=C(n,100);var r=c.floor(t),i=t-r,o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),u=r%6;return{r:255*[n,a,o,o,s,n][u],g:255*[s,n,n,a,o,o][u],b:255*[o,o,s,n,n,a][u]}}(t.h,r,i),a=!0,s="hsv"):D(t.h)&&D(t.s)&&D(t.l)&&(r=j(t.s),o=j(t.l),e=function(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=C(t,360),e=C(e,100),n=C(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,u=2*n-s;r=a(u,s,t+1/3),i=a(u,s,t),o=a(u,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(t.h,r,o),a=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=A(n),{ok:a,format:t.format||s,r:l(255,f(e.r,0)),g:l(255,f(e.g,0)),b:l(255,f(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=a(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=n.ok,this._tc_id=r++}function i(t,e,n){t=C(t,255),e=C(e,255),n=C(n,255);var r,i,o=f(t,e,n),a=l(t,e,n),s=(o+a)/2;if(o==a)r=i=0;else{var u=o-a;switch(i=.5<s?u/(2-o-a):u/(o+a),o){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,l:s}}function o(t,e,n){t=C(t,255),e=C(e,255),n=C(n,255);var r,i,o=f(t,e,n),a=l(t,e,n),s=o,u=o-a;if(i=0===o?0:u/o,o==a)r=0;else{switch(o){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,v:s}}function e(t,e,n,r){var i=[B(a(t).toString(16)),B(a(e).toString(16)),B(a(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function s(t,e,n,r){return[B(T(r)),B(a(t).toString(16)),B(a(e).toString(16)),B(a(n).toString(16))].join("")}function n(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.s-=e/100,n.s=k(n.s),d(n)}function g(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.s+=e/100,n.s=k(n.s),d(n)}function p(t){return d(t).desaturate(100)}function m(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.l+=e/100,n.l=k(n.l),d(n)}function v(t,e){e=0===e?0:e||10;var n=d(t).toRgb();return n.r=f(0,l(255,n.r-a(-e/100*255))),n.g=f(0,l(255,n.g-a(-e/100*255))),n.b=f(0,l(255,n.b-a(-e/100*255))),d(n)}function y(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.l-=e/100,n.l=k(n.l),d(n)}function x(t,e){var n=d(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,d(n)}function b(t){var e=d(t).toHsl();return e.h=(e.h+180)%360,d(e)}function w(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+120)%360,s:e.s,l:e.l}),d({h:(n+240)%360,s:e.s,l:e.l})]}function _(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+90)%360,s:e.s,l:e.l}),d({h:(n+180)%360,s:e.s,l:e.l}),d({h:(n+270)%360,s:e.s,l:e.l})]}function S(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+72)%360,s:e.s,l:e.l}),d({h:(n+216)%360,s:e.s,l:e.l})]}function M(t,e,n){e=e||6,n=n||30;var r=d(t).toHsl(),i=360/n,o=[d(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(d(r));return o}function P(t,e){e=e||6;for(var n=d(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(d({h:r,s:i,v:o})),o=(o+s)%1;return a}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return t=r.r/255,e=r.g/255,n=r.b/255,.2126*(t<=.03928?t/12.92:c.pow((.055+t)/1.055,2.4))+.7152*(e<=.03928?e/12.92:c.pow((.055+e)/1.055,2.4))+.0722*(n<=.03928?n/12.92:c.pow((.055+n)/1.055,2.4))},setAlpha:function(t){return this._a=A(t),this._roundA=a(100*this._a)/100,this},toHsv:function(){var t=o(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=o(this._r,this._g,this._b),e=a(360*t.h),n=a(100*t.s),r=a(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=i(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=i(this._r,this._g,this._b),e=a(360*t.h),n=a(100*t.s),r=a(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return e(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){var o=[B(a(t).toString(16)),B(a(e).toString(16)),B(a(n).toString(16)),B(T(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(100*C(this._r,255))+"%",g:a(100*C(this._g,255))+"%",b:a(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+a(100*C(this._r,255))+"%, "+a(100*C(this._g,255))+"%, "+a(100*C(this._b,255))+"%)":"rgba("+a(100*C(this._r,255))+"%, "+a(100*C(this._g,255))+"%, "+a(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(E[e(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+s(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=d(t);n="#"+s(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&0<=this._a;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(n,arguments)},saturate:function(){return this._applyModification(g,arguments)},greyscale:function(){return this._applyModification(p,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(M,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(P,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(_,arguments)}},d.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:j(t[r]));t=n}return d(t,e)},d.equals=function(t,e){return!(!t||!e)&&d(t).toRgbString()==d(e).toRgbString()},d.random=function(){return d.fromRatio({r:t(),g:t(),b:t()})},d.mix=function(t,e,n){n=0===n?0:n||50;var r=d(t).toRgb(),i=d(e).toRgb(),o=n/100;return d({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},d.readability=function(t,e){var n=d(t),r=d(e);return(c.max(n.getLuminance(),r.getLuminance())+.05)/(c.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(t,e,n){var r,i,o=d.readability(t,e);switch(i=!1,(r=function(t){var e,n;return e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=4.5<=o;break;case"AAlarge":i=3<=o;break;case"AAAsmall":i=7<=o}return i},d.mostReadable=function(t,e,n){var r,i,o,a,s=null,u=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<e.length;c++)(r=d.readability(t,e[c]))>u&&(u=r,s=d(e[c]));return d.isReadable(t,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,d.mostReadable(t,["#fff","#000"],n))};var O=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},E=d.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(O);function A(t){return t=parseFloat(t),(isNaN(t)||t<0||1<t)&&(t=1),t}function C(t,e){!function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}(t)||(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=l(e,f(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),c.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function k(t){return l(1,f(0,t))}function I(t){return parseInt(t,16)}function B(t){return 1==t.length?"0"+t:""+t}function j(t){return t<=1&&(t=100*t+"%"),t}function T(t){return c.round(255*parseFloat(t)).toString(16)}function L(t){return I(t)/255}var N=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function D(t){return!!N.CSS_UNIT.exec(t)}void 0!==G&&G.exports?G.exports=d:void 0===(F=function(){return d}.call(Y,X,Y,G))||(G.exports=F)}(Math)},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=n(19),u=n(18),c=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,o(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,u),function(t,e){i(t.prototype,e)}(t,[{key:"getDefaultCfg",value:function(){return{type:"detailpannel",container:null}}},{key:"init",value:function(){this._initContainer()}},{key:"_initContainer",value:function(){var t=this.container;if(!t)throw new Error("please set the container for the detailpannel !");s.isString(t)&&(t=document.getElementById(t)),this.containerDom=t,this.switch("canvas-selected")}},{key:"switch",value:function(e){var t=this.containerDom.getElementsByClassName("pannel");s.each(t,function(t){t.dataset.status===e?t.style.display="block":t.style.display="none"})}},{key:"bindEvent",value:function(){var n=this.editor,t=this.getItems;s.each(t,function(e){s.addEventListener(e,"mousedown",function(){var t=e.dataset;n.getCurrentPage().beginAdd(t.type,{shape:t.shape})})}),s.addEventListener(window,"mouseup",function(){n.getCurrentPage().cancelAdd()})}}]),t}();t.exports=c},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=n(19),u=n(18),c=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,o(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,u),function(t,e){i(t.prototype,e)}(t,[{key:"getDefaultCfg",value:function(){return{type:"itempannel",container:null,getItemModel:function(t){return s.clone(t.dataset)},dataFormatters:{size:s.getNodeSize,labelOffsetX:Number,labelOffsetY:Number}}}},{key:"init",value:function(){this._initContainer()}},{key:"_initContainer",value:function(){var t=this.container;if(!t)throw new Error("please set the container for the itempannel !");s.isString(t)&&(t=document.getElementById(t)),this.containerDom=t}},{key:"bindEvent",value:function(){var e,n=this.editor,r=this;function t(){var t=n.getCurrentPage();e&&(t.cancelAdd(),e=void 0)}s.delegateEvent(this.containerDom,"mousedown",".getItem",function(){var t=r.getItemModel?r.getItemModel:r.getItemData;e=t(this),n.getCurrentPage().beginAdd(e.type,e)}),s.addEventListener(window,"mouseup",function(){t()}),s.addEventListener(window,"mouseleave",function(){t()})}}]),t}();t.exports=c},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=n(19),u=n(18),c=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,o(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,u),function(t,e){i(t.prototype,e)}(t,[{key:"getDefaultCfg",value:function(){return{type:"contextmenu",container:null}}},{key:"init",value:function(){this._initContainer()}},{key:"_initContainer",value:function(){var t=this.container;if(!t)throw new Error("please set the container for the tontextmenu !");s.isString(t)&&(t=document.getElementById(t));var e=t.getElementsByClassName("command");t.style.position="absolute",t.style["z-index"]=2,t.style.top="0px",t.style.left="0px",this.commands=e,this.containerDom=t}},{key:"bindEvent",value:function(){var e=this,t=this.commands;s.each(t,function(t){s.addEventListener(t,"click",function(){-1===t.className.indexOf("disable")&&e.hide()})})}},{key:"switch",value:function(e){var t=this.containerDom.getElementsByClassName("menu");s.each(t,function(t){t.dataset.status===e?t.style.display="block":t.style.display="none"})}},{key:"getCommandDoms",value:function(){return this.commands}},{key:"show",value:function(){var t=this.containerDom;this.editor.getCurrentPage().setSignal("preventWheelPan",!0),t.style.display="block"}},{key:"hide",value:function(){var t=this.containerDom;this.editor.getCurrentPage().setSignal("preventWheelPan",!1),t.style.display="none"}},{key:"move",value:function(t,e){var n=this.containerDom,r=s.getBoundingClientRect(n),i=parseFloat(s.getStyle(n,"top")),o=parseFloat(s.getStyle(n,"left"));n.style.left=o+(t-r.left)+"px",n.style.top=i+(e-r.top)+"px"}}]),t}();t.exports=c},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=n(19),u=n(18),c=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,o(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,u),function(t,e){i(t.prototype,e)}(t,[{key:"getDefaultCfg",value:function(){return{type:"toolbar",container:null}}},{key:"init",value:function(){this._initContainer()}},{key:"_initContainer",value:function(){var t=this.container;if(!t)throw new Error("please set the container for the toolbar !");s.isString(t)&&(t=document.getElementById(t));var e=t.getElementsByClassName("command");this.commands=e}},{key:"getCommandDoms",value:function(){return this.commands}}]),t}();t.exports=c},function(t,e,n){window,t.exports=function(n){return function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}return i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=162)}({161:function(t,e,n){function h(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}var r=n(3),m=r.Util,l=r.G.Canvas,i=function(){function t(t){m.mix(this,h({type:"minimap",container:null,isMinimap:!0,backgroundCSS:{height:"100%",position:"absolute",margin:"auto",left:0,right:0,"z-index":0},minimapContainerCSS:{background:"#fff",position:"relative",overflow:"hidden"},viewportCSS:{height:"100%",position:"absolute",margin:"auto",left:0,right:0,"z-index":1},controlLayerCSS:{width:"100%",height:"100%",cursor:"move",position:"absolute","z-index":2},viewportWindowStyle:{stroke:"#91D5FF"},viewportBackStyle:{fill:"#EBEEF2",fillOpacity:.65},getGraph:function(){}},t)),this._initContainer(),this._initMiniMap(),this._bindEvent(),this._assignDebounceRender()}var e=t.prototype;return e._assignDebounceRender=function(){var t=this;this.debounceRender=m.debounce(function(){t.renderBackground(),t.renderViewPort()},32)},e.bindGraph=function(t){var e=this;t.on("afterchange",function(){e.debounceRender()}),t.on("afterlayout",function(){e.debounceRender()}),t.on("afterviewportchange",function(){e.renderViewPort()}),t.on("afterfilter",function(){e.debounceRender()})},e.renderBackground=function(e){e||(e=this.getGraph());var t=this.miniMapCanvas,n=this.width,r=this.height,s=[];e.saveImage({graph:e,width:n,height:r,canvas:t,beforeTransform:function(t){var a=t[0];e.getNodes().forEach(function(t){var e=t.getBBox(),n=t.getModel(),r=e.width;if(r*a<2){var i=t.getGraphicGroup(),o=m.clone(i.getMatrix());i.transform([["t",-n.x,-n.y],["s",2/(r*a),2/(r*a)],["t",n.x,n.y]]),s.push({item:t,originMatrix:o})}})},afterTransform:function(){s.forEach(function(t){var e=t.item,n=t.originMatrix;e.getGraphicGroup().setMatrix(n)})}}),this.miniMapMatrix=t.matrix},e._bindEvent=function(){var i,o,a,s,u,e=this,t=this.controlLayer,c=!1;function n(){c=!1,u=a=i=s=o=void 0}t.on("mousedown",function(t){e.miniMapMatrix&&(u=e.getGraph(),c=!0,i=m.clone(u.getMatrix()),o=e.miniMapMatrix[0],a=i[0],s={clientX:t.clientX,clientY:t.clientY})}),t.on("mouseup",function(){n()}),t.on("mouseleave",function(){n()}),t.on("mousemove",function(t){if(c&&u){var e=s.clientX-t.clientX,n=s.clientY-t.clientY,r=m.clone(i);m.mat3.translate(r,r,[a*e/o,a*n/o]),u.updateMatrix(r)}})},e._initMiniMap=function(){var t=this.background,e=this.viewPort,n=this.width,r=this.height,i=this.viewportWindowStyle,o=this.viewportBackStyle,a=new l({containerDOM:t,width:n,height:r}),s=new l({containerDOM:e,width:n,height:r}),u=s.addShape("rect",{attrs:h({x:0,y:0,width:n,height:r},i)}),c=s.addShape("path",{attrs:h({path:"M0,0 L1,1"},o)});t.css({width:n+"px",height:r+"px"}),e.css({position:"absolute"}),this.miniMapCanvas=a,this.viewportCanvas=s,this.viewportWindow=u,this.viewportBack=c},e._initContainer=function(){var t=this.container,e=this.width,n=this.height;t=m.initDOMContainer(t,"minimap"),e||(e=m.getWidth(t),this.width=e),n||(n=m.getHeight(t),this.height=n);var r=this.minimapContainerCSS;r.width=e+"px",r.height=n+"px";var i=this.backgroundCSS,o=this.viewportCSS,a=this.controlLayerCSS,s=m.createDOM('<div class="g6-editor-minimap-container"></div>',r),u=m.createDOM('<div class="g6-editor-minimap-background"></div>',i),c=m.createDOM('<div class="g6-editor-minimap-viewport">',o),h=m.createDOM('<div class="g6-editor-minimap-control-layer">',a);t.appendChild(s),s.appendChild(h),s.appendChild(c),s.appendChild(u),this.minimapContainer=s,this.background=u,this.viewPort=c,this.controlLayer=h},e.renderViewPort=function(t){if(t||(t=this.getGraph()),0!==t.getItems().length){var e=this.viewportWindow,n=this.viewportCanvas,r=this.viewportBack,i=this.miniMapMatrix,o=t.getWidth(),a=t.getHeight(),s=this.width,u=this.height,c=t.getMatrix();if(i){var h=m.invertMatrix({x:0,y:0},c),l=m.invertMatrix({x:o,y:a},c),f=m.applyMatrix(h,i),d=m.applyMatrix(l,i),g=d.x-f.x,p=d.y-f.y;r.attr({path:[["M",0,0],["L",s,0],["L",s,u],["L",0,u],["L",0,0],["M",f.x,f.y],["L",f.x,d.y],["L",d.x,d.y],["L",d.x,f.y],["L",f.x,f.y]]}),e.attr({x:f.x,y:f.y,width:g,height:p}),n.draw()}}},e.destroy=function(){this.minimapContainer.destroy()},t}();t.exports=i},162:function(t,e,n){var r=n(3),i=n(161),o=function(){function t(t){this.options=t}var e=t.prototype;return e.init=function(){var t=this.graph,e=new i(function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({getGraph:function(){return t}},this.options));e.bindGraph(t),this.minimap=e},e.destroy=function(){this.minimap.destroy()},t}();r.Plugins["tool.minimap"]=o,r.Components.Minimap=i,t.exports=o},3:function(t,e){t.exports=n}})}(n(17))},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=n(17);n(88);var u=s.Components.Minimap,c=function(){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,o(e).call(this,function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({type:"minimap"},t)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,u),function(t,e){i(t.prototype,e)}(e,[{key:"bindPage",value:function(t){var e=t.getGraph();this.bindGraph(e),this.debounceRender()}}]),e}();t.exports=c},function(t,e,n){var r=n(38),u=n(22);function h(t,e,n){var r=t.getGraph(),i=e.getModel(),o=t.getFirstChildrenBySide("left"),a=o[0]&&r.find(o[0].id);return r.add("node",{id:n,parent:e.id,label:"",side:2<i.children.length?"left":"right",nth:a?r.getNth(a):void 0})}r.registerCommand("append",{enable:function(t){var e=t.getCurrentPage(),n=e.getSelected();return e.isMind&&1===n.length},getItem:function(t){var e=t.getCurrentPage(),n=e.getGraph();return this.selectedItemId?n.find(this.selectedItemId):e.getSelected()[0]},execute:function(t){var e,n=t.getCurrentPage(),r=n.getGraph(),i=n.getRoot(),o=this.getItem(t),a=o.getModel(),s=a.hierarchy,u=o.getParent();if(o.isRoot)e=h(n,o,this.addItemId);else{var c=r.getNth(o);e=r.add("node",{id:this.addItemId,parent:u.id,side:2===s&&3===i.children.length?"left":a.side,label:"",nth:"left"===a.side&&2===s?c:c+1})}n.clearSelected(),n.clearActived(),n.setSelected(e,!0),1===this.executeTimes&&(this.selectedItemId=o.id,this.addItemId=e.id,n.beginEditLabel(e))},back:function(t){var e=t.getCurrentPage();e.getGraph().remove(this.addItemId),e.clearSelected(),e.clearActived(),e.setSelected(this.selectedItemId,!0)},shortcutCodes:["Enter"]}),r.registerCommand("appendChild",{enable:function(t){var e=t.getCurrentPage(),n=e.getSelected();return e.isMind&&0<n.length},getItem:function(t){var e=t.getCurrentPage(),n=e.getGraph();return this.selectedItemId?n.find(this.selectedItemId):e.getSelected()[0]},execute:function(t){var e,n=t.getCurrentPage(),r=n.getGraph(),i=this.getItem(t);e=i.isRoot?h(n,i,this.addItemId):r.add("node",{id:this.addItemId,parent:i.id,label:""}),n.clearSelected(),n.clearActived(),n.setSelected(e,!0),1===this.executeTimes&&(this.selectedItemId=i.id,this.addItemId=e.id,n.beginEditLabel(e))},back:function(t){var e=t.getCurrentPage();e.getGraph().remove(this.addItemId),e.clearSelected(),e.clearActived(),e.setSelected(this.selectedItemId,!0)},shortcutCodes:["Tab"]}),r.registerCommand("moveMindNode",{enable:function(t){var e=t.getCurrentPage(),n=e.get("panItems");return e.isMind&&n&&0<n.length},execute:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=this.newParentId,i=this.newNth,o=this.newSide,a=u.clone(this.model);delete a.shape,delete a.side,n.remove(a.id),u.mix(a,{parent:r,nth:i,side:o});var s=n.add("node",a);e.clearSelected(),e.setSelected(s,!0)},back:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=this.originParentId,i=this.originNth,o=this.originSide,a=u.clone(this.model);delete a.shape,delete a.side,n.remove(a.id),u.mix(a,{parent:r,nth:i,side:o});var s=n.add("node",a);e.clearSelected(),e.setSelected(s,!0)}})},function(t,e,n){n(20).registerEdge("mind-placeholder-edge",{getOriginShapeObject:function(t){return t.getGraph().getShapeObj("edge",{shape:"mind-edge"})},getPath:function(t){return this.getOriginShapeObject(t).getPath(t)},getStyle:function(t){return function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({},this.getOriginShapeObject(t).getStyle(t),{stroke:"#91D5FF"})}})},function(t,e,n){n(20).registerEdge("mind-edge",{getEdetal:function(t){return t.children&&0<t.children.length&&!t.collapsed?2===t.hierarchy?24:18:0},getPath:function(t){var e=t.getPoints(),n=t.getSource(),r=t.getTarget(),i=n.getBBox(),o=r.getBBox(),a=r.getModel(),s=14,u=4;if(2===a.hierarchy&&(s=66,u=30),e[0].y===e[1].y){var c=3===a.hierarchy?24:18,h=this.getEdetal(a);return i.centerX<o.centerX?[["M",e[0].x+c,e[0].y],["L",o.maxX+h,o.maxY]]:[["M",e[0].x+2,e[0].y],["L",o.minX-h,o.maxY]]}if(3<=a.hierarchy){var l=3===a.hierarchy?24:18,f=this.getEdetal(a);if(i.centerX<o.centerX){var d=e[0].x+l;return[["M",e[0].x,e[0].y],["M",d,e[0].y],["C",d+u,e[0].y,o.minX-s,o.maxY,o.minX,o.maxY],["L",o.maxX+f,o.maxY]]}var g=e[0].x-l;return[["M",e[0].x,e[0].y],["M",g,e[0].y],["C",g-u,e[0].y,o.maxX+s,o.maxY,o.maxX,o.maxY],["L",o.minX-f,o.maxY]]}var p=this.getEdetal(a);return i.centerX<o.centerX?[["M",e[0].x,e[0].y],["C",e[0].x+u,e[0].y,o.minX-s,o.maxY,o.minX,o.maxY],["L",o.maxX+p,o.maxY]]:[["M",e[0].x,e[0].y],["C",e[0].x-u,e[0].y,o.maxX+s,o.maxY,o.maxX,o.maxY],["L",o.minX-p,o.maxY]]},getStyle:function(t){var e=t.getTarget(),n=1;if(e){var r=e.getModel();n=r.hierarchy<=3?3:r.hierarchy<=5?2:1}return{stroke:"#959EA6",lineWidth:n}}})},function(t,e,n){var r=n(20),o=n(22);r.registerNode("mind-placeholder",{afterDraw:function(t){t.getKeyShape().isPlaceholder=!0},getPath:function(t){var e,n=t.getModel().parentModel,r=this.getStyle(t),i=0;return n.hierarchy<=2?e=28:(e=20,i=4),o.getRectPath(-27.5,-e/2+i,55,e,r.radius)},getStyle:function(){return{fill:"#91D5FF",radius:4,lineWidth:3}},drawExpandedButton:function(){},drawCollapsedButton:function(){},anchor:function(){return[[0,1],[1,1]]}})},function(t,e,n){var r=n(20),i=n(22);r.registerNode("mind-root",{adjustLabelPosition:function(t,e){var n=e.getBBox();e.attr({x:-n.width/2,y:-n.height/2-1})},getPath:function(t){var e=this.getSize(t),n=this.getStyle(t);return i.getRectPath(-e[0]/2,-e[1]/2,e[0],e[1],n.radius)},getButtonPositon:function(t,e,n){return"right"===n?{x:t.maxX+2,y:(t.maxY+t.minY)/2-(e.maxY-e.minY)/2}:{x:t.minX-(e.maxX-e.minX)-2,y:(t.maxY+t.minY)/2-(e.maxY-e.minY)/2}},getPadding:function(){return i.toAllPadding([12,24])},getStyle:function(){return{fill:"#587EF7",stroke:"#587EF7",fillOpacity:1,radius:4}},getLabelStyle:function(){return{fontSize:20,fill:"white",lineHeight:28}},drawExpandedButton:function(){},drawCollapsedButton:function(){},panAble:!1,anchor:[[.45,.5],[.55,.5]]},"mind-first-sub")},function(t,e,n){n(20).registerNode("mind-second-sub",{dy:0,getPadding:function(){return[8,4,8,4]},getLabelStyle:function(){return{fill:"rgba(38,38,38,0.85)",fontSize:12,lineHeight:20}}})},function(t,e,n){n(20).registerNode("mind-first-sub",{dy:0,getPadding:function(){return[6,12,8,12]},getLabelStyle:function(){return{fill:"rgba(38,38,38,0.85)",fontWeight:500,fontSize:14,lineHeight:20}}})},function(t,e,n){function u(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}var r=n(20),c=n(22),a={fill:"#000",textAlign:"left",textBaseline:"top"},h={stroke:"#959EA6",strokeOpacity:0,fill:"#959EA6",cursor:"pointer"},s={stroke:"#434B54",fill:"#fff",cursor:"pointer"};r.registerNode("mind-base",{dy:4,afterDraw:function(t){var e=t.getModel();e.children&&0<e.children.length&&e.collapsed&&this.drawExpandedButton(t)},debugDrawLayoutPoint:function(t){var e=t.getModel();t.getGraphicGroup().addShape("circle",{attrs:{x:e.x,y:e.y,r:5,fill:"red"}})},drawExpandedButton:function(t){var e=t.getKeyShape().getBBox(),n=t.getGraphicGroup().addGroup(),r=n.addShape("path",{attrs:u({path:c.getRectPath(0,0,16,7,3)},h)}),i=r.getBBox(),o=c.getMindNodeSide(t),a=this.getButtonPositon(e,i,o),s={fill:"white",r:1};n.addShape("circle",{attrs:u({},s,{x:4,y:3.5}),capture:!1}),n.addShape("circle",{attrs:u({},s,{x:8,y:3.5}),capture:!1}),n.addShape("circle",{attrs:u({},s,{x:12,y:3.5}),capture:!1}),r.attr("lineAppendWidth",20),n.translate(a.x,a.y),r.isExpandedButton=!0,r.isButton=!0},drawCollapsedButton:function(t){var e=t.getKeyShape().getBBox(),n=t.getGraphicGroup().addShape("path",{attrs:u({path:c.getCollapsedButtonPath()},s)}),r=n.getBBox(),i=c.getMindNodeSide(t),o=this.getButtonPositon(e,r,i);n.translate(o.x,o.y),n.isCollapsedButton=!0,n.isButton=!0},getButtonPositon:function(t,e,n){return"right"===n?{x:t.maxX+2,y:t.maxY-(e.maxY-e.minY)/2}:{x:t.minX-(e.maxX-e.minX)-2,y:t.maxY-(e.maxY-e.minY)/2}},getLabel:function(t){return t.getModel().label},getPadding:function(){return[4,8,4,8]},getSize:function(t){var e=t.getModel(),n=t.getGraphicGroup(),r=e.size;if(e.size){if(c.isArray(r))return r;if(c.isNumber(r))return[r,r]}var i=n.findByClass("label")[0],o=this.getPadding(t),a=i.getBBox();return[a.width+o[1]+o[3],a.height+o[0]+o[2]]},getPath:function(t){var e=this.getSize(t),n=this.getStyle(t);return c.getRectPath(-e[0]/2,-e[1]/2+this.dy,e[0],e[1],n.radius)},drawLabel:function(t){var e=t.getGraphicGroup(),n=this.getLabel(t),r=this.getLabelStyle(t);n||(n=" ");var i=c.mix(!0,{},a,r,{x:0,y:0});c.isObject(n)?c.mix(i,n):i.text=n;var o=e.addShape("text",{class:"label",attrs:i});return this.adjustLabelText(o),this.adjustLabelPosition(t,o),o},adjustLabelText:function(t){var e=t.attr("text"),n=t.getBBox();if(400<n.maxX-n.minX){var r=t.attr("font");e=c.getLabelTextByTextLineWidth(e,r),t.attr("text",e)}},adjustLabelPosition:function(t,e){var n=this.getSize(t),r=this.getPadding(),i=n[0],o=e.getBBox();e.attr({x:-i/2+r[3],y:-o.height/2+this.dy})},getLabelStyle:function(){return{fill:"rgba(38,38,38,0.85)",lineHeight:18,fontSize:12}},getStyle:function(){return{fill:"#ccc",fillOpacity:0,radius:4,lineWidth:2}},getActivedStyle:function(){return{stroke:"#44C0FF",lineWidth:2}},getSelectedStyle:function(){return{stroke:"#1AA7EE",lineWidth:2}},anchor:[[0,1],[1,1]]})},function(t,e,n){n(97),n(96),n(95),n(94),n(93),n(92),n(91)},function(t,e,n){n(9).registerBehaviour("keydownEditLabel",function(e){e.getGraph().behaviourOn("keydown",function(t){e.showLabelEditor(t)})})},function(t,e,n){n(9).registerBehaviour("keydownMoveSelection",function(e){e.getGraph().on("keydown",function(t){e._moveItemSelection(t)})})},function(t,e,n){n(9).registerBehaviour("hoverMindExpandButton",function(t){var n=t.getGraph();n.behaviourOn("mouseenter",function(t){var e=t.shape;e&&e.isExpandedButton&&(e.attr("fillOpacity",.8),n.draw())}),n.behaviourOn("mouseleave",function(t){var e=t.shape;e&&e.isExpandedButton&&(e.attr("fillOpacity",1),n.draw())})})},function(t,e,n){var r=n(9),u=n(22);r.registerBehaviour("panMindNode",function(o){var n,r,a,s=o.getGraph();function e(){n.nth=r;var t=s.add("node",n);o.setSelected(t,!0),a&&s.remove(a.id)}function i(){s.emit("panitemend"),r=a=n=void 0}s.behaviourOn("beforeshowdelegation",function(){o.clearSelected(),o.clearActived()}),s.behaviourOn("node:dragstart",function(t){if(2!==t.button){var e=t.item;!(n=e.getModel()).parent||t.shape.isCollapsedButton||t.shape.isExpandedButton?i():(r=s.getNth(e),s.remove(e))}}),s.behaviourOn("itempanning",function(t){if(!t.shape||!t.shape.isPlaceholder){var e=o.getHotArea(t),n=o.getRoot();if(a&&(e?a.id!==e.id&&s.remove(s.find(a.id)):s.remove(s.find(a.id))),a=e){var r=e.parent;if(!s.find(e.id)){var i={id:e.id,parent:r.id,isPlaceholder:!0,parentModel:r,baseline:a.parent.id===n.id?"center":void 0,shape:"mind-placeholder",nth:e.nth};e.side&&(i.side=e.side),s.add("node",i)}}}}),s.behaviourOn("drop",function(){if(n)if(a){var t=u.clone(n);s.remove(a.id),o.executeCommand("moveMindNode",{model:t,newParentId:a.parent.id,newNth:a.nth,newSide:a.side,originParentId:n.parent,originNth:r,originSide:n.side})}else e();i()}),s.behaviourOn("canvas:mouseleave",function(){n&&(e(),i())})},["startPanItem","processPanItem","endPanItem"])},function(t,e,n){n(102),n(101),n(100),n(99)},function(t,e,n){var r=n(20);r.Util=n(22),n(103),n(98),n(90),t.exports=r},function(t,e,n){n(36).registerGroup("koni-base",{})},function(t,e,n){var r=n(36),u=n(61),g=u.vec2;r.registerEdge("koni-base",{getDefaultLabelRectPadding:function(){return u.toAllPadding([0,2])},getPathByPoints:function(t){var e=t.points,n=t.source,r=t.target,i=t.item;if(n&&r){var o=u.getParallelEdges(r,n),a=u.getParallelEdges(n,r),s=a.indexOf(i);return n===r?(s=(a=a.filter(function(t){var e=t.getModel();return e.source===n.id&&e.target===r.id})).indexOf(i),function(t,e){var n=t.getBBox(),r=[n.centerX,n.centerY],i=n.width/2,o=50*(e+1)+50,a=[r[0]-i/2,r[1]-Math.sqrt(3)/2*i],s=[a[0]-r[0],a[1]-r[1]],u=g.scale([],s,(i+o)/i),c=[r[0]+u[0],r[1]+u[1]],h=[r[0]+i/2,r[1]-Math.sqrt(3)/2*i],l=[h[0]-r[0],h[1]-r[1]],f=g.scale([],l,(i+o)/i),d=[r[0]+f[0],r[1]+f[1]];return[["M",a[0],a[1]],["C",c[0],c[1],d[0],d[1],h[0],h[1]]]}(n,s)):(0===o.length&&s--,function(t,e,n){var r=t.getBBox(),i=e.getBBox(),o=r.centerX,a=r.centerY,s=20*(n+1),u=[.5*(i.centerX+o)-o,.5*(i.centerY+a)-a],c=[-u[1],u[0]],h=g.length(c);g.scale(c,c,s/h);var l={x:u[0]+c[0]+o,y:u[1]+c[1]+a},f=t.getLinkPoints(l)[0],d=e.getLinkPoints(l)[0];return[["M",f.x,f.y],["Q",l.x,l.y,d.x,d.y]]}(n,r,s))}return u.pointsToPolygon(e)}})},function(t,e,n){n(36).registerNode("koni-base",{defaultFillPalette:5,defaultStrokePalette:5,activedFillPalette:4,activedStrokePalette:6,selectedFillPalette:5,selectedStrokePalette:6,anchor:null},"circle")},function(t,e,n){n(107),n(106),n(105)},function(t,e,n){var r=n(36);n(108),t.exports=r},function(t,e,n){n(24).registerGroup("flow-base",{})},function(t,e,n){function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var o=n(48),r=n(24);function v(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}}function y(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height}function b(t){var e=t.x,n=t.y;return{centerX:e,centerY:n,minX:e,minY:n,maxX:e,maxY:n,height:0,width:0}}function w(t,e){return 0===t.width&&0===t.height?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}}function _(t,e){return function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height}(e,t)?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}}function M(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:i},{x:e,y:i}]}function P(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY}function u(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=r.x-n.x,s=r.y-n.y,u=(-o*(t.x-n.x)+i*(t.y-n.y))/(-a*o+i*s),c=(a*(t.y-n.y)-s*(t.x-n.x))/(-a*o+i*s);return 0<=u&&u<=1&&0<=c&&c<=1}function O(t,e,n){if(n.width===n.height===0)return!1;var r=x(M(n),4),i=r[0],o=r[1],a=r[2],s=r[3];return u(t,e,i,o)||u(t,e,i,s)||u(t,e,o,a)||u(t,e,a,s)}function E(t){return t=C(t)}function A(t,e){return[t,{x:t.x,y:e.y},e]}function C(t){var e=[],n={};return t.forEach(function(t){var e=t.id="".concat(t.x,"-").concat(t.y);n[e]=t}),o.each(n,function(t){e.push(t)}),e}function k(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function I(t,e,n,r,i){return k(t,e)+k(t,n)+function(e,t){var n=0;return t.forEach(function(t){t&&(e.x===t.x&&(n+=-2),e.y===t.y&&(n+=-2))}),n}(t,[e,n,r,i])}function a(t,e,n,r,i){var o=n&&n.bbox?n.bbox:b(t),a=r&&r.bbox?r.bbox:b(e);if(y(o,a))return E(A(t,e));var s=w(o,i),u=w(a,i);if(y(s,u))return E(A(t,e));var c=_(s,t),h=_(u,e),l=function(){var e=[],n=[];(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){e.push(t.x),n.push(t.y)});var t=Math.min.apply(Math,e),r=Math.max.apply(Math,e),i=Math.min.apply(Math,n),o=Math.max.apply(Math,n);return{centerX:(t+r)/2,centerY:(i+o)/2,maxX:r,maxY:o,minX:t,minY:i,height:o-i,width:r-t}}([c,h]),f=(v(s,u),v(s,l)),d=v(u,l),g=[];g=(g=g.concat(M(f))).concat(M(d));var p={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[l,f,d].forEach(function(t){g=g.concat(function(t,e){return function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]}(t,e.x).concat(function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]}(t,e.y))}(t,p).filter(function(t){return P(t,s)&&P(t,u)}))}),[{x:c.x,y:h.y},{x:h.x,y:c.y}].forEach(function(t){P(t,s)&&P(t,u)&&g.push(t)}),g.unshift(c),g.push(h);var m=function(h,l,f,d,g,p,m){var v=[],y=[l],x={},b={},w={};b[l.id]=0,w[l.id]=I(l,f,l);var _={};function t(){var e,n,r,i,t,o,a,s=void 0,u=1/0;if(y.forEach(function(t){w[t.id]<u&&(u=w[t.id],s=t)}),s===f){var c=[];return function t(e,n,r,i,o){var a=4<arguments.length&&void 0!==o?o:0;e.unshift(n[i]),r[i]&&r[i]!==i&&a<=100&&t(e,n,r,r[i],a+1)}(c,_,x,f.id),{v:c}}o=s,-1<(a=(t=y).indexOf(o))&&t.splice(a,1),v.push(s),(e=s,n=d,r=g,i=[],h.forEach(function(t){t!==e&&(t.x!==e.x&&t.y!==e.y||O(t,e,n)||O(t,e,r)||i.push(t))}),C(i)).forEach(function(t){if(-1===v.indexOf(t)){-1===y.indexOf(t)&&y.push(t);var e=w[s.id]+k(s,t);b[t.id]&&e>=b[t.id]||(x[t.id]=s.id,b[t.id]=e,w[t.id]=b[t.id]+I(t,f,l,p,m))}})}for(h.forEach(function(t){_[t.id]=t});y.length;){var e=t();if("object"===S(e))return e.v}return console.error("cannot find path: ",h,l,f),[l,f]}(g=C(g),c,h,o,a,t,e);return m.unshift(t),m.push(e),E(m)}r.registerEdge("flow-polyline",{getPathByPoints:function(t){var e=t.points,n=t.source,r=t.target,i=a(e[0],e[e.length-1],n,r,16);return o.pointsToPolygon(i)}}),r.registerEdge("flow-polyline-round",{getPathByPoints:function(t){var e=t.points,n=t.source,r=t.target;return function(m,v){var y=[],t=m[0];return y.push("M".concat(t.x," ").concat(t.y)),m.forEach(function(t,e){var n,r,i,o,a,s,u,c,h,l=m[e+1],f=m[e+2];if(l&&f)if(c=l,h=f,(u=t).x===c.x!==h.x&&u.y===c.y!==h.y){var d=x((i=f,o=v,a=k(n=t,r=l),s=k(i,r),a<o&&(o=a),s<o&&(o=s),[{x:r.x-o/a*(r.x-n.x),y:r.y-o/a*(r.y-n.y)},{x:r.x-o/s*(r.x-i.x),y:r.y-o/s*(r.y-i.y)}]),2),g=d[0],p=d[1];y.push("L".concat(g.x," ").concat(g.y)),y.push("Q".concat(l.x," ").concat(l.y," ").concat(p.x," ").concat(p.y)),y.push("L".concat(p.x," ").concat(p.y))}else y.push("L".concat(l.x," ").concat(l.y));else l&&y.push("L".concat(l.x," ").concat(l.y))}),y.join("")}(E(a(e[0],e[e.length-1],n,r,16)),5)}})},function(t,e,n){var c=n(48);function h(t,e,n,r){var i=r?r/2:30,o=r;if(t<=e&&e<=n||e<=t&&n<=e){var a=(n-e)/2,s=Math.abs(a);if(0==a)return t===e?0:(e-t)/Math.abs(e-t)*i;if(o<s){var u=a/s*o;return Math.abs(u)<i?a/s*i:u}return s<i?a/s*i:a}var c=i;return(c=Math.abs(e-n)<2*Math.abs(e-t)?r*Math.abs(e-n)/(2*Math.abs(e-t)):r)>o&&(c=o),c<i&&(c=i),t<e?c:-c}function l(t,e,n,r){var i,o,a=t.bbox,s=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height}(e,a);i=o=0;var u=Math.min(a.height,a.width);return r&&r.bbox&&(u=Math.min(u,r.bbox.height,r.bbox.width)),s?i=h(a.centerX,e.x,n.x,u):o=h(a.centerY,e.y,n.y,u),{x:e.x+i,y:e.y+o}}var a=.1;function f(t,e){var n=t.x,r=t.y,i=e.x,o=e.y;return{x:n+(i-n)*a,y:r+(o-r)*a}}n(24).registerEdge("flow-smooth",{getPathByPoints:function(t){return function(t,e,n){var r=t[0],i=t[t.length-1],o=["M",r.x,r.y],a=function(t,e,n,r){return[n&&n.bbox?l(n,t,e,r):f(t,e),r&&r.bbox?l(r,e,t,n):f(e,t)]}(r,i,e,n),s=["C"],u=[o];return c.each(a,function(t){s.push(t.x,t.y)}),s.push(i.x,i.y),u.push(s),u}(t.points,t.source,t.target)}},"flow-edge")},function(t,e,n){n(24).registerEdge("flow-base",{})},function(t,e,n){var r=n(24);r.registerNode("flow-base",{}),r.registerNode("flow-html",{},["html"]),r.registerNode("flow-rect",{},"flow-base"),r.registerNode("flow-capsule",{},"capsule"),r.registerNode("flow-circle",{},"circle"),r.registerNode("flow-rhombus",{},"rhombus")},function(t,e,n){n(114),n(113),n(112),n(111),n(110)},function(t,e,n){var r=n(9),h=n(13),l=n(11);r.registerBehaviour("orbit",function(s){var u,c=s.getGraph();c.behaviourOn("beforepanitem",function(){s.hideOrbit()}),c.behaviourOn("node:mouseenter",function(t){var e=t.item;s.getSignal("panningItem")||s.getSignal("dragEdge")||(u=e,s.showOrbit(e))}),c.on("beforeviewportchange",function(){s.hideOrbit()}),c.behaviourOn("mousemove",function(t){var e=t.item,n=t.x,r=t.y;if(u){var i=u.getBBox(),o=l.euclideanDistance.pointPoint({x:i.centerX,y:i.centerY},{x:n,y:r}),a=c.getMatrix()[0];e!==u&&o>i.width/2+h.orbitGap/a&&(s.hideOrbit(),u=void 0),u&&s.layoutOrbit(u,{x:n,y:r})}})})},function(t,e,n){n(9).registerBehaviour("hoverNodeAddOutter",function(n){var r,t=n.getGraph();t.behaviourOn("node:mouseenter",function(t){var e=t.item;n.getSignal("dragEdge")&&(r=e,n.addOutterShape(e,{stroke:"#52C41A",strokeOpacity:.45,lineWidth:4}))}),t.behaviourOn("node:mouseleave",function(){r&&n.clearOutterShape(r)}),t.behaviourOn("beforedropedge",function(){r&&n.clearOutterShape(r)})})},function(t,e,n){var r=n(9),c=n(11),h=n(13);r.registerBehaviour("processAddEdge",function(a){var s=a.getGraph();function u(){a.setSignal("dragEdge",!1),a.set("addEdgeConfig",{addModel:void 0,delegation:void 0,startPoint:void 0,sourceItem:void 0})}s.behaviourOn("mousemove",function(t){var e=a.get("addEdgeConfig");if(e){var n=e.addModel,r=e.delegation,i=e.startPoint,o=e.sourceItem;r&&c.dragingEdgeEndPoint({endPointType:"target",edgeModel:n,graph:s,delegation:r,startPoint:i,ev:t,sourceItem:o})}}),s.behaviourOn("mouseup",function(t){var e=a.get("addEdgeConfig");if(e){var n=e.addModel,r=e.delegation,i=e.sourceItem,o=a.editor;r&&(s.getNodes().forEach(function(t){a.clearAnchor(t)}),a.clearAnchor(i),a.setActived(i,!1),a.setSelected(i,!1),a.css({cursor:h.cursor.beforePanCanvas}),r.remove(),c.dropUpdateEdge({ev:t,endPointType:"target",model:n,diagram:a})&&(o?o.executeCommand("add",{type:"edge",addModel:n}):s.add("edge",n)),s.draw(),a.endAdd()),u()}}),s.behaviourOn("canvas:mouseleave",function(){var t=a.get("addEdgeConfig");if(t){var e=t.delegation,n=t.sourceItem;e&&(s.getNodes().forEach(function(t){a.clearAnchor(t)}),a.setActived(n,!1),a.clearAnchor(n),e.remove(),a.cancelAdd(),s.draw()),u()}})})},function(t,e,n){var r=n(9),c=n(13),h=n(11);r.registerBehaviour("dragOutFromGroup",function(i){var o,a,t,s=i.getGraph(),u=!1;function e(){clearTimeout(t),a&&s.update(a,{padding:void 0,style:void 0}),u=!1,a=o=void 0}s.behaviourOn("drag",function(r){i.getSignal("panningItem")&&!u&&(clearTimeout(t),t=setTimeout(function(){var t=i.get("panItems");if(t){if(o=t[0],a=t[0].getParent(),o&&1===t.length&&a&&!r.shape){var e=i.get("panItemDelegation").getBBox(),n=a.getBBox();h.rectRectCrossAlgorithm(e,n)&&(s.update(a,{padding:c.groupBackgroundPadding.map(function(t){return t-8}),style:c.dragNodeLeaveFromGroupStyle}),u=!0)}u||(a=o=void 0)}},c.outFromGroupDelayTime))}),s.behaviourOn("dragenter",function(t){o&&a&&(a===t.item&&s.update(a,{padding:c.groupBackgroundPadding.map(function(t){return t+4}),style:c.dragNodeHoverToGroupStyle}),u=!1)}),s.on("drop",function(t){a&&o&&!t.shape&&(s.update(o,{parent:void 0}),s.update(a,{style:void 0}),e())}),s.on("dragend",function(){e()}),s.behaviourOn("canvas:mouseleave",function(){e()})})},function(t,e,n){var r=n(9),i=n(13);r.registerBehaviour("dragNodeAddToGroup",function(o){var a,s,u=o.getGraph();function t(){o.setSignal("dragaddnodetogroup",!1),s=a=void 0}u.behaviourOn("dragenter",function(t){if(o.getSignal("panningItem")){var e=o.get("panItems");e[0]&&e[0].isNode&&1===e.length&&t.item&&t.item.isGroup&&e[0].getParent()!==t.item&&(a=e[0],s=t.item,u.update(s,{padding:i.groupBackgroundPadding.map(function(t){return t+4}),style:i.dragNodeHoverToGroupStyle}))}}),u.behaviourOn("dragleave",function(){s&&a&&u.update(s,{padding:void 0,style:void 0})}),u.behaviourOn("drop",function(t){if(s&&a&&s===t.item){o.setSignal("dragaddnodetogroup",!0);var e=a.id,n=s.id;u.update(n,{padding:void 0,style:void 0,collapsed:!1});var r=o.editor;r?r.executeCommand(i):i()}function i(){u.update(e,{parent:n})}}),u.behaviourOn("dragend",function(){t()}),u.behaviourOn("canvas:mouseleave",function(){s&&(u.update(s,{padding:void 0,style:void 0}),t())})})},function(t,e,n){n(9).registerBehaviour("keydownShiftMultiSelected",function(e){var t=e.getGraph();t.behaviourOn("keydown",function(t){t.domEvent.shiftKey&&e.setSignal("shiftKeyDown",!0)}),t.behaviourOn("keyup",function(t){t.domEvent.shiftKey||e.setSignal("shiftKeyDown",!1)})})},function(t,e,n){var r=n(9),u=n(13);r.registerBehaviour("dragMultiSelect",function(i){var e,o,a=i.getGraph(),n=a.getRootGroup();function s(){i.css({cursor:u.cursor.beforePanCanvas}),o=e=void 0}i.css({cursor:u.cursor.multiSelect}),a.behaviourOn("dragstart",function(t){2!==t.button&&(e={x:t.x,y:t.y},o=n.addShape("rect",{attrs:u.multiSelectRectStyle}))}),a.behaviourOn("drag",function(t){o&&(o.attr({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),width:Math.abs(t.x-e.x),height:Math.abs(t.y-e.y)}),a.draw())}),a.behaviourOn("dragend",function(){if(o){var t=a.getNodes().map(function(t){return t.id}),r=o.getBBox(),e=i.editor;e?e.executeCommand(n):n(),o.remove(),i.changeMode("default"),i.updateStatus(),a.draw(),s()}function n(){i.clearSelected(),t.forEach(function(t){var e=a.find(t),n=e.getBBox();n.minX>r.minX&&n.minY>r.minY&&n.maxX<r.maxX&&n.maxY<r.maxY&&i.setSelected(e,!0)})}}),a.behaviourOn("canvas:mouseleave",function(){o&&(o.remove(),a.draw(),s())})})},function(t,e,n){var r=n(9),h=n(11);r.registerBehaviour("dragAnchorAddEdge",function(u){var t=u.getGraph(),c=t.getRootGroup();t.behaviourOn("anchor:dragstart",function(t){if(2!==t.button){var e=t.shape,n=e.get("freezePoint"),r=e.getItem(),i=h.clone(u.get("addModel")),o=e.getIndex();i.source=r.id,i.sourceAnchor=o;var a={x:n.x,y:n.y},s=u.getDelegation([{isEdge:!0}],c);u.setSignal("dragEdge",!0),u.dragEdgeBeforeShowAnchor(r,o,"target"),u.set("addEdgeConfig",{addModel:i,delegation:s,startPoint:a,sourceItem:r})}})},["processAddEdge","dragHoverAnchorHotspot","hoverAnchorActived"])},function(t,e,n){n(9).registerBehaviour("dragHoverAnchorHotspot",function(n){var t=n.getGraph();t.behaviourOn("anchor:dragenter",function(t){if(n.getSignal("dragEdge")){var e=t.shape;n.setHotspotActived(e,!0)}}),t.behaviourOn("anchor:dragleave",function(t){if(n.getSignal("dragEdge")){var e=t.shape;n.setHotspotActived(e,!1)}})})},function(t,e,n){var r=n(9),f=n(11);r.registerBehaviour("dragPanelItemAddNode",function(r){var i,o,a,s,u,c=r.getGraph(),h=c.getRootGroup();function l(){r.setSignal("panningItem",!1),r.set("panItemDelegation",void 0),r.set("panItemStartBox",void 0),r.set("panItemStartPoint",void 0),u=s=a=o=void 0}c.behaviourOn("canvas:mouseenter",function(t){if(!o&&(s=r.get("addType"),u=r.get("addModel"),u=f.clone(u),"node"===s)){var e=(a=f.getNodeSize(u.size))[0]/2,n=a[1]/2;i={minX:t.x-e,minY:t.y-n,maxX:t.x+e,maxY:t.y+n,width:a[0],height:a[1]},o=r.getDelegation([i],h),r.setSignal("panningItem",!0),r.set("panItemDelegation",o),r.set("panItemStartBox",i),r.set("panItemStartPoint",{x:t.x,y:t.y})}}),c.behaviourOn("mouseup",function(t){if(o){u.x=t.x,u.y=t.y;var e=s;f.setId(u);var n=r.editor;o.remove(),r.endAdd(),r.clearAlignLine(),r.clearSelected(),r.focusGraphWrapper(),n?n.executeCommand("add",{type:"node",addModel:u}):c.add(e,u),r.setSelected(c.find(u.id),!0),l()}}),c.behaviourOn("canvas:mouseleave",function(){o&&(r.clearAlignLine(),o.remove(),c.draw(),r.cancelAdd(),l())})},["processPanItem"])},function(t,e,n){var r=n(9),v=n(13),y=n(11);r.registerBehaviour("dragEdgeControlPoint",function(o){var a,s,u,c,h,l,f,d,g,p,m=o.getGraph(),n=m.getRootGroup();function t(t){if(u){var e={};m.getNodes().forEach(function(t){o.clearAnchor(t)}),o.css({cursor:v.cursor.beforePanCanvas}),u.remove();var n=y.dropUpdateEdge({ev:t,endPointType:a?"target":"source",model:e,diagram:o});m.show(g);var r=g.id;if(n){var i=o.editor;i?i.executeCommand("update",{itemId:r,updateModel:e}):m.update(r,e)}o.setSignal("dragEdge",!1),p=g=d=f=l=h=c=u=s=a=void 0}}m.behaviourOn("edgeControlPoint:dragstart",function(t){if(2!==t.button){var e=t.shape;e.isTargetEndPoint()?(g=e.getItem(),p=g.getModel(),c=(a=e).getSourcePoint(),h=g.getSource(),f=p.sourceAnchor):e.isSourceEndPoint()&&(g=e.getItem(),p=g.getModel(),c=(s=e).getTargetPoint(),l=g.getTarget(),d=p.targetAnchor),g&&(u=o.getDelegation([g],n),h?o.dragEdgeBeforeShowAnchor(h,f,"target"):l&&o.dragEdgeBeforeShowAnchor(l,d,"source"),m.hide(g),o.setSignal("dragEdge",!0))}}),m.behaviourOn("edgeControlPoint:drag",function(t){u&&y.dragingEdgeEndPoint({endPointType:h?"target":"source",edgeModel:p,graph:m,delegation:u,startPoint:c,ev:t,originSource:h,originTarget:l})}),m.behaviourOn("edgeControlPoint:mouseleave",function(t){a||s||t.toShape||o.css({cursor:v.cursor.beforePanCanvas})}),m.behaviourOn("edgeControlPoint:dragend",t),m.behaviourOn("canvas:mouseleave",t)},["dragHoverAnchorHotspot"])},function(t,e,n){var r=n(9),i=n(13);r.registerBehaviour("hoverEdgeControlPoint",function(n){n.getGraph().behaviourOn("edgeControlPoint:mouseenter",function(t){if(!n.getSignal("dragEdge")&&!n.getSignal("panningItem")){var e=t.shape;(e.isTargetEndPoint()||e.isSourceEndPoint())&&n.css({cursor:i.cursor.hoverEdgeControllPoint})}})})},function(t,e,n){var r=n(9),u=n(13);r.registerBehaviour("hoverAnchorActived",function(a){var s=a.getGraph();s.behaviourOn("anchor:mouseenter",function(t){if(!a.getSignal("panningItem")&&!a.getSignal("dragEdge")){var e=t.shape,n=e.getItem(),r=n.getModel(),i=function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({},a.get("addEdgeModel"),{source:r.id}),o={anchor:e.getPoint(),item:n};a.emit("hoveranchor:beforeaddedge",o),o.cancel?a.css({cursor:u.cursor.hoverUnEffectiveAnchor}):(a.css({cursor:u.cursor.hoverEffectiveAnchor}),e.get("destroyed")||e.setActived(),a.beginAdd("edge",i),s.draw())}}),s.behaviourOn("anchor:mouseleave",function(t){if(!a.getSignal("dragEdge")&&!a.getSignal("panningItem")){var e=t.shape,n=e.getItem();a.css({cursor:u.cursor.beforePanCanvas}),n.isSelected||(a.clearAnchor(n),a.setActived(n,!1)),e.get("destroyed")||e.clearActived(),a.cancelAdd(),s.draw()}})})},function(t,e,n){var r=n(9),f=n(11);r.registerBehaviour("panItem",function(h){var l=h.getGraph();l.behaviourOn("drop",function(){var t=h.get("panItems");if(t){var e=t[0],n=t.map(function(t){return t.id}),r=h.get("panItemDelegation"),i=h.get("panItemStartBox"),o=e.id,a=r.attr("x")-i.minX,s=r.attr("y")-i.minY;l.emit("afterpanitemdrop",{panItems:t}),h.clearAlignLine();var u=h.editor;l.emit("panitemend"),!u||h.getSignal("dragaddnodetogroup")?c():u.executeCommand(c)}function c(){n.forEach(function(t){var e=l.find(t),n=e.getModel();e.isGroup?f.panGroup(e,a,s,l):(l.update(e,{x:n.x+a,y:n.y+s}),l.toFront(e))}),1===n.length&&(h.clearSelected(),h.setSelected(o,!0))}})},["startPanItem","processPanItem","endPanItem"])},function(t,e,n){n(129),n(128),n(127),n(126),n(125),n(124),n(123),n(122),n(121),n(120),n(119),n(118),n(117),n(116)},function(t,e,n){function d(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}var r=n(37),i=n(13),g=n(11),p=g.getGroupIconPath(),m=g.getCollapsedButtonPath(),v=g.getExpandedButtonPath(),y={fill:"#CED4D9"},x={stroke:"#697B8C",fill:"#fff",fillOpacity:0},b={stroke:"#697B8C",fill:"#fff",fillOpacity:0},w={fill:"#000000",textBaseline:"top",textAlign:"left"},o={stroke:"#CED4D9",fill:"#F2F4F5",radius:4},_=i.groupBackgroundPadding,S=184-_[1]-_[3],M=40-_[0]-_[2];r.registerGroup("diagram-base",{draw:function(t){var e=t.getModel(),n=t.getGraphicGroup(),r=t.getChildrenBBox(),i=this.getStyle(t),o=e.collapsed,a=e.padding?e.padding:_;if(r.minX===1/0&&(r.minX=e.x,r.maxX=e.x+S,r.minY=e.y,r.maxY=e.y+M),o&&(r.minX=r.maxX-S,r.maxY=r.minY+M),r.maxX-r.minX<S){var s=S-r.maxX+r.minX;r.minX-=s/2,r.maxX+=s/2}var u=function(t,e){return t.minX-e[3]}(r,a),c=function(t,e){return t.minY-e[0]}(r,a),h=function(t,e){return t.maxX-t.minX+e[3]+e[1]}(r,a),l=function(t,e){return t.maxY-t.minY+e[0]+e[2]}(r,a),f=function(t,e,n,r){var i=e.addShape("path",{attrs:d({},r,{path:n})});return i.isGroupKeyShape=!0,i}(0,n,g.getRectPath(u,c,h,l,i.radius),i);return function(t,e,n,r){var i=g.mix(!0,{},w,{x:n+40,y:r+13});g.isString(t)?i.text=t:g.mix(i,t),e.addShape("text",{attrs:i})}(g.isNil(e.label)?"":e.label,n,u,c),function(t,e,n,r){var i=e.addShape("path",{attrs:d({path:t},y)}),o=i.getBBox();i.translate(n-o.minX+8,r-o.minY+12)}(g.isNil(e.icon)?p:e.icon,n,u,c),function(t,e,n,r,i){var o;if(t){var a=(o=e.addShape("path",{attrs:d({path:v},b)})).getBBox(),s=a.maxX-a.minX;o.isExpandedButton=!0,o.translate(n+i-a.minX-s-12,r-a.minY+12)}else{var u=(o=e.addShape("path",{attrs:d({path:m},x)})).getBBox(),c=u.maxX-u.minX;o.isCollapsedButton=!0,o.translate(n+i-u.minX-c-12,r-u.minY+12)}return o.isButton=!0,o}(o,n,u,c,h).item=t,e.x=r.minX,e.y=r.minY,f},getStyle:function(t){var e=t.getModel();return g.mix(!0,{},o,{fill:e.color,stroke:e.color},e.style)},getActivedStyle:function(){return i.groupActivedStyle},getSelectedStyle:function(){return i.groupSelectedStyle},getSelectedOutterStyle:function(){return i.groupSelectedOutterStyle},getActivedOutterStyle:function(){},intersectBox:"rect"})},function(t,e,n){var r=n(37),i=n(11),o=n(13);r.registerEdge("diagram-base",{getPath:function(t){var e=t.getPoints(),n=t.getSource(),r=t.getTarget();return this.getPathByPoints({points:e,source:n,target:r,item:t})},getPathByPoints:function(t){var e=t.points;return i.pointsToPolygon(e)},getStyle:function(t){var e=t.getModel();return i.mix(!0,{},o.edgeStyle,{stroke:e.color},e.style)},getActivedStyle:function(){return o.edgeActivedStyle},getSelectedStyle:function(){return o.edgeSelectedStyle},getActivedOutterStyle:function(){},getSelectedOutterStyle:function(){}})},function(t,e,n){function o(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}var r=n(37),a=n(11),i=n(13);r.registerNode("diagram-base",{getSize:function(t){var e=t.getModel();return a.getNodeSize(e.size)},defaultFillPalette:0,defaultStrokePalette:3,activedFillPalette:0,activedStrokePalette:5,selectedFillPalette:2,selectedStrokePalette:5,getDefaulStyle:function(){return i.nodeStyle},getDefaulActivedStyle:function(){return i.nodeActivedStyle},getDefaulSelectedtyle:function(){return i.nodeSelectedStyle},getStyle:function(t){var e,n,r=t.getModel(),i=r.color;if(i){var o=a.Palettes.generate(i);e=o[this.defaultFillPalette],n=o[this.defaultStrokePalette]}return a.mix(!0,{},this.getDefaulStyle(),{fill:e,stroke:n},r.style)},getPath:function(t){var e=this.getSize(t),n=this.getStyle(t);return a.getRectPath(-e[0]/2,-e[1]/2,e[0],e[1],n.radius)},getActivedOutterStyle:function(){return i.nodeActivedOutterStyle},getActivedStyle:function(t){var e=t.getModel(),n=this.getDefaulActivedStyle(t),r=e.color;if(r){var i=a.Palettes.generate(r);return o({},n,{fill:i[this.activedFillPalette],stroke:i[this.activedStrokePalette]})}return n},getSelectedStyle:function(t){var e=t.getModel(),n=this.getDefaulSelectedtyle(t),r=e.color;if(r){var i=a.Palettes.generate(r);return o({},n,{fill:i[this.selectedFillPalette],stroke:i[this.selectedStrokePalette]})}return n},getSelectedOutterStyle:function(t){var e=t.getModel().color;if(e){var n=a.Palettes.generate(e);return o({},i.nodeSelectedOutterStyle,{stroke:n[1],fill:n[1]})}return i.nodeSelectedOutterStyle},anchor:[[.5,0],[1,.5],[.5,1],[0,.5]]}),r.registerNode("capsule",{getPath:function(t){var e=this.getSize(t);return a.getRectPath(-e[0]/2,-e[1]/2,e[0],e[1],e[1]/2)}}),r.registerNode("circle",{getPath:function(t){var e=this.getSize(t),n=e[0],r=e[1];return a.getEllipsePath(0,0,n/2,r/2)}}),r.registerNode("rhombus",{getPath:function(t){var e=this.getSize(t),n=e[0],r=e[1],i=[{x:0,y:0-r/2},{x:0+n/2,y:0},{x:0,y:0+r/2},{x:0-n/2,y:0},{x:0,y:0-r/2}];return a.pointsToPolygon(i)}})},function(t,e,n){n(133),n(132),n(131)},function(t,e){t.exports={CFG:{linkNode:!0,linkAnchor:!0},INIT:"_initLink",AUGMENT:{_initLink:function(){var n=this,t=this.getGraph(),e=this.get("linkAnchor"),r=this.get("linkNode"),i=t.get("mode");e&&(this.on("beforeitemactived",function(t){var e=t.item;e.isNode&&n.hoverShowAnchor(e)}),this.on("beforeitemunactived",function(t){var e=t.item;(e.isNode||e.isGroup)&&n.clearAnchor(e)}),this.on("beforeitemselected",function(t){var e=t.item;e.isNode?n.hoverShowAnchor(e):e.isGroup&&n.hoverShowAnchor(e)}),this.on("beforeitemunselected",function(t){var e=t.item;(e.isNode||e.isGroup)&&n.clearAnchor(e)}),t.addBehaviour("dragAnchorAddEdge","add"),t.addBehaviour("hoverAnchorActived","default"),t.changeMode(i)),r&&(t.addBehaviour("hoverNodeAddOutter","add"),t.addBehaviour("hoverNodeAddOutter","default"),t.changeMode(i))}}}},function(t,e,n){var p=n(11),r={};r.AUGMENT={addOutterShape:function(t,e){this.clearOutterShape(t);var n=e.lineWidth,r=t.getKeyShape(),i=t.getGraphicGroup(),o=r.attr(),a=r.get("type"),s=r.attr("lineWidth"),u=p.clone(o);delete u.fillStyle,delete u.strokeStyle,delete u.matrix;var c=i.addShape(a,{attrs:function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({},u,{fill:null},e)});p.toBack(c,i);var h=c.getBBox(),l=h.maxX-h.minX,f=h.maxY-h.minY,d=(h.minX+h.maxX)/2,g=(h.minY+h.maxY)/2;c.transform([["t",-d,-g],["s",(n+l+s)/l,(n+f+s)/f],["t",d,g]]),c.isOutter=!0,t.outterShape=c},clearOutterShape:function(t){t.outterShape&&t.outterShape.remove()}},t.exports=r},function(t,e,n){var c=n(11),h=n(13),r={};function l(t){t.controlPointShapes&&c.each(t.controlPointShapes,function(t){t.remove()}),t.controlPointShapes=[],t.isControlPointShow=!1}r.INIT="_initResize",r.CFG={nodeResizeable:!1,edgeResizeable:!0},r.AUGMENT={_initResize:function(){var e=this,t=this.get("_graph"),n=this.get("nodeResizeable"),r=this.get("edgeResizeable");n&&t.on("afteritemdraw",function(t){"node"===t.item.type&&t.item.isVisible()&&e.drawControlPoints(t.item)}),r&&t.on("afteritemdraw",function(t){"edge"===t.item.type&&t.item.isVisible()&&e.drawControlPoints(t.item)}),t.on("afteritemhide",function(t){t.item.isControlPointShow&&function(t){t.controlPointShapes&&c.each(t.controlPointShapes,function(t){t.hide()}),t.isControlPointShow=!1}(t.item)}),t.on("afteritemshow",function(t){t.item.isControlPointShow||function(t){t.controlPointShapes&&c.each(t.controlPointShapes,function(t){t.show()}),t.isControlPointShow=!0}(t.item)}),t.on("beforeitemdestroy",function(t){t.item.isControlPointShow&&l(t.item)})},drawControlPoints:function(t){var e=this.get("_graph").getRootGroup(),n=this.get("nodeResizeable"),r=this.get("edgeResizeable");"node"===t.type?n&&function(n,r){var t=n.getBBox(),e=[{x:t.minX,y:t.minY},{x:t.maxX,y:t.minY},{x:t.minX,y:t.maxY},{x:t.maxX,y:t.maxY}];l(n);var i=r.addShape("rect",{attrs:c.mix({},h.nodeSelectedBoxStyle,{symbol:"square",x:t.minX,y:t.minY,width:t.maxX-t.minX,height:t.maxY-t.minY})});n.controlPointShapes.push(i),c.each(e,function(t){var e=r.addShape("marker",{attrs:c.mix({},h.nodeControlPointStyle,{symbol:"square",x:t.x,y:t.y}),freezePoint:{x:t.x,y:t.y},item:n});n.controlPointShapes.push(e)})}(t,e):"edge"===t.type&&r&&function(r,i){var t=r.getKeyShape().attr("path"),e=t[0],n=e.length,o=t[t.length-1],a=o.length,s=[{x:e[n-2],y:e[n-1]},{x:o[a-2],y:o[a-1]}],u=r.getModel();l(r),c.each(s,function(t,e){var n=i.addShape("marker",{attrs:c.mix({},h.edgeControlPointStyle,{x:t.x,y:t.y}),freezePoint:{x:t.x,y:t.y},item:r});n.eventPreFix="edgeControlPoint",n.getSourcePoint=function(){return s[0]},n.getTargetPoint=function(){return s[s.length-1]},n.getItem=function(){return r},n.isSourceEndPoint=function(){return u.source&&0===e},n.isTargetEndPoint=function(){return u.target&&e===s.length-1},r.controlPointShapes.push(n)})}(t,e),t.isControlPointShow=!0}},t.exports=r},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=n(62),g=n(11),u=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,o(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,s),function(t,e){i(t.prototype,e)}(t,[{key:"getDefaultCfg",value:function(){return{name:"forkAndLink",render:function(){return'\n          <div style="\n            width: 11px;\n            height: 11px;\n            cursor: copy;\n            background-image: url(https://gw.alipayobjects.com/zos/rmsportal/yWAiQOmucbYMCpwkvTBP.svg)\n          "></div>\n        '},bindEvent:function(i,l){var f=this,d=l.getGraph(),o=d.getRootGroup();return i.setAttribute("draggable","true"),[g.addEventListener(i,"dragstart",function(){var t=f.item,e=function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({},l.get("addEdgeModel"),{source:t.id}),n=t.getBBox(),r=l.getDelegation([{isEdge:!0}],o);l.setSignal("dragEdge",!0),l.beginAdd("edge",e),l.set("addEdgeConfig",{addModel:e,delegation:r,startPoint:{x:n.centerX,y:n.centerY},sourceItem:t}),i.hide()}),g.addEventListener(i,"click",function(t){var e=t.clientX,n=t.clientY,r=l.editor,i=f.item,o=d.getPointByClient({x:e,y:n}),a=i.getBBox(),s=i.getModel(),u=[o.x-a.centerX,o.y-a.centerY],c=g.vec2.length(u);if(g.vec2.scale(u,u,160/c),r)r.executeCommand("copyAdjacent",{copyNode:i,x:o.x+u[0],y:o.y+u[1]});else{var h=g.clone(s);h.x=o.x+u[0],h.y=o.y+u[1],d.add(i.type,h)}})]}}}}]),t}();t.exports=u},function(t,e,n){var r=n(62);r.forkAndLink=n(138),t.exports=r},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=n(18),p=n(13),u=n(139),c=n(11),m=c.vec2,h=c.isString,l=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,o(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,s),function(t,e){i(t.prototype,e)}(t,[{key:"getDefaultCfg",value:function(){return{satellite:[],satelliteCache:[]}}},{key:"init",value:function(){var e=this,t=this.satellite,n=this.diagram,r={diagram:n};n.getGraph().addBehaviour("orbit"),t.forEach(function(t){h(t)?e.satelliteCache.push(new u[t](r)):e.satelliteCache.push(new u(function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({},r,t)))})}},{key:"layout",value:function(t,e){var n=this.diagram,i=n.getGraph(),r=this.satelliteCache,o=t.getBBox(),a=o.centerX,s=o.centerY,u=n.getZoom(),c=p.orbitGap/u,h=r.filter(function(t){return t.isVisible()}),l=[e.x-a,e.y-s],f=m.length(l),d=o.width/2+c,g=m.scale([],l,d/f);h.forEach(function(t){var e=t.getDOM(),n=e.width()/2,r=i.getDomPoint({x:g[0]+a,y:g[1]+s});e.css({top:r.y-n+"px",left:r.x-n+"px"})})}},{key:"show",value:function(e){this.satelliteCache.forEach(function(t){t.enable()&&(t.item=e,t.show())})}},{key:"hide",value:function(){this.satelliteCache.forEach(function(t){t.hide()})}}]),t}();t.exports=l},function(t,e,n){var r=n(140),i={CFG:{orbit:null},INIT:"_initOrbit"};i.AUGMENT={_initOrbit:function(){var t=this.get("orbit");if(t){var e=new r(function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({diagram:this},t));this.setController("orbit",e)}},showOrbit:function(t){this.getController("orbit").show(t)},hideOrbit:function(){this.getController("orbit").hide()},layoutOrbit:function(t,e){this.getController("orbit").layout(t,e)}},t.exports=i},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=n(18),c=n(13),h=n(11),l=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,o(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,s),function(t,e){i(t.prototype,e)}(t,[{key:"getDefaultCfg",value:function(){return{_anchorItemCache:{}}}},{key:"init",value:function(){var e=this,t=this.graph;t.on("afteritemdraw",function(t){t.item.isAnchorShow&&e.showAnchor(t.item)}),t.on("beforeitemdestroy",function(t){e._clearAnchor(t.item)}),t.on("afteritemhide",function(t){t.item.isNode&&e._clearAnchor(t.item)})}},{key:"_updateAnchor",value:function(t){var e=this.graph;t.anchorShapes.forEach(function(t){t.updatePosition()}),e.draw()}},{key:"_drawAnchor",value:function(i,o,a,s){var t=i.getAnchorPoints();this._clearAnchor(i),h.each(t,function(t,e){if(!a||-1!==a.indexOf(e)){var n,r=o.addShape("marker",{attrs:u({symbol:"circle"},c.anchorPointStyle,{x:t.x,y:t.y}),freezePoint:t,item:i,index:e,eventPreFix:"anchor",isItemChange:function(){},zIndex:c.zIndex.anchorPoint});r.toFront(),r.eventPreFix="anchor",r.showHotspot=function(){n=o.addShape("marker",{attrs:u({symbol:"circle"},c.anchorHotsoptStyle,{x:t.x,y:t.y}),freezePoint:t,capture:!1,zIndex:c.zIndex.anchorHotsopt}),i.anchorShapes.push(n),r.hasHotspot=!0,n.toFront(),r.toFront()},r.getIndex=function(){return e},r.getItem=function(){return i},r.getPoint=function(){return t},r.updatePosition=function(){var t=i.getAnchorPoints()[e];r.attr(t)},r.setActived=function(){r.attr(c.anchorPointHoverStyle)},r.clearActived=function(){r.attr(c.anchorPointStyle)},r.isAnchor=!0,r.setHotspotActived=function(t){n&&(t?n.attr(c.anchorHotsoptActivedStyle):n.attr(c.anchorHotsoptStyle))},s&&r.showHotspot(),i.anchorShapes.push(r),i.getAllAnchors=function(){return i.anchorShapes.filter(function(t){return t.isAnchor})},i.getAnchor=function(e){return i.anchorShapes.find(function(t){return t.get("index")===e})}}})}},{key:"_clearAnchor",value:function(t){t.anchorShapes&&t.anchorShapes.forEach(function(t){t.remove()}),t.anchorShapes=[]}},{key:"setHotspotActived",value:function(t,e){var n=this.diagram.getGraph();t.setHotspotActived(e),n.draw()}},{key:"showAnchor",value:function(t,e,n){if(t.isVisible()){var r=this.graph,i=this._anchorItemCache,o=r.getRootGroup();this._drawAnchor(t,o,e,n),t.isAnchorShow=!0,i[t.id]=t}}},{key:"clearAnchor",value:function(t){var e=this,n=this.graph,r=n.get("itemCache"),i=this._anchorItemCache,o=t;o=h.isObject(t)?[t]:h.isString(t)?[r[t]]:i,h.each(o,function(t){e._clearAnchor(t),t.isAnchorShow=!1,delete i[t.id]}),n.draw()}}]),t}();t.exports=l},function(t,e,n){var r=n(142),i=n(11),o={CFG:{anchor:{}},INIT:"_initAnchor"};o.AUGMENT={_initAnchor:function(){var t=this.get("anchor"),e=this.get("_graph");if(t){var n=new r(function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({diagram:this,graph:e},t));this.setController("anchor",n)}},showAnchor:function(t,e,n){this.getController("anchor").showAnchor(t,e,n)},clearAnchor:function(t){this.getController("anchor").clearAnchor(t)},setHotspotActived:function(t,e){this.getController("anchor").setHotspotActived(t,e)},hoverShowAnchor:function(r){var i=this,o=[];r.getAnchorPoints().forEach(function(t,e){var n={anchor:t,item:r};i.emit("hovernode:beforeshowanchor",n),n.cancel||o.push(e)}),this.showAnchor(r,o)},anchorHasBeenLinked:function(n,t){var r=[];return n.getEdges().forEach(function(t){var e=t.getModel();e.source!==n.id||i.isNil(e.sourceAnchor)||r.push(e.sourceAnchor),e.target!==n.id||i.isNil(e.targetAnchor)||r.push(e.targetAnchor)}),i.isObject(t)?-1!==r.indexOf(t.index):-1!==r.indexOf(t)},dragEdgeBeforeShowAnchor:function(a,s,u){var c=this;this.getGraph().getNodes().forEach(function(n){var r,i=[],t=n.getAnchorPoints();if(a.isNode){var o=a.getAnchorPoints();t.forEach(function(t,e){r="target"===u?{source:a,sourceAnchor:o[s],target:n,targetAnchor:t,dragEndPointType:u}:{target:a,targetAnchor:o[s],source:n,sourceAnchor:t,dragEndPointType:u},c.emit("dragedge:beforeshowanchor",r),r.cancel||i.push(e)})}else t.forEach(function(t,e){i.push(e)});n===a&&n.isAnchorShow?i.forEach(function(t){var e=n.getAnchor(t);s!==t&&e&&e.showHotspot()}):c.showAnchor(n,i,!0)})}},t.exports=o},function(t,e,n){var r={},s=n(11);r.AUGMENT={changeAddEdgeModel:function(t){this.set("addEdgeModel",t)},cancelAdd:function(){this.set("addType",void 0),this.set("addModel",void 0),this.changeMode("default")},beginAdd:function(t,e){this.set("addType",t),this.set("addModel",e),this.changeMode("add")},endAdd:function(){this.set("addType",void 0),this.set("addModel",void 0),this.changeMode("default")},delete:function(){var t=this.getSelected(),e=this.get("_graph");s.each(t,function(t){e.remove(t)})},toBack:function(){var t=this.getSelected(),e=this.get("_graph");t.sort(function(t,e){var n=t.getGraphicGroup(),r=e.getGraphicGroup();return s.getIndex(r)-s.getIndex(n)}),t.forEach(function(t){e.toBack(t)})},toFront:function(){var t=this.getSelected(),e=this.get("_graph");t.sort(function(t,e){var n=t.getGraphicGroup(),r=e.getGraphicGroup();return s.getIndex(n)-s.getIndex(r)}),t.forEach(function(t){e.toFront(t)})},addGroup:function(e){var n,r=this.get("_graph"),t=this.getSelected(),i=!0;if(0!==t.length){e||(e={label:""}),s.setId(e),r.add("group",e),r.toFront(e.id);var o=r.find(e.id);if(t.forEach(function(t){var e=t.getParent();e&&(n?n!==e&&(i=!1):n=e)}),i){n&&(e.parent=n.getModel().id),t.forEach(function(t){r.update(t,{parent:e.id})});var a=o.getInnerEdges();o.deepEach(function(t){r.toFront(t)}),a.forEach(function(t){r.toFront(t)})}else console.warn("add group elements must have the same parent")}},unGroup:function(){var e=this.get("_graph"),t=this.getSelected(),n=t[0];1===t.length&&s.isGroup(n)&&(n.getChildren().forEach(function(t){e.update(t,{parent:void 0})}),e.remove(n))},newGroup:function(t){this.addGroup(t)}},t.exports=r},function(t,e){t.exports={rectRectCrossAlgorithm:function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return i<n||o<r},euclideanDistance:{pointPoint:function(t,e){var n=Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2);return Math.sqrt(n)}}}},function(t,e,n){var o=n(63);t.exports={dragingEdgeEndPoint:function(t){var e=t.endPointType,n=t.edgeModel,r=t.graph,i=t.delegation,o=t.startPoint,a=t.ev,s=t.source,u=t.target,c=a.item,h=r.getShapeObj("edge",n),l="source"===e?[a,o]:[o,a];c&&("source"===e?u=c:s=c);var f=h.getPathByPoints({points:l,source:s,target:u});i.attr("path",f),r.draw()},panGroup:function(t,n,r,i){var e=t.getModel();o.traverseTree(t,function(t){if("node"===t.type){var e=t.getModel();i.update(t,{x:e.x+n,y:e.y+r})}},function(t){return"group"===t.type?t.getChildren():[]}),i.update(t,{x:e.x+n,y:e.y+r})},dropUpdateEdge:function(t){var e=t.ev,n=t.endPointType,r=t.model,i=t.diagram,o=i.get("noEndEdge"),a=i.get("linkAnchor"),s=i.get("linkNode"),u=e.item,c=e.shape,h=e.x,l=e.y;if(i.getGraph().emit("beforedropedge"),c){if(a&&c.isAnchor&&c.hasHotspot){var f=c,d=f.getItem();return"target"===n?(r.target=d.id,r.targetAnchor=f.getIndex()):(r.source=d.id,r.sourceAnchor=f.getIndex()),!0}if(s&&u&&u.isNode)return"target"===n?r.target=u.id:r.source=u.id,!0}else if(o)return"target"===n?r.target={x:h,y:l}:r.source={x:h,y:l},!0;return!1}}},function(t,e,n){var r=n(24);n(115),t.exports=r},function(t,e,n){n(12).registerBehaviour("keydownCmdWheelZoom",function(e){var t=e.getGraph();t.behaviourOn("keydown",function(t){91===t.domEvent.keyCode&&e.setSignal("wheelZoom",!0)}),t.behaviourOn("keyup",function(t){91===t.domEvent.keyCode&&e.setSignal("wheelZoom",!1)})})},function(t,e,n){n(12).registerBehaviour("hoverEdgeActived",function(e){var t=e.getGraph();t.behaviourOn("edge:mouseenter",function(t){e.getSignal("panningItem")||t.item&&t.item.isSelected||e.getSignal("dragEdge")||e.setActived(t.item,!0)}),t.behaviourOn("edge:mouseleave",function(t){e.setActived(t.item,!1)})})},function(t,e,n){n(12).registerBehaviour("hoverGroupActived",function(e){var t=e.getGraph();t.behaviourOn("mouseenter",function(t){e.getSignal("panningItem")||t.item&&t.item.isSelected||e.getSignal("dragEdge")||t.shape&&t.shape.isGroupKeyShape&&(e.css({cursor:"move"}),e.setActived(t.item,!0))}),t.behaviourOn("group:mouseleave",function(t){t.item.isActived&&!t.item.isSelected&&e.setActived(t.item,!1)})})},function(t,e,n){n(12).registerBehaviour("hoverNodeActived",function(n){var r,t=n.getGraph();t.behaviourOn("node:mouseenter",function(t){!1!==t.item.getShapeObj().panAble&&n.css({cursor:"move"}),n.getSignal("panningItem")||n.getSignal("dragEdge")||t.item&&t.item.isSelected||(r=t.item,n.setActived(r,!0))}),t.behaviourOn("node:mouseleave",function(t){var e=t.toShape;r&&(e&&e.isAnchor&&e.getItem()===r||n.getSignal("dragEdge")||(r.isSelected||n.setActived(r,!1),r=void 0))})})},function(t,e,n){n(12).registerBehaviour("clickNodeSelected",function(e){e.getGraph().behaviourOn("node:click",function(t){e.get("multiSelectable")&&!0===e.getSignal("shiftKeyDown")||(e.clearActived(),e.clearSelected()),e.setSelected(t.item.id,!0)})})},function(t,e,n){n(12).registerBehaviour("clickGroupSelected",function(e){e.getGraph().behaviourOn("group:click",function(t){e.get("multiSelectable")&&!0===e.getSignal("shiftKeyDown")||(e.clearActived(),e.clearSelected()),e.setSelected(t.item.id,!0)})})},function(t,e,n){n(12).registerBehaviour("clickExpandedButton",function(i){var o=i.getGraph();o.behaviourOn("click",function(t){var e=t.item,n=t.shape;if(e&&n&&n.isExpandedButton){var r=i.editor;r?r.executeCommand("collapseExpand",{itemId:e.id}):o.update(e,{collapsed:!1})}})})},function(t,e,n){n(12).registerBehaviour("clickEdgeSelected",function(e){e.getGraph().behaviourOn("edge:click",function(t){e.get("multiSelectable")&&!0===e.getSignal("shiftKeyDown")||(e.clearActived(),e.clearSelected()),e.setSelected(t.item.id,!0)})})},function(t,e,n){n(12).registerBehaviour("clickCollapsedButton",function(i){var o=i.getGraph();o.behaviourOn("click",function(t){var e=t.item,n=t.shape;if(e&&n&&n.isCollapsedButton){var r=i.editor;r?r.executeCommand("collapseExpand",{itemId:e.id}):o.update(e,{collapsed:!0})}})})},function(t,e,n){n(12).registerBehaviour("clickCanvasSelected",function(e){var t=e.getGraph();t.behaviourOn("click",function(t){t.shape||(e.clearSelected(),e.clearActived(),e.updateStatus())}),t.behaviourOn("contextmenu",function(t){t.shape||(e.clearSelected(),e.clearActived(),e.updateStatus())})})},function(t,e,n){n(12).registerBehaviour("dblclickItemEditLabel",function(e){e.getGraph().behaviourOn("node:dblclick",function(t){t.shape&&!t.shape.isButton&&e.beginEditLabel(t.item)})})},function(t,e,n){n(12).registerBehaviour("endPanItem",function(e){var n=e.getGraph();n.behaviourOn("panitemend",function(){var t=e.get("panItemDelegation");t&&(t.remove(),n.draw()),e.setSignal("panningItem",!1),e.set("panItemDelegation",void 0),e.set("panItemStartPoint",void 0),e.set("panItemStartBox",void 0),e.set("panItems",void 0)}),n.behaviourOn("canvas:mouseleave",function(){e.get("panItems")&&(e.clearAlignLine(),n.emit("panitemend"))})})},function(t,e,n){n(12).registerBehaviour("startPanItem",function(o){var a=o.getGraph(),s=a.getRootGroup();a.behaviourOn("dragstart",function(t){if(2!==t.button&&t.item&&(t.item.isNode||t.item.isGroup)){var e,n=t.item;if((e=(e=n.isSelected?o.getSelected():[n]).filter(function(t){return t.isNode||t.isGroup}))[0]&&!1!==e[0].dragable){a.emit("beforepanitem",{items:e}),a.emit("beforeshowdelegation",{items:e});var r=o.getDelegation(e,s),i=r.getBBox();o.setSignal("panningItem",!0),o.set("panItems",e),o.set("panItemDelegation",r),o.set("panItemStartBox",i),o.set("panItemStartPoint",{x:t.x,y:t.y}),a.draw()}}})})},function(t,e,n){n(12).registerBehaviour("processPanItem",function(s){var u=s.getGraph();u.behaviourOn("mousemove",function(t){var e=s.get("panItemDelegation");if(e){var n=s.get("panItemStartPoint"),r=s.get("panItemStartBox"),i=t.x-n.x,o=t.y-n.y,a=s.align({x:r.minX+i,y:r.minY+o},{width:r.width,height:r.height});e.attr({x:a.x,y:a.y}),u.emit("itempanning",t),u.draw()}})})},function(t,e,n){var r=n(12),h=n(27),l=n(14);r.registerBehaviour("wheelChangeViewport",function(s){var u,c=s.getGraph();c.behaviourOn("wheel",function(t){t.domEvent.preventDefault()}),c.behaviourOn("wheel",l.throttle(function(t){if(!s.getSignal("preventWheelPan")){var e=t.domEvent,n=s.getSignal("wheelZoom");if(u||s.setCapture(!1),n){var r=e.wheelDelta;if(10<Math.abs(r)){var i=c.getMatrix()[0];0<r?c.zoom({x:t.x,y:t.y},1.05*i):c.zoom({x:t.x,y:t.y},i*(1/1.05))}}else{var o=[],a=c.getMatrix();l.mat3.translate(o,a,[e.wheelDeltaX*h.wheelPanRatio,e.wheelDeltaY*h.wheelPanRatio]),s.translateLimt(o)&&c.updateMatrix(o)}u&&clearTimeout(u),u=setTimeout(function(){s.setCapture(!0),u=void 0},50)}},16))})},function(t,e,n){var r=n(12),i=n(14);r.registerBehaviour("panCanvas",i.getPanCanvasBehaviour())},function(t,e,n){n(12).registerBehaviour("hoverButton",function(e){e.getGraph().behaviourOn("mouseenter",function(t){e.getSignal("panningItem")||t.shape&&t.shape.isButton&&e.css({cursor:"pointer"})})})},function(t,e,n){var r=n(12),i=n(14);r.registerBehaviour("panBlank",i.getPanCanvasBehaviour(!0))},function(t,e,n){n(165),n(164),n(163),n(162),n(161),n(160),n(159),n(158),n(157),n(156),n(155),n(154),n(153),n(152),n(151),n(150),n(149),n(148)},function(t,e){t.exports={AUGMENT:{updateStatus:function(){var t,e=this.getSelected();0===e.length?t="canvas-selected":1===e.length?e[0].isNode?t="node-selected":e[0].isEdge?t="edge-selected":e[0].isGroup&&(t="group-selected"):t="multi-selected",this.emit("statuschange",{status:t})}}}},function(t,e,n){var l=n(14),r={CFG:{labelEditable:!1},INIT:"_initLabelEditor"};r.AUGMENT={_initLabelEditor:function(){var n=this;if(this.get("labelEditable")){var e=this.getGraph(),t=l.createDOM('<div contenteditable="true" role="textbox" tabindex="1" class="g6-label-editor"></div>',{position:"absolute",visibility:"hidden","z-index":"2",padding:"0px 2px 0px 0px",resize:"none",width:"auto",height:"auto",outline:"none",border:"1px solid #1890FF","transform-origin":"left top","max-width":"320px",background:"white","box-sizing":"content-box"});e.getGraphContainer().appendChild(t),t.on("blur",function(t){t.stopPropagation(),e.destroyed||n.endEditLabel()}),t.on("keydown",function(t){t.stopPropagation();var e=l.getKeyboradKey(t);(t.metaKey&&"s"===e||t.ctrlKey&&"s"===e)&&t.preventDefault(),"Enter"!==e&&"Escape"!==e||n.endEditLabel()}),this.set("labelTextArea",t),e.on("beforeviewportchange",function(){t.focusItem&&n.setLabelEditorBeginPosition(t.focusItem)})}},_getLabelTextAreaBox:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[0,0];e&&t.attr("text",e);var r=this.getGraph().getRootGroup(),i=l.getBBox(t,r);return{minX:i.minX-n[1],minY:i.minY-n[0],maxX:i.maxX+n[1],maxY:i.maxY+n[0]}},setLabelEditorBeginPosition:function(t){var e=this.get("labelTextArea"),n=t.getLabel();if(n){var r=this._getLabelTextAreaBox(n),i=n.attr("lineHeight"),o=n.attr("fontSize"),a={x:r.minX,y:r.minY-i/4+o/4-1,width:r.maxX-r.minX,height:r.maxY-r.minY};e.css({top:a.y+"px",left:a.x+"px"}),e.labelPoint=a}else{var s=this.getGraph().getRootGroup(),u=t.getKeyShape(),c=l.getBBox(u,s),h={x:c.minY+(c.maxY-c.minY-e.height())/2,y:(c.minX+c.maxX)/2};e.css({top:h.x+"px",left:h.y+"px"}),e.labelPoint=h}},beginEditLabel:function(t){var e=this.get("labelTextArea"),n=this.getGraph();if(l.isString(t)&&(t=n.find(t)),t&&!t.destroyed&&e){this.setSignal("preventWheelPan",!0);var r=t.getModel(),i=t.getLabel(),o=n.getZoom();if(e.focusItem=t,i){var a=i.attr("lineHeight"),s=this._getLabelTextAreaBox(i),u=(s.maxX-s.minX)/o,c=(s.maxY-s.minY+a/4)/o;e.innerHTML=r.label,e.innerHTML=r.label,e.css({"min-width":u+"px","min-height":c+"px",visibility:"visible","font-family":i.attr("fontFamily"),"line-height":a+"px","font-size":i.attr("fontSize")+"px",transform:"scale("+o+")"})}else e.innerHTML="",e.css({"min-width":"auto","min-height":"auto"});this.setLabelEditorBeginPosition(t),e.css({visibility:"visible"}),e.focus(),document.execCommand("selectAll",!1,null)}},endEditLabel:function(){var t=this.get("labelTextArea");if(this.setSignal("preventWheelPan",!1),t){var e=t.focusItem;if(e){var n=e.getModel(),r=this.editor;n.label!==t.textContent&&r.executeCommand("update",{action:"updateLabel",itemId:e.id,updateModel:{label:t.textContent}}),t.hide(),t.focusItem=void 0,this.focusGraphWrapper()}}}},t.exports=r},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=n(18),u=n(27),m=n(14);function v(t,e){return{line:t,point:e,dis:m.pointLineDistance(t[0],t[1],t[2],t[3],e.x,e.y)}}var c=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,o(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,s),function(t,e){i(t.prototype,e)}(t,[{key:"getDefaultCfg",value:function(){return{line:u.alignLineStyle,item:!0,grid:!1,tolerance:5,_horizontalLines:{},_verticalLines:{},_alignLines:[]}}},{key:"init",value:function(){this.item&&this._cacheBoxLine()}},{key:"_cacheBoxLine",value:function(){var t=this.graph,r=this._horizontalLines,i=this._verticalLines,o=this.item;t.on("afteritemdraw",function(t){var e=t.item;if(!m.isEdge(e)){var n=e.getBBox();!0===o||"horizontal"===o?(r[e.id+"tltr"]=[n.minX,n.minY,n.maxX,n.minY,e],r[e.id+"lcrc"]=[n.minX,n.centerY,n.maxX,n.centerY,e],r[e.id+"blbr"]=[n.minX,n.maxY,n.maxX,n.maxY,e]):"center"===o&&(r[e.id+"lcrc"]=[n.minX,n.centerY,n.maxX,n.centerY,e]),!0===o||"vertical"===o?(i[e.id+"tlbl"]=[n.minX,n.minY,n.minX,n.maxY,e],i[e.id+"tcbc"]=[n.centerX,n.minY,n.centerX,n.maxY,e],i[e.id+"trbr"]=[n.maxX,n.minY,n.maxX,n.maxY,e]):"center"===o&&(i[e.id+"tcbc"]=[n.centerX,n.minY,n.centerX,n.maxY,e])}}),t.on("beforeitemdestroy",function(t){var e=t.item;delete r[e.id+"tltr"],delete r[e.id+"lcrc"],delete r[e.id+"blbr"],delete i[e.id+"tlbl"],delete i[e.id+"tcbc"],delete i[e.id+"trbr"]})}},{key:"align",value:function(t,e){var n=m.mix({},t),r=this.flow.getController("grid");return this.grid&&r&&r.visible&&this._gridAlign(t,e),this.item&&this._itemAlign(t,e,n),t}},{key:"_gridAlign",value:function(t,e){var n=this.flow,r=this.grid,i=n.getGridCell();if("cc"===r){var o=Math.round((t.x+e.width/2)/i)*i,a=Math.round((t.y+e.height/2)/i)*i;t.x=o-e.width/2,t.y=a-e.height/2}else t.x=Math.round(t.x/i)*i,t.y=Math.round(t.y/i)*i}},{key:"_itemAlign",value:function(t,e,n){var r=this._horizontalLines,i=this._verticalLines,o=this.tolerance,a={x:n.x+e.width/2,y:n.y},s={x:n.x+e.width/2,y:n.y+e.height/2},u={x:n.x+e.width/2,y:n.y+e.height},c={x:n.x,y:n.y+e.height/2},h={x:n.x+e.width,y:n.y+e.height/2},l=[],f=[],d=null;if(this.clearAlignLine(),m.each(r,function(t){t[4].isVisible()&&(l.push(v(t,a)),l.push(v(t,s)),l.push(v(t,u)))}),m.each(i,function(t){t[4].isVisible()&&(f.push(v(t,c)),f.push(v(t,s)),f.push(v(t,h)))}),l.sort(function(t,e){return t.dis-e.dis}),f.sort(function(t,e){return t.dis-e.dis}),0!==l.length&&l[0].dis<o){t.y=l[0].line[1]-l[0].point.y+n.y,d={type:"item",horizontals:[l[0]]};for(var g=1;g<3;g++)l[0].dis===l[g].dis&&d.horizontals.push(l[g])}if(0!==f.length&&f[0].dis<o){t.x=f[0].line[0]-f[0].point.x+n.x,d?d.verticals=[f[0]]:d={type:"item",verticals:[f[0]]};for(var p=1;p<3;p++)f[0].dis===f[p].dis&&d.verticals.push(f[p])}d&&(d.bbox=e,this._addAlignLine(d))}},{key:"clearAlignLine",value:function(){var t=this._alignLines;m.each(t,function(t){t.remove()}),this._alignLines=[]}},{key:"_addAlignLine",value:function(t){var s=t.bbox,u=this.graph.getRootGroup(),c=this.line,h=this._alignLines;"item"===t.type&&(t.horizontals&&m.each(t.horizontals,function(t){var e,n,r=t.line,i=t.point,o=(r[0]+r[2])/2;n=i.x<o?(e=i.x-s.width/2,Math.max(r[0],r[2])):(e=i.x+s.width/2,Math.min(r[0],r[2]));var a=u.addShape("line",{attrs:m.mix({x1:e,y1:r[1],x2:n,y2:r[1]},c),capture:!1});h.push(a)}),t.verticals&&m.each(t.verticals,function(t){var e,n,r=t.line,i=t.point,o=(r[1]+r[3])/2;n=i.y<o?(e=i.y-s.height/2,Math.max(r[1],r[3])):(e=i.y+s.height/2,Math.min(r[1],r[3]));var a=u.addShape("line",{attrs:m.mix({x1:r[0],y1:e,x2:r[0],y2:n},c),capture:!1});h.push(a)}))}}]),t}();t.exports=c},function(t,e,n){var r=n(169),i={CFG:{align:{}},INIT:"_initAlign"};i.AUGMENT={_initAlign:function(){var t=this.get("align"),e=this.get("_graph"),n=new r(function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({flow:this,graph:e},t));this.setController("align",n)},align:function(t,e,n){return this.getController("align").align(t,e,n)},clearAlignLine:function(){return this.getController("align").clearAlignLine()}},t.exports=i},function(t,e,n){var u=n(14),r={CFG:{activeable:!0,_activedCache:{}},INIT:"_initActived"};r.AUGMENT={_initActived:function(){var n=this,t=this.get("_graph");t.on("afteritemdraw",function(t){var e=t.item;e.isActived&&n.setItemActived(e)}),t.on("beforeitemdestroy",function(t){n.clearItemActived(t.item)})},setItemActived:function(t){var e=this.get("_graph").getShapeObj(t),n=this.get("_activedCache"),r=e.getActivedStyle(t),i=t.getKeyShape();n[t.id]=t,r&&i.attr(r),t.isEdge&&(t.startArrow&&t.startArrow.attr({fill:r.stroke}),t.endArrow&&t.endArrow.attr({fill:r.stroke}))},clearItemActived:function(t){var e=this.get("_graph"),n=t.getKeyShape(),r=e.getShapeObj(t),i=r.getStyle(t),o=this.get("_activedCache"),a=r.getActivedStyle(t),s=u.getContrast(i,a);n.attr(s),t.isEdge&&(t.startArrow&&t.startArrow.attr({fill:s.stroke}),t.endArrow&&t.endArrow.attr({fill:s.stroke})),delete o[t.id]},setActived:function(t,e){var n,r=this,i=this.get("activeable"),o=this.get("_graph");i&&(n=u.isArray(t)?t:[t],u.each(n,function(t){u.isString(t)&&(t=o.find(t)),t&&!t.destroyed&&(e?(r.emit("beforeitemactived",{item:t}),r.setItemActived(t),r.emit("afteritemactived",{item:t})):(r.emit("beforeitemunactived",{item:t}),r.clearItemActived(t),r.emit("afteritemunactived",{item:t})),t.isActived=e)}),o.draw())},getActived:function(){var t=this.get("_activedCache");return u.objectToValues(t)},clearActived:function(){var e=this,t=this.get("_graph"),n=this.get("_activedCache");u.each(n,function(t){t.isActived&&e.setActived(t,!1)}),t.draw()}},t.exports=r},function(t,e,n){var u=n(14),r={CFG:{selectable:!0,multiSelectable:!0,_selectedCache:{}},INIT:"_initSelected"};r.AUGMENT={_initSelected:function(){var n=this,t=this.get("_graph");t.on("afteritemdraw",function(t){var e=t.item;e.isSelected&&n.setItemSelected(e)}),t.on("beforeitemdestroy",function(t){n.clearItemSelected(t.item)})},setItemSelected:function(t){var e=this.get("_graph").getShapeObj(t).getSelectedStyle(t),n=t.getKeyShape();this.get("_selectedCache")[t.id]=t,e&&n.attr(e),t.isEdge&&(t.startArrow&&t.startArrow.attr({fill:e.stroke}),t.endArrow&&t.endArrow.attr({fill:e.stroke}))},clearItemSelected:function(t){var e=this.get("_graph"),n=t.getKeyShape(),r=e.getShapeObj(t),i=r.getStyle(t),o=r.getSelectedStyle(t),a=this.get("_selectedCache"),s=u.getContrast(i,o);n.attr(s),t.isEdge&&(t.startArrow&&t.startArrow.attr({fill:s.stroke}),t.endArrow&&t.endArrow.attr({fill:s.stroke})),delete a[t.id]},setSelected:function(t,e){var n,r=this,i=this.get("selectable"),o=this.get("_graph");i&&(n=u.isArray(t)?t:[t],u.each(n,function(t){u.isString(t)&&(t=o.find(t)),t&&!t.destroyed&&(e?(r.emit("beforeitemselected",{item:t}),r.setItemSelected(t),r.emit("afteritemselected",{item:t})):(r.emit("beforeitemunselected",{item:t}),r.clearItemSelected(t),r.emit("afteritemunselected",{item:t})),t.isSelected=e,r.updateStatus(),o.draw())}))},getSelected:function(){var t=this.get("_selectedCache");return u.objectToValues(t)},clearSelected:function(){var e=this,t=this.get("_graph"),n=this.get("_selectedCache");u.each(n,function(t){t.isSelected&&e.setSelected(t,!1)}),t.draw()}},t.exports=r},function(t,e){var n={};function r(t,e,n){t.on(n,function(t){e.emit(n,t)}),t.on("node:"+n,function(t){e.emit("node:"+n,t)}),t.on("edge:"+n,function(t){e.emit("edge:"+n,t)}),t.on("group:"+n,function(t){e.emit("group:"+n,t)}),t.on("anchor:"+n,function(t){e.emit("anchor:"+n,t)})}n.INIT="_initEvent",n.AUGMENT={_initEvent:function(){var e=this,t=this.get("_graph");r(t,this,"click"),r(t,this,"dblclick"),r(t,this,"mouseenter"),r(t,this,"mouseleave"),r(t,this,"mousedown"),r(t,this,"mouseup"),r(t,this,"contextmenu"),t.on("keydown",function(t){e.emit("keydown",t)}),t.on("keyup",function(t){e.emit("keyup",t)}),t.on("beforechange",function(t){e.emit("beforechange",t)}),t.on("afterchange",function(t){e.emit("afterchange",t)}),t.on("afterviewportchange",function(t){e.emit("afterviewportchange",t),t.updateMatrix[0]!==t.originMatrix[0]&&e.emit("afterzoom",t)}),t.on("beforeviewportchange",function(t){e.emit("beforeviewportchange",t),t.updateMatrix[0]!==t.originMatrix[0]&&e.emit("beforezoom",t)})}},t.exports=n},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=n(18),u=n(27),c=n(14),h=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,o(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,s),function(t,e){i(t.prototype,e)}(t,[{key:"getDefaultCfg",value:function(){return{cell:16,line:u.gridStyle,type:"point",visible:!0}}},{key:"init",value:function(){this._draw(),this._onViewPortChange(),this.visible||this.hide()}},{key:"_onViewPortChange",value:function(){var t=this,e=this.graph;e.on("afterviewportchange",function(){t.update()}),e.on("beforechangesize",function(){t.update()})}},{key:"_draw",value:function(){var t=this.graph,e=this._getPath(),n=t.getRootGroup(),r=c.mix({},this.line),i=t.getMatrix(),o=this.type,a="line"===o?1/i[0]:2/i[0];"point"===o&&(r.lineDash=null),r.lineWidth=a,r.path=e;var s=n.addShape("path",{attrs:r,capture:!1,zIndex:0});c.toBack(s,n),this.gridEl=s}},{key:"show",value:function(){this.gridEl.show(),this.visible=!0}},{key:"hide",value:function(){this.gridEl.hide(),this.visible=!1}},{key:"_getLinePath",value:function(){for(var t=this.graph,e=t.get("width"),n=t.get("height"),r=t.getPoint({x:0,y:0}),i=t.getPoint({x:e,y:n}),o=this.cell,a=Math.ceil(r.x/o)*o,s=Math.ceil(r.y/o)*o,u=[],c=0;c<=i.x-r.x;c+=o){var h=a+c;u.push(["M",h,r.y]),u.push(["L",h,i.y])}for(var l=0;l<=i.y-r.y;l+=o){var f=s+l;u.push(["M",r.x,f]),u.push(["L",i.x,f])}return u}},{key:"_getPointPath",value:function(){for(var t=this.graph,e=t.get("width"),n=t.get("height"),r=t.getPoint({x:0,y:0}),i=2/t.getMatrix()[0],o=t.getPoint({x:e,y:n}),a=this.getCell(),s=Math.ceil(r.x/a)*a,u=Math.ceil(r.y/a)*a,c=[],h=0;h<=o.x-r.x;h+=a)for(var l=s+h,f=0;f<=o.y-r.y;f+=a){var d=u+f;c.push(["M",l,d]),c.push(["L",l+i,d])}return c}},{key:"getCell",value:function(){var t=this.cell,e=this.graph.getMatrix()[0];return t*e<9.6?9.6/e:t}},{key:"_getPath",value:function(){var t=this.type;return this["_get"+c.upperFirst(t)+"Path"]()}},{key:"update",value:function(t){c.mix(this,t);var e=this._getPath(),n=this.gridEl,r=this.graph.getMatrix(),i="line"===this.type?1/r[0]:2/r[0];n.attr("lineWidth",i),n.attr("path",e)}},{key:"destroy",value:function(){var t=this.gridEl;t&&t.remove()}}]),t}();t.exports=h},function(t,e,n){var r=n(174),i=n(14),o={CFG:{grid:void 0},INIT:"_initGrid"};o.AUGMENT={_initGrid:function(){var t=this.get("grid"),e=this.get("_graph");if(t){var n=new r(function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({page:this,graph:e},t));this.setController("grid",n)}},showGrid:function(t){var e=this.get("_graph"),n=this.getController("grid");n||(t?i.isObject(t)&&this.set("grid",t):this.set("grid",!0),this._initGrid()),(n=this.getController("grid")).show(),e.draw()},hideGrid:function(){var t=this.get("_graph"),e=this.getController("grid");e&&e.hide(),t.draw()},getGridCell:function(){return this.getController("grid").getCell()}},t.exports=o},function(t,e,n){var r=n(14),i={INIT:"_initGraph"};i.AUGMENT={_initGraph:function(){var t=this.get("graph"),e=new(this.get("graphConstructor"))(function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({page:this},t));e.draw(),this.set("_graph",e)},changeMode:function(t){this.get("_graph").changeMode(t)},updateMatrix:function(t){this.get("_graph").updateMatrix(t)},getMode:function(){return this.get("_graph").get("mode")},getMatrix:function(){return this.get("_graph").getMatrix()},getZoom:function(){return this.get("_graph").getMatrix()[0]},getMaxZoom:function(){return this.get("_graph").get("maxZoom")},getMinZoom:function(){return this.get("_graph").get("minZoom")},getGraph:function(){return this.get("_graph")},getItems:function(){return this.get("_graph").getItems()},getNodes:function(){return this.get("_graph").getNodes()},translate:function(t,e){return this.get("_graph").translate(t,e)},getEdges:function(){return this.get("_graph").getEdges()},getGroups:function(){return this.get("_graph").getGroups()},render:function(){return this.get("_graph").render(),this},add:function(t,e){return this.get("_graph").add(t,e),this},focusPointByDom:function(t){return this.get("_graph").focusPointByDom(t),this},focusPoint:function(t){return this.get("_graph").focusPoint(t),this},find:function(t){return this.get("_graph").find(t)},focus:function(t){var e=this.get("_graph"),n=e.find(t);if(n){var r=n.getCenter();e.focusPoint(r)}return this},save:function(){return this.get("_graph").save()},read:function(t){this.get("_graph").read(t)},clear:function(){this.get("_graph").clear()},remove:function(t){return this.get("_graph").remove(t),this},update:function(t,e){return this.get("_graph").update(t,e),this},zoom:function(t,e){return this.get("_graph").zoom(t,e),this},getDomPoint:function(t){return this.get("_graph").getDomPoint(t)},getPoint:function(t){return this.get("_graph").getPoint(t)},zoomByDom:function(t,e){var n=this.get("_graph"),r=n.getPoint(t);return n.zoom(r,e),this},autoZoom:function(){return this.get("_graph").autoZoom(),this},resetZoom:function(){var t=this.get("_graph"),e=t.getWidth(),n=t.getHeight();return t.zoomByDom({x:e/2,y:n/2},1),this},css:function(t){var e=this.get("_graph").getMouseEventWrapper();r.modifyCSS(e,t)},setCapture:function(t){this.get("_graph").getRootGroup().set("capture",t)},destroy:function(){this.get("_graph").destroy()},delete:function(){var t=this.getSelected(),e=this.get("_graph");r.each(t,function(t){e.remove(t)})}},t.exports=i},function(t,e){t.exports="1.2.0"},function(t,e,n){var r=n(49);r.registerCommand("collapseExpand",{getItem:function(t){var e=t.getCurrentPage(),n=e.getGraph();return this.itemId?n.find(this.itemId):e.getSelected()[0]},enable:function(t){var e=this.getItem(t);return e&&!1!==e.collapseExpand&&0<e.getChildren().length},execute:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=this.getItem(t);r.getModel().collapsed?(n.update(r,{collapsed:!1}),this.toCollapsed=!1):(n.update(r,{collapsed:!0}),this.toCollapsed=!0),e.clearSelected(),e.setSelected(r,!0),1===this.executeTimes&&(this.itemId=r.id)},back:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=this.getItem(t);this.toCollapsed?n.update(r,{collapsed:!1}):n.update(r,{collapsed:!0}),e.clearSelected(),e.setSelected(r,!0)},shortcutCodes:[["metaKey","/"],["ctrlKey","/"]]}),r.registerCommand("collapse",{enable:function(t){var e=this.getItem(t);return e&&!1!==e.collapseExpand&&0<e.getChildren().length&&!e.getModel().collapsed}},"collapseExpand"),r.registerCommand("expand",{enable:function(t){var e=this.getItem(t);return e&&!1!==e.collapseExpand&&0<e.getChildren().length&&e.getModel().collapsed}},"collapseExpand")},function(t,e,n){var r=n(49);function i(t){var e=t.getCurrentPage();this.matrixCache=e.getMatrix().slice(0),this._zoom(t),e.updateStatus()}function o(t){t.getCurrentPage().updateMatrix(this.matrixCache)}r.registerCommand("zoomTo",{_zoom:function(t){t.getCurrentPage().zoom(Number(this.zoom))},queue:!1,execute:i,back:o}),r.registerCommand("zoomIn",{enable:function(t){var e=t.getCurrentPage(),n=e.getMaxZoom(),r=e.getMinZoom(),i=e.getZoom();return i<n||i===r},_zoom:function(t){var e=t.getCurrentPage(),n=t.get("_command"),r=e.getZoom(),i=e.getMaxZoom(),o=r+n.zoomDelta;i<=o&&(o=i),e.zoom(o)},queue:!1,execute:i,back:o,shortcutCodes:[["metaKey","="],["ctrlKey","="]]}),r.registerCommand("zoomOut",{enable:function(t){var e=t.getCurrentPage(),n=e.getMaxZoom(),r=e.getMinZoom(),i=e.getZoom();return r<i||i===n},_zoom:function(t){var e=t.getCurrentPage(),n=e.getZoom(),r=e.getMinZoom(),i=n-t.get("_command").zoomDelta;i<=r&&(i=r),e.zoom(i)},queue:!1,execute:i,back:o,shortcutCodes:[["metaKey","-"],["ctrlKey","-"]]}),r.registerCommand("autoZoom",{enable:function(){return!0},_zoom:function(t){t.getCurrentPage().autoZoom()},queue:!1,execute:i,back:o}),r.registerCommand("resetZoom",{enable:function(){return!0},_zoom:function(t){t.getCurrentPage().resetZoom()},queue:!1,execute:i,back:o,shortcutCodes:[["metaKey","0"],["ctrlKey","0"]]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=[],n=(0,c.default)(t),r=h;0<r;r-=1){var i=n.toHsv(),o=(0,c.default)({h:f(i,r,!0),s:d(i,r,!0),v:g(i,r,!0)}).toHexString();e.push(o)}e.push(n.toHexString());for(var a=1;a<=l;a+=1){var s=n.toHsv(),u=(0,c.default)({h:f(s,a),s:d(s,a),v:g(s,a)}).toHexString();e.push(u)}return e};var c=function(t){return t&&t.__esModule?t:{default:t}}(n(83)),i=2,o=16,a=5,r=5,s=15,h=5,l=4;function f(t,e,n){var r=void 0;return(r=60<=Math.round(t.h)&&Math.round(t.h)<=240?n?Math.round(t.h)-i*e:Math.round(t.h)+i*e:n?Math.round(t.h)+i*e:Math.round(t.h)-i*e)<0?r+=360:360<=r&&(r-=360),r}function d(t,e,n){if(0===t.h&&0===t.s)return t.s;var r=void 0;return 100<(r=n?Math.round(100*t.s)-o*e:e===l?Math.round(100*t.s)+o:Math.round(100*t.s)+a*e)&&(r=100),n&&e===h&&10<r&&(r=10),r<6&&(r=6),r}function g(t,e,n){return n?Math.round(100*t.v)+r*e:Math.round(100*t.v)-s*e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.presetPrimaryColors=e.presetPalettes=e.generate=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(180)),i={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},o={};Object.keys(i).forEach(function(t){o[t]=(0,r.default)(i[t])}),e.generate=r.default,e.presetPalettes=o,e.presetPrimaryColors=i},function(t,e,n){var r=n(17).Util;t.exports={getGroupIconPath:function(){return"M9.75,9.60000014 L3.75,9.60000014 C3.33578644,9.60000014 3,9.2865995 3,8.90000022 C3,8.51340093 3.33578644,8.20000029 3.75,8.20000029 L9.75,8.20000029 C10.1642136,8.20000029 10.5,8.51340093 10.5,8.90000022 C10.5,9.2865995 10.1642136,9.60000014 9.75,9.60000014 M3,11.6999999 C3,11.3134006 3.33578644,11 3.75,11 L6.75,11 C7.16421356,11 7.5,11.3134006 7.5,11.6999999 C7.5,12.0865992 7.16421356,12.3999999 6.75,12.3999999 L3.75,12.3999999 C3.33578644,12.3999999 3,12.0865992 3,11.6999999 M3.75,13.7999997 L6.75,13.7999997 C7.16421356,13.7999997 7.5,14.1134004 7.5,14.4999996 C7.5,14.8865989 7.16421356,15.1999996 6.75,15.1999996 L3.75,15.1999996 C3.33578644,15.1999996 3,14.8865989 3,14.4999996 C3,14.1134004 3.33578644,13.7999997 3.75,13.7999997 M16.4985,4.00000072 L1.5015,4.00000072 C0.674533504,3.99922416 0.00289396564,4.6232696 0,5.39510058 L0,16.6048994 C0.00289396564,17.3767304 0.674533504,18.0007758 1.5015,17.9999993 L16.4985,17.9999993 C17.3254665,18.0007758 17.997106,17.3767304 18,16.6048994 L18,5.39510058 C17.997106,4.6232696 17.3254665,3.99922416 16.4985,4.00000072M19,13.9999993 L19,3 L5,3 L5,1.39510058 C5.00289397,0.623269599 5.6745335,-0.00077583787 6.5015,7.23978642e-07 L21.4985,7.23978642e-07 C22.3254665,-0.00077583787 22.997106,0.623269599 23,1.39510058 L23,12.6048994 C22.997106,13.3767304 22.3254665,14.0007758 21.4985,13.9999993 L19,13.9999993 Z"},getCollapsedButtonPath:function(){return r.getRectPath(0,0,14,14,2)+"M3,7L11,7"},getExpandedButtonPath:function(){return r.getRectPath(0,0,14,14,2)+"M3,7L11,7M7,3L7,11"}}},function(a,t,s){var u;!function(t){"use strict";function e(){}var n=e.prototype,r=t.EventEmitter;function o(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}n.getListeners=function(t){var e,n,r=this._getEvents();if(t instanceof RegExp)for(n in e={},r)r.hasOwnProperty(n)&&t.test(n)&&(e[n]=r[n]);else e=r[t]||(r[t]=[]);return e},n.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},n.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&((e={})[t]=n),e||n},n.addListener=function(t,e){if(!function t(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&t(e.listener)}(e))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(t),i="object"==typeof e;for(n in r)r.hasOwnProperty(n)&&-1===o(r[n],e)&&r[n].push(i?e:{listener:e,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,e){var n,r,i=this.getListenersAsObject(t);for(r in i)i.hasOwnProperty(r)&&-1!==(n=o(i[r],e))&&i[r].splice(n,1);return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,n){var r,i,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(r=n.length;r--;)o.call(this,e,n[r]);else for(r in e)e.hasOwnProperty(r)&&(i=e[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},n.removeEvent=function(t){var e,n=typeof t,r=this._getEvents();if("string"==n)delete r[t];else if(t instanceof RegExp)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var n,r,i,o,a=this.getListenersAsObject(t);for(o in a)if(a.hasOwnProperty(o))for(n=a[o].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(t,r.listener),r.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,r.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return t.EventEmitter=r,e},void 0===(u=function(){return e}.call(t,s,t,a))||(a.exports=u)}("undefined"!=typeof window?window:this||{})},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=n(65),h=n(19),u=n(38),c=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,o(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,s),function(t,e){i(t.prototype,e)}(t,[{key:"getDefaultCfg",value:function(){return{_components:[],_command:{zoomDelta:.1,queue:[],current:0,clipboard:[]}}}},{key:"_getComponentsBy",value:function(t){return this.get("_components").filter(t)}},{key:"_bindCommands",value:function(t){var r=this;h.each(t,function(t){var e=t.dataset,n=e.command;u[n]?h.addEventListener(t,"click",function(){r.getCurrentPage().focusGraphWrapper(),r.executeCommand(n,e)}):console.warn("")})}},{key:"getCommands",value:function(){return this.get("_command").queue}},{key:"getCurrentCommand",value:function(){var t=this.get("_command");return t.queue[t.current-1]}},{key:"executeCommand",value:function(t,e){h.isString(t)?u.execute(t,this,e):u.execute("common",this,{method:t},e)}},{key:"commandEnable",value:function(t){return u.enable(t,this)}},{key:"setCommandDOMenable",value:function(){var n=this,t=this.getComponentsByType("toolbar"),e=this.getComponentsByType("contextmenu"),r=[];t.forEach(function(t){h.each(t.getCommandDoms(),function(t){r.push(t)})}),e.forEach(function(t){h.each(t.getCommandDoms(),function(t){r.push(t)})}),h.each(r,function(t){var e=t.dataset.command;u.enable(e,n)?t.classList.remove("disable"):t.classList.add("disable")})}},{key:"_onPageStatusChange",value:function(){this.setCommandDOMenable()}},{key:"_beforeAddMinimap",value:function(e){var t=this,n=this.getComponentsByType("page");e.getGraph=function(){return t.getCurrentPage().getGraph()},0!==n.length&&n.forEach(function(t){e.bindPage(t)})}},{key:"_afterAddContextmenu",value:function(){this.getCurrentPage()&&this.setCommandDOMenable()}},{key:"_afterAddPage",value:function(a){var s=this,t=this.getComponentsByType("minimap");this.setCommandDOMenable(),t.forEach(function(t){t.bindPage(a)}),a.on("statuschange",function(t){s._onPageStatusChange(t)}),a.on("mousedown",function(){s.getComponentsByType("contextmenu").forEach(function(t){t.hide()})}),a.on("contextmenu",function(e){var t=s.getComponentsByType("contextmenu"),n=a.getGraph().getCanvas().get("el"),r=h.getBoundingClientRect(n),i={x:e.x,y:e.y},o=e.item;o&&!o.isSelected&&(a.clearSelected(),a.setSelected(e.item,!0)),s.set("contextmenuPoint",i),e.domEvent.preventDefault(),t.forEach(function(t){t.show(),t.contextmenuPoint=i,t.move(r.left+e.domX,r.top+e.domY)})}),a.on("statuschange",function(e){var t=s.getComponentsByType("contextmenu"),n=s.getComponentsByType("detailpannel");t.forEach(function(t){t.switch(e.status)}),n.forEach(function(t){t.switch(e.status)})}),this._bindShortcut(a)}},{key:"_beforeAddToolbar",value:function(t){var e=t.getCommandDoms();this._bindCommands(e)}},{key:"_beforeAddContextmenu",value:function(t){var e=t.getCommandDoms();t.bindEvent(),this._bindCommands(e)}},{key:"_beforeAddItempannel",value:function(t){t.bindEvent()}},{key:"getComponentsByType",value:function(e){return this._getComponentsBy(function(t){return t.type===e})}},{key:"getCurrentPage",value:function(){var e,t=this.getComponentsByType("page");return t.every(function(t){return!t.isActived||(e=t,!1)}),e||(e=t[0]),e}},{key:"getComponents",value:function(){return this.get("_components")}},{key:"_shortcutEnable",value:function(t,e){for(var n=t.shortcutCodes,r=h.getKeyboradKey(e),i=!1,o=0;o<n.length;o++){var a=n[o];if(h.isArray(a)){for(var s=a.length,u=!0,c=0;c<s-1;c++)if(!e[a[c]]){u=!1;break}a[s-1]!==r&&a[s-1]!==h.lowerFirst(r)||!u||(i=!0)}else a===r&&(i=!0);if(i)break}return i}},{key:"_bindShortcut",value:function(t){var a=this,s=t.get("shortcut");t.getGraph().on("keydown",function(t){var e=a.getComponentsByType("contextmenu"),n=t.domEvent;e.forEach(function(t){t.hide()}),n.preventDefault();for(var r=u.list.filter(function(t){return t.shortcutCodes&&s[t.name]}),i=0;i<r.length;i++){var o=r[i];if(a._shortcutEnable(o,n))return a.executeCommand(o.name),!1}})}},{key:"add",value:function(t){var e=this.get("_components"),n=h.upperFirst(t.type);(t.editor=this)["_beforeAdd"+n]&&this["_beforeAdd"+n](t),e.push(t),this["_afterAdd"+n]&&this["_afterAdd"+n](t)}},{key:"destroy",value:function(){this.get("_components").forEach(function(t){t.destroy()})}}]),t}();t.exports=c}])}}]);
//# sourceMappingURL=26.0cbbe626ebb6edb24214.js.map