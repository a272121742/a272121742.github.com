{"version":3,"sources":["webpack:///./src/modules/SimulationOperation/view/InoutVarsConfiguration.vue?387f","webpack:///./src/modules/SimulationOperation/view/InoutVarsConfiguration.vue?4a2d","webpack:///src/modules/SimulationOperation/view/InoutVarsConfiguration.vue","webpack:///./src/modules/SimulationOperation/view/InoutVarsConfiguration.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","title","width","on","ok","handleSaved","cancel","showmodal","model","value","showModal","callback","$$v","expression","row-key","r","i","columns","data-source","data","pagination","scroll","y","size","bordered","scopedSlots","_u","key","fn","text","record","index","_v","_s","default-value","change","defvalue","checked","e","saved","target","_withStripped","view_InoutVarsConfigurationvue_type_script_lang_js_","name","props","dataString","type","String","default","customRender","dataIndex","customRow","click","console","log","editable","watch","init","created","methods","$set","convertInoutVars","show","Object","pipe","util","reconvertInoutVars","partialRight","JSON","stringify","$emit","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/16.96a5cfa7b31a14927317.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"keep-alive\",\n    [\n      _c(\n        \"a-modal\",\n        {\n          attrs: { title: \"变量表\", width: 720 },\n          on: {\n            ok: _vm.handleSaved,\n            cancel: function() {\n              return (_vm.showmodal = false)\n            }\n          },\n          model: {\n            value: _vm.showModal,\n            callback: function($$v) {\n              _vm.showModal = $$v\n            },\n            expression: \"showModal\"\n          }\n        },\n        [\n          _c(\"a-table\", {\n            attrs: {\n              \"row-key\": function(r, i) {\n                return i\n              },\n              columns: _vm.columns,\n              \"data-source\": _vm.data,\n              pagination: false,\n              scroll: { y: 250 },\n              size: \"small\",\n              bordered: \"\"\n            },\n            scopedSlots: _vm._u([\n              {\n                key: \"serial\",\n                fn: function(text, record, index) {\n                  return _c(\"span\", {}, [\n                    _vm._v(\"\\n        \" + _vm._s(index + 1) + \"\\n      \")\n                  ])\n                }\n              },\n              {\n                key: \"defvalue\",\n                fn: function(text, record) {\n                  return _c(\"a-input-number\", {\n                    attrs: { value: text, \"default-value\": text },\n                    on: {\n                      change: function(value) {\n                        return (record.defvalue = value)\n                      }\n                    }\n                  })\n                }\n              },\n              {\n                key: \"saved\",\n                fn: function(text, record) {\n                  return _c(\"a-checkbox\", {\n                    attrs: { checked: text === 1 },\n                    on: {\n                      change: function(e) {\n                        return (record.saved = e.target.checked + 0)\n                      }\n                    }\n                  })\n                }\n              }\n            ])\n          })\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/happypack/loader.js?id=happybabel!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InoutVarsConfiguration.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/happypack/loader.js?id=happybabel!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InoutVarsConfiguration.vue?vue&type=script&lang=js&\"","<template>\n  <keep-alive>\n    <a-modal\n      title=\"变量表\"\n      v-model=\"showModal\"\n      :width=\"720\"\n      @ok=\"handleSaved\"\n      @cancel=\"() => showmodal = false\"\n    >\n      <a-table\n        :row-key=\"(r, i) => i\"\n        :columns=\"columns\"\n        :data-source=\"data\"\n        :pagination=\"false\"\n        :scroll=\"{y: 250}\"\n        \n        size=\"small\"\n        bordered\n      >\n        <span\n          slot=\"serial\"\n          slot-scope=\"text, record, index\"\n        >\n          {{ index + 1 }}\n        </span>\n        <!-- 可编辑值 -->\n        <a-input-number\n          slot=\"defvalue\"\n          slot-scope=\"text, record\"\n          :value=\"text\"\n          :default-value=\"text\"\n          @change=\"(value) => record.defvalue = value\"\n        />\n        <a-checkbox\n          slot=\"saved\"\n          slot-scope=\"text, record\"\n          :checked=\"text === 1\"\n          @change=\"(e) => record.saved = e.target.checked + 0\"\n        >\n        </a-checkbox>\n      </a-table>\n    </a-modal>\n  </keep-alive>\n</template>\n\n<script>\nimport { pipe, partialRight } from 'ramda';\nimport { string2json, map2list, list2map } from '@lib/util';\n\nexport default {\n  // 模型变量表格\n  name: 'InoutVarsConfiguration',\n  props: {\n    // 源数据字符串\n    dataString: {\n      type: String,\n      default: ''\n    },\n  },\n  data () {\n    return {\n      showModal: false,\n      columns: [{\n        title: '#',\n        scopedSlots: { customRender: 'serial' },\n        width: 80,\n      }, {\n        title: '变量名称',\n        dataIndex: 'name',\n        key: 'name',\n        width: 120,\n      }, {\n        title: '初始值',\n        dataIndex: 'defvalue',\n        key: 'defvalue',\n        scopedSlots: { customRender: 'defvalue' },\n        width: 180,\n      }, {\n        title: '描述',\n        dataIndex: 'desc',\n        key: 'desc',\n        width: 180,\n      }, {\n        title: '是否保存',\n        dataIndex: 'saved',\n        key: 'saved',\n        scopedSlots: { customRender: 'saved' },\n        width: 120,\n      }],\n      customRow: (record, index) => ({\n        on: {\n          click: () => {\n            console.log('双击');\n            record.editable = true;\n          }\n        }\n      }),\n      data: [],\n    }\n  },\n  watch: {\n    // 当外部`dataString`更新时，重新更新内部数据；\n    dataString () {\n      this.init();\n    }\n  },\n  created () {\n    this.init();\n  },\n  methods: {\n    init () {\n      this.$set(this, 'data', this.convertInoutVars(this.dataString));\n    },\n    // 加载数据\n    show (dataString) {\n      this.$set(this, 'data', this.convertInoutVars(dataString));\n      this.showModal = true;\n    },\n    // 转码 String -> Array<Object>\n    convertInoutVars: pipe(string2json, map2list('name')),\n    // // 转码 Array<Object> -> String\n    reconvertInoutVars: pipe(list2map('name'), partialRight(JSON.stringify, [null, 2])),\n    handleSaved () {\n      this.$emit('change', this.reconvertInoutVars(this.data));\n      this.showModal = false;\n    },\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./InoutVarsConfiguration.vue?vue&type=template&id=26dcd9ea&\"\nimport script from \"./InoutVarsConfiguration.vue?vue&type=script&lang=js&\"\nexport * from \"./InoutVarsConfiguration.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/loong/gitlab/vsee-cloud/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('26dcd9ea', component.options)\n    } else {\n      api.reload('26dcd9ea', component.options)\n    }\n    module.hot.accept(\"./InoutVarsConfiguration.vue?vue&type=template&id=26dcd9ea&\", function () {\n      api.rerender('26dcd9ea', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/modules/SimulationOperation/view/InoutVarsConfiguration.vue\"\nexport default component.exports"],"sourceRoot":""}