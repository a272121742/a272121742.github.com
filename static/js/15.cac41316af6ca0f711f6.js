(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{rLCv:function(e,r,t){"use strict";t.r(r);function a(){var r=this,e=r.$createElement,t=r._self._c||e;return t("a-modal",{attrs:{width:600,title:r.editMode?"编辑端口":"新增端口",visible:r.visible},on:{ok:r.handleOk,cancel:r.handleCancel}},[t("a-form",{attrs:{form:r.form}},[t("a-form-item",{attrs:{label:"端口编号"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["port",{validateFirst:!0,rules:[{required:!0,message:"请输入端口编号"},{validator:r.portUniquedValidator,message:"端口名称重复"},{pattern:/^[A-Za-z][A-Za-z0-9_]*$/,message:"端口名称请遵循变量命名"}]}],expression:"[\n          'port', \n          {\n            validateFirst: true,\n            rules: [\n              { required: true, message: '请输入端口编号'}, \n              { validator: portUniquedValidator, message: '端口名称重复' },\n              { pattern: /^[A-Za-z][A-Za-z0-9_]*$/, message: '端口名称请遵循变量命名' },\n            ]\n          }\n        ]"}],attrs:{placeholder:"请输入端口编号"}})],1),r._v(" "),t("a-form-item",{attrs:{label:"端口类型"}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["type",{rules:[{required:!0,message:"请选择端口类型"}]}],expression:"[\n          'type',\n          {rules: [{ required: true, message: '请选择端口类型'}]}\n        ]"}],attrs:{placeholder:"请选择端口类型"}},[t("a-select-option",{attrs:{value:"in"}},[r._v("\n          输入\n        ")]),r._v(" "),t("a-select-option",{attrs:{value:"out"}},[r._v("\n          输出\n        ")])],1)],1),r._v(" "),t("a-form-item",{attrs:{label:"端口名称"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入端口名称"}]}],expression:"[\n          'name', \n          {rules: [{ \n            required: true, message: '请输入端口名称'}\n          ]}\n        ]"}],attrs:{placeholder:"请输入端口名称"}})],1),r._v(" "),t("a-form-item",{attrs:{label:"可用变量"}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["vars"],expression:"[\n          'vars',\n        ]"}],attrs:{"allow-clear":"",mode:"multiple","not-found-content":"查无变量",placeholder:"请选择端口变量"}},r._l(r.optionalVars,function(e){return t("a-select-option",{key:e},[r._v("\n          "+r._s(e)+"\n        ")])}),1)],1)],1)],1)}a._withStripped=!0;var o=t("MVZn"),n=t.n(o),i=t("8e1d");function s(e){return{port:e.$form.createFormField({value:e.record.port}),type:e.$form.createFormField({value:e.record.type}),name:e.$form.createFormField({value:e.record.name}),vars:e.$form.createFormField({value:e.record.vars})}}var l={name:"PortDefineEdit",props:{existPort:{type:Array,default:function(){return[]}},optionalVars:{type:Array,default:function(){return[]}}},data:function(){return{record:{},visible:!1}},computed:{editMode:function(){return this.record.hasOwnProperty("name")}},watch:{record:function(){this.form.updateFields(s(this))}},created:function(){var e=this;this.form=this.$form.createForm(this,{mapPropsToFields:function(){return s(e)}})},methods:{handleOk:function(){var t=this;this.form.validateFields(function(e){if(!e){var r=t.form.getFieldsValue();r.vars=r.vars.join(","),t.visible=!1,t.$emit("update",n()({},t.record,r)),t.clear()}})},handleCancel:function(){this.visible=!1,this.clear()},portUniquedValidator:function(e,r,t){~this.existPort.indexOf(r)&&r!=this.record.port&&t(new Error),t()},load:function(e){var r=Object(i.g)(",",e.vars);this.$set(this,"record",n()({},e,{vars:r})),this.visible=!0},clear:function(){var e=this;this.$nextTick(function(){e.$set(e,"record",{})})}}},d=t("KHd+"),c=Object(d.a)(l,a,[],!1,null,"78b6a3dc",null);c.options.__file="src/modules/ModelManagement/view/PortDefineEdit.vue";r.default=c.exports}}]);
//# sourceMappingURL=15.cac41316af6ca0f711f6.js.map