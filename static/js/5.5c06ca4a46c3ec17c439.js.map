{"version":3,"sources":["webpack:///./src/modules/demo/view/PortDefine.vue?0fc6","webpack:///./src/modules/demo/view/PortDefine.vue?69e7","webpack:///src/modules/demo/view/PortDefine.vue","webpack:///./src/modules/demo/view/PortDefine.vue","webpack:///./src/modules/demo/view/PortDefine.vue?d032"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","row-key","r","i","columns","data-source","data","pagination","pageSize","Number","MAX_SAFE_INTEGER","scroll","y","size","bordered","scopedSlots","_u","key","fn","text","record","index","_v","_s","_l","col","editable","staticStyle","margin","value","on","change","e","handleChange","target","staticClass","click","handleSave","type","handleCancel","handleEdit","handleRemove","_withStripped","view_PortDefinevue_type_script_lang_js_","name","props","Array","default","h","title","customRender","width","dataIndex","objectSpread_default","handleAdd","count","created","cacheData","map","item","length","console","log","methods","$set","port","vars","Object","clone","pop","prop","$emit","id","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_2_node_modules_less_loader_dist_cjs_js_ref_10_3_node_modules_vue_loader_lib_index_js_vue_loader_options_PortDefine_vue_vue_type_style_index_0_id_5a2b2a1b_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n"],"mappings":"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","file":"static/js/5.5c06ca4a46c3ec17c439.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\"a-table\", {\n        attrs: {\n          \"row-key\": function(r, i) {\n            return i\n          },\n          columns: _vm.columns,\n          \"data-source\": _vm.data,\n          pagination: { pageSize: Number.MAX_SAFE_INTEGER },\n          scroll: { y: 240 },\n          size: \"small\",\n          bordered: \"\"\n        },\n        scopedSlots: _vm._u(\n          [\n            {\n              key: \"serial\",\n              fn: function(text, record, index) {\n                return _c(\"span\", {}, [\n                  _vm._v(\"\\n      \" + _vm._s(index + 1) + \"\\n    \")\n                ])\n              }\n            },\n            _vm._l([\"port\", \"type\", \"name\", \"vars\"], function(col) {\n              return {\n                key: col,\n                fn: function(text, record, index) {\n                  return [\n                    _c(\n                      \"div\",\n                      { key: col },\n                      [\n                        record.editable\n                          ? _c(\"a-input\", {\n                              staticStyle: { margin: \"-5px 0\" },\n                              attrs: { value: text },\n                              on: {\n                                change: function(e) {\n                                  return _vm.handleChange(\n                                    index,\n                                    col,\n                                    e.target.value\n                                  )\n                                }\n                              }\n                            })\n                          : [\n                              _vm._v(\n                                \"\\n          \" + _vm._s(text) + \"\\n        \"\n                              )\n                            ]\n                      ],\n                      2\n                    )\n                  ]\n                }\n              }\n            }),\n            {\n              key: \"operation\",\n              fn: function(text, record, index) {\n                return [\n                  _c(\"div\", { staticClass: \"editable-row-operations\" }, [\n                    record.editable\n                      ? _c(\"span\", [\n                          _c(\n                            \"a\",\n                            {\n                              on: {\n                                click: function() {\n                                  return _vm.handleSave(index, record)\n                                }\n                              }\n                            },\n                            [_c(\"a-icon\", { attrs: { type: \"check-circle\" } })],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"a\",\n                            {\n                              on: {\n                                click: function() {\n                                  return _vm.handleCancel(index)\n                                }\n                              }\n                            },\n                            [_c(\"a-icon\", { attrs: { type: \"stop\" } })],\n                            1\n                          )\n                        ])\n                      : _c(\"span\", [\n                          _c(\n                            \"a\",\n                            {\n                              on: {\n                                click: function() {\n                                  return _vm.handleEdit(index)\n                                }\n                              }\n                            },\n                            [_c(\"a-icon\", { attrs: { type: \"edit\" } })],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"a\",\n                            {\n                              on: {\n                                click: function() {\n                                  return _vm.handleRemove(index)\n                                }\n                              }\n                            },\n                            [_c(\"a-icon\", { attrs: { type: \"delete\" } })],\n                            1\n                          )\n                        ])\n                  ])\n                ]\n              }\n            }\n          ],\n          null,\n          true\n        )\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/happypack/loader.js?id=happybabel!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortDefine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/happypack/loader.js?id=happybabel!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortDefine.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <a-table\n      :row-key=\"(r, i) => i\"\n      :columns=\"columns\"\n      :data-source=\"data\"\n      :pagination=\"{ pageSize: Number.MAX_SAFE_INTEGER }\"\n      :scroll=\"{ y: 240 }\"\n      size=\"small\"\n      bordered\n    >\n      <span\n        slot=\"serial\"\n        slot-scope=\"text, record, index\"\n      >\n        {{ index + 1 }}\n      </span>\n      <template\n        v-for=\"col in ['port', 'type', 'name', 'vars']\"\n        :slot=\"col\"\n        slot-scope=\"text, record, index\"\n      >\n        <div :key=\"col\">\n          <a-input\n            v-if=\"record.editable\"\n            style=\"margin: -5px 0\"\n            :value=\"text\"\n            @change=\"e => handleChange(index, col, e.target.value)\"\n          />\n          <template v-else>\n            {{ text }}\n          </template>\n        </div>\n      </template>\n      <template\n        slot=\"operation\"\n        slot-scope=\"text, record, index\"\n      >\n        <div class=\"editable-row-operations\">\n          <span v-if=\"record.editable\">\n            <a @click=\"() => handleSave(index, record)\"><a-icon type=\"check-circle\" /></a>\n            <a @click=\"() => handleCancel(index)\"><a-icon type=\"stop\" /></a>\n          </span>\n          <span v-else>\n            <a @click=\"() => handleEdit(index)\"><a-icon type=\"edit\" /></a>\n            <a @click=\"() => handleRemove(index)\"><a-icon type=\"delete\" /></a>\n          </span>\n        </div>\n      </template>\n    </a-table>\n  </div>\n</template>\n\n<script>\nimport {clone} from 'ramda';\n\nexport default {\n  name: 'PortDefined',\n  props: {\n    // 传入的真实数据，进来之后会做数据备份到`cacheData`中\n    data: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data () {\n    return {\n      // 表格列信息\n      columns: [{\n        title: '#',\n        scopedSlots: { customRender: 'serial' },\n        width: 32,\n      },{\n        title: '端口',\n        dataIndex: 'port',\n        scopedSlots: { customRender: 'port' },\n        width: 80,\n      }, {\n        title: '类型',\n        dataIndex: 'type',\n        scopedSlots: { customRender: 'type' },\n        width: 64,\n      }, {\n        title: '名称',\n        dataIndex: 'name',\n        scopedSlots: { customRender: 'name' },\n        width: 80,\n      }, {\n        title: '变量',\n        dataIndex: 'vars',\n        scopedSlots: { customRender: 'vars' },\n        width: 272\n      }, {\n        title: (\n          <div>操作&nbsp;&nbsp;&nbsp;&nbsp;<a {...{ on: { click: this.handleAdd } }}><a-icon type=\"plus\"/></a></div>\n        ),\n        dataIndex: 'operation',\n        scopedSlots: { customRender: 'operation' },\n        // width: 72\n      }],\n      // 表格数据总数，用于进行行添加操作的记录与还原\n      count: 0,\n    }\n  },\n  created () {\n    // 设置缓存数据，便于还原\n    this.cacheData = this.data.map(item => ({...item}));\n    this.count = this.data.length;\n    console.log('created', this.cacheData, this.data);\n  },\n  methods: {\n    // 添加操作\n    handleAdd () {\n      const { count, data } = this;\n      // 刚创建的数据是没有id的\n      const newData = {\n        port: '',\n        type: '',\n        name: '',\n        vars: '',\n        editable: true,\n      };\n      this.$set(this.data, count, newData);\n      // this.data = [...data, newData];\n      this.count++;\n    },\n    // 启用编辑模式\n    handleEdit (index) {\n      console.log('编辑', index);\n      this.$set(this.data[index], 'editable', true);\n    },\n    // 取消编辑（TODO: 第二次取消时有问题）\n    handleCancel (index) {\n      console.log('取消编辑', index);\n      if (index < this.cacheData.length) {\n        // 编辑取消\n        this.$set(this.data, index, clone(this.cacheData[index]));\n      }else {\n        // 新增取消\n        this.data.pop();\n        this.count--;\n      }\n    },\n    // 编辑时时监听\n    handleChange (index, prop, value) {\n      console.log('正在编辑', index, prop, value);\n      this.$set(this.data[index], prop, value);\n      \n    },\n    // 保存，提交后台\n    handleSave (index, record) {\n      delete this.data[index].editable;\n      this.$emit('update', this.data);\n    },\n    handleRemove (id) {\n\n    },\n    \n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\ntable {\n  table-layout: fixed;/*只有定义表格的算法为fixed,th才有效果*/\n  word-wrap:break-all;\n}\ntable tr td > div{\n  overflow:hidden;/*超出长度的文字隐藏*/\n  text-overflow:ellipsis;/*文字隐藏以后添加省略号*/\n  white-space:nowrap;/*强制不换行*/\n  word-break:keep-all;/*文字不换行*/\n}\n.ant-table-tbody td:nth-child(5) div{\nwidth: 180px!important\n};\n.editable-row-operations a {\n  margin-right: 8px;\n}\n</style>\n","import { render, staticRenderFns } from \"./PortDefine.vue?vue&type=template&id=5a2b2a1b&scoped=true&\"\nimport script from \"./PortDefine.vue?vue&type=script&lang=js&\"\nexport * from \"./PortDefine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PortDefine.vue?vue&type=style&index=0&id=5a2b2a1b&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a2b2a1b\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/loong/gitlab/vsee-cloud/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5a2b2a1b', component.options)\n    } else {\n      api.reload('5a2b2a1b', component.options)\n    }\n    module.hot.accept(\"./PortDefine.vue?vue&type=template&id=5a2b2a1b&scoped=true&\", function () {\n      api.rerender('5a2b2a1b', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/modules/demo/view/PortDefine.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--10-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortDefine.vue?vue&type=style&index=0&id=5a2b2a1b&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--10-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PortDefine.vue?vue&type=style&index=0&id=5a2b2a1b&lang=less&scoped=true&\""],"sourceRoot":""}