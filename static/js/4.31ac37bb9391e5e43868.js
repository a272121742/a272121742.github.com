(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"7t9k":function(e,a,r){"use strict";r.r(a);function t(){var t=this,e=t.$createElement,o=t._self._c||e;return o("keep-alive",[o("a-modal",{attrs:{closable:!1,visible:t.visible,width:720},on:{ok:t.handleOk,cancel:function(){return t.visible=!1}}},[o("a-card",{ref:"card",attrs:{"tab-list":t.tabList,"active-tab-key":t.selectedTab},on:{tabChange:t.tabChange}},[o("span",{attrs:{slot:"baseProps"},slot:"baseProps"},[o("a-icon",{attrs:{type:"usb"}}),t._v("基础配置\n      ")],1),t._v(" "),o("span",{attrs:{slot:"inoutVars"},slot:"inoutVars"},[o("a-icon",{attrs:{type:"profile"}}),t._v("变量配置\n      ")],1)]),t._v(" "),o("a-form",{directives:[{name:"show",rawName:"v-show",value:"baseProps"===t.selectedTab,expression:"selectedTab === 'baseProps'"}],attrs:{layout:"horizontal",form:t.form}},[o("a-form-item",{attrs:{label:"节点模版","label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[o("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["nodetypeID"],expression:"[\n            'nodetypeID',\n          ]"}],attrs:{disabled:"",placeholder:"请输入节点模版"}})],1),t._v(" "),o("a-form-item",{attrs:{label:"节点编号","label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[o("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["nodeID",{rules:[{required:!0,message:"节点编号不能为空"}]}],expression:"[\n            'nodeID',\n            {\n              rules: [\n                { required: true, message: '节点编号不能为空'}\n              ]\n            }\n          ]"}],attrs:{placeholder:"请输入节点编号"}})],1),t._v(" "),o("a-form-item",{attrs:{label:"节点名称","label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[o("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"节点名称不能为空"}]}],expression:"[\n            'name',\n            {\n              rules: [\n                { required: true, message: '节点名称不能为空'}\n              ]\n            }\n          ]"}],attrs:{placeholder:"请输入节点名称"}})],1),t._v(" "),o("a-form-item",{attrs:{label:"优先级","label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[o("a-slider",{directives:[{name:"decorator",rawName:"v-decorator",value:["priority"],expression:"[\n            'priority',\n          ]"}],attrs:{placeholder:"请输选择优先级，最小值0，最大值100"}})],1),t._v(" "),o("a-form-item",{attrs:{label:"是否启用","label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[o("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["enabled",{valuePropName:"checked"}],expression:"[\n            'enabled',\n            { valuePropName: 'checked' }\n          ]"}],attrs:{placeholder:"请输是否启用"}})],1)],1),t._v(" "),o("a-table",{directives:[{name:"show",rawName:"v-show",value:"inoutVars"===t.selectedTab,expression:"selectedTab === 'inoutVars'"}],attrs:{"row-key":function(e,a){return a},columns:t.columns,"data-source":t.data,pagination:!1,scroll:{y:250},size:"small",bordered:""},scopedSlots:t._u([{key:"serial",fn:function(e,a,r){return o("span",{},[t._v("\n        "+t._s(r+1)+"\n      ")])}},{key:"defvalue",fn:function(e,a){return o("a-input-number",{attrs:{value:e,"default-value":e},on:{change:function(e){return a.defvalue=e}}})}},{key:"saved",fn:function(e,a){return o("a-checkbox",{attrs:{checked:1===e},on:{change:function(e){return a.saved=e.target.checked+0}}})}}])})],1)],1)}t._withStripped=!0;var o=r("MVZn"),s=r.n(o),n=r("ho9+"),l=r("Nzra"),i=r("8e1d"),c={name:"NodeEdit",data:function(){return{visible:!1,tabList:[{key:"baseProps",name:"基础配置",scopedSlots:{tab:"baseProps"}},{key:"inoutVars",name:"变量配置",scopedSlots:{tab:"inoutVars"}}],selectedTab:"baseProps",form:null,labelCol:{span:4},wrapperCol:{span:18},record:{},columns:[{title:"#",scopedSlots:{customRender:"serial"},width:80},{title:"变量名称",dataIndex:"name",key:"name",width:120},{title:"初始值",dataIndex:"defvalue",key:"defvalue",scopedSlots:{customRender:"defvalue"},width:180},{title:"描述",dataIndex:"desc",key:"desc",width:180},{title:"是否保存",dataIndex:"saved",key:"saved",scopedSlots:{customRender:"saved"},width:120}],customRow:function(e,a){return{on:{click:function(){console.log("双击"),e.editable=!0}}}},data:[]}},watch:{record:function(){this.form.updateFields({nodetypeID:this.$form.createFormField({value:this.record.nodetypeID}),nodeID:this.$form.createFormField({value:this.record.nodeID}),name:this.$form.createFormField({value:this.record.name}),priority:this.$form.createFormField({value:this.record.priority}),enabled:this.$form.createFormField({value:this.record.enabled})}),this.$set(this,"data",this.convertInoutVars(this.record.inoutVars)),this.selectedTab="baseProps"}},created:function(){var e=this;this.form=this.$form.createForm(this,{mapPropsToFields:function(){return{nodetypeID:e.$form.createFormField({value:e.record.nodetypeID}),nodeID:e.$form.createFormField({value:e.record.nodeID}),name:e.$form.createFormField({value:e.record.name}),priority:e.$form.createFormField({value:e.record.priority}),enabled:e.$form.createFormField({value:e.record.enabled})}}}),this.$set(this,"data",this.convertInoutVars(this.record.inoutVars))},methods:{load:function(e){this.visible=!0,this.$set(this,"record",s()({},e))},convertInoutVars:Object(n.a)(i.h,Object(i.f)("name")),reconvertInoutVars:Object(n.a)(Object(i.d)("name"),Object(l.a)(JSON.stringify,[null,2])),handleOk:function(){var t=this;this.form.validateFieldsAndScroll(function(e){if(e)t.selectedTab="baseProps";else{var a=t.reconvertInoutVars(t.data),r=t.form.getFieldsValue();t.visible=!1,t.$emit("change",s()({},t.record,r,{inoutVars:a})),t.clear()}})},tabChange:function(e){this.selectedTab=e},clear:function(){var e=this;this.$nextTick(function(){e.$set(e,"record",{})})}}},d=(r("Lc+T"),r("KHd+")),u=Object(d.a)(c,t,[],!1,null,"c68181d4",null);u.options.__file="src/modules/SimulationOperation/view/NodeEdit.vue";a.default=u.exports},D28A:function(e,a,r){},"Lc+T":function(e,a,r){"use strict";var t=r("D28A");r.n(t).a}}]);
//# sourceMappingURL=4.31ac37bb9391e5e43868.js.map