{"version":3,"sources":["webpack:///./src/modules/SimulationOperation/view/NodeEdit.vue?bd4b","webpack:///./src/modules/SimulationOperation/view/NodeEdit.vue?cfa4","webpack:///src/modules/SimulationOperation/view/NodeEdit.vue","webpack:///./src/modules/SimulationOperation/view/NodeEdit.vue","webpack:///./src/modules/SimulationOperation/view/NodeEdit.vue?cc3f"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","closable","visible","width","on","ok","handleOk","cancel","ref","tab-list","tabList","active-tab-key","selectedTab","tabChange","slot","type","_v","directives","name","rawName","value","expression","layout","form","label","label-col","labelCol","wrapper-col","wrapperCol","disabled","placeholder","rules","required","message","valuePropName","row-key","r","i","columns","data-source","data","pagination","scroll","y","size","bordered","scopedSlots","_u","key","fn","text","row","index","_s","default-value","change","defvalue","checked","e","saved","target","_withStripped","view_NodeEditvue_type_script_lang_js_","tab","span","record","title","customRender","dataIndex","customRow","click","console","log","editable","watch","updateFields","nodetypeID","$form","createFormField","nodeID","priority","enabled","$set","convertInoutVars","inoutVars","created","_this","createForm","mapPropsToFields","methods","load","objectSpread_default","Object","pipe","util","reconvertInoutVars","partialRight","JSON","stringify","_this2","validateFieldsAndScroll","err","node","getFieldsValue","$emit","clear","_this3","$nextTick","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_2_node_modules_less_loader_dist_cjs_js_ref_10_3_node_modules_vue_loader_lib_index_js_vue_loader_options_NodeEdit_vue_vue_type_style_index_0_id_c68181d4_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n"],"mappings":"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","file":"static/js/4.31ac37bb9391e5e43868.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"keep-alive\",\n    [\n      _c(\n        \"a-modal\",\n        {\n          attrs: { closable: false, visible: _vm.visible, width: 720 },\n          on: {\n            ok: _vm.handleOk,\n            cancel: function() {\n              return (_vm.visible = false)\n            }\n          }\n        },\n        [\n          _c(\n            \"a-card\",\n            {\n              ref: \"card\",\n              attrs: {\n                \"tab-list\": _vm.tabList,\n                \"active-tab-key\": _vm.selectedTab\n              },\n              on: { tabChange: _vm.tabChange }\n            },\n            [\n              _c(\n                \"span\",\n                { attrs: { slot: \"baseProps\" }, slot: \"baseProps\" },\n                [\n                  _c(\"a-icon\", { attrs: { type: \"usb\" } }),\n                  _vm._v(\"基础配置\\n      \")\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"span\",\n                { attrs: { slot: \"inoutVars\" }, slot: \"inoutVars\" },\n                [\n                  _c(\"a-icon\", { attrs: { type: \"profile\" } }),\n                  _vm._v(\"变量配置\\n      \")\n                ],\n                1\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"a-form\",\n            {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: _vm.selectedTab === \"baseProps\",\n                  expression: \"selectedTab === 'baseProps'\"\n                }\n              ],\n              attrs: { layout: \"horizontal\", form: _vm.form }\n            },\n            [\n              _c(\n                \"a-form-item\",\n                {\n                  attrs: {\n                    label: \"节点模版\",\n                    \"label-col\": _vm.labelCol,\n                    \"wrapper-col\": _vm.wrapperCol\n                  }\n                },\n                [\n                  _c(\"a-input\", {\n                    directives: [\n                      {\n                        name: \"decorator\",\n                        rawName: \"v-decorator\",\n                        value: [\"nodetypeID\"],\n                        expression: \"[\\n            'nodetypeID',\\n          ]\"\n                      }\n                    ],\n                    attrs: { disabled: \"\", placeholder: \"请输入节点模版\" }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"a-form-item\",\n                {\n                  attrs: {\n                    label: \"节点编号\",\n                    \"label-col\": _vm.labelCol,\n                    \"wrapper-col\": _vm.wrapperCol\n                  }\n                },\n                [\n                  _c(\"a-input\", {\n                    directives: [\n                      {\n                        name: \"decorator\",\n                        rawName: \"v-decorator\",\n                        value: [\n                          \"nodeID\",\n                          {\n                            rules: [\n                              { required: true, message: \"节点编号不能为空\" }\n                            ]\n                          }\n                        ],\n                        expression:\n                          \"[\\n            'nodeID',\\n            {\\n              rules: [\\n                { required: true, message: '节点编号不能为空'}\\n              ]\\n            }\\n          ]\"\n                      }\n                    ],\n                    attrs: { placeholder: \"请输入节点编号\" }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"a-form-item\",\n                {\n                  attrs: {\n                    label: \"节点名称\",\n                    \"label-col\": _vm.labelCol,\n                    \"wrapper-col\": _vm.wrapperCol\n                  }\n                },\n                [\n                  _c(\"a-input\", {\n                    directives: [\n                      {\n                        name: \"decorator\",\n                        rawName: \"v-decorator\",\n                        value: [\n                          \"name\",\n                          {\n                            rules: [\n                              { required: true, message: \"节点名称不能为空\" }\n                            ]\n                          }\n                        ],\n                        expression:\n                          \"[\\n            'name',\\n            {\\n              rules: [\\n                { required: true, message: '节点名称不能为空'}\\n              ]\\n            }\\n          ]\"\n                      }\n                    ],\n                    attrs: { placeholder: \"请输入节点名称\" }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"a-form-item\",\n                {\n                  attrs: {\n                    label: \"优先级\",\n                    \"label-col\": _vm.labelCol,\n                    \"wrapper-col\": _vm.wrapperCol\n                  }\n                },\n                [\n                  _c(\"a-slider\", {\n                    directives: [\n                      {\n                        name: \"decorator\",\n                        rawName: \"v-decorator\",\n                        value: [\"priority\"],\n                        expression: \"[\\n            'priority',\\n          ]\"\n                      }\n                    ],\n                    attrs: { placeholder: \"请输选择优先级，最小值0，最大值100\" }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"a-form-item\",\n                {\n                  attrs: {\n                    label: \"是否启用\",\n                    \"label-col\": _vm.labelCol,\n                    \"wrapper-col\": _vm.wrapperCol\n                  }\n                },\n                [\n                  _c(\"a-checkbox\", {\n                    directives: [\n                      {\n                        name: \"decorator\",\n                        rawName: \"v-decorator\",\n                        value: [\"enabled\", { valuePropName: \"checked\" }],\n                        expression:\n                          \"[\\n            'enabled',\\n            { valuePropName: 'checked' }\\n          ]\"\n                      }\n                    ],\n                    attrs: { placeholder: \"请输是否启用\" }\n                  })\n                ],\n                1\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"a-table\", {\n            directives: [\n              {\n                name: \"show\",\n                rawName: \"v-show\",\n                value: _vm.selectedTab === \"inoutVars\",\n                expression: \"selectedTab === 'inoutVars'\"\n              }\n            ],\n            attrs: {\n              \"row-key\": function(r, i) {\n                return i\n              },\n              columns: _vm.columns,\n              \"data-source\": _vm.data,\n              pagination: false,\n              scroll: { y: 250 },\n              size: \"small\",\n              bordered: \"\"\n            },\n            scopedSlots: _vm._u([\n              {\n                key: \"serial\",\n                fn: function(text, row, index) {\n                  return _c(\"span\", {}, [\n                    _vm._v(\"\\n        \" + _vm._s(index + 1) + \"\\n      \")\n                  ])\n                }\n              },\n              {\n                key: \"defvalue\",\n                fn: function(text, row) {\n                  return _c(\"a-input-number\", {\n                    attrs: { value: text, \"default-value\": text },\n                    on: {\n                      change: function(value) {\n                        return (row.defvalue = value)\n                      }\n                    }\n                  })\n                }\n              },\n              {\n                key: \"saved\",\n                fn: function(text, row) {\n                  return _c(\"a-checkbox\", {\n                    attrs: { checked: text === 1 },\n                    on: {\n                      change: function(e) {\n                        return (row.saved = e.target.checked + 0)\n                      }\n                    }\n                  })\n                }\n              }\n            ])\n          })\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/happypack/loader.js?id=happybabel!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/happypack/loader.js?id=happybabel!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeEdit.vue?vue&type=script&lang=js&\"","\n\n<template>\n  <keep-alive>\n    <a-modal\n      :closable=\"false\"\n      :visible=\"visible\"\n      :width=\"720\"\n      @ok=\"handleOk\"\n      @cancel=\"() => visible = false\"\n    >\n      <a-card\n        ref=\"card\"\n        :tab-list=\"tabList\"\n        :active-tab-key=\"selectedTab\"\n        @tabChange=\"tabChange\"\n      >\n        <!-- 标题计数器 -->\n        <span\n          slot=\"baseProps\"\n        >\n          <a-icon type=\"usb\" />基础配置\n        </span>\n        <span\n          slot=\"inoutVars\"\n        >\n          <a-icon type=\"profile\" />变量配置\n        </span>\n      </a-card>\n      <!-- 基础表单 -->\n      <a-form\n        v-show=\"selectedTab === 'baseProps'\"\n        layout=\"horizontal\"\n        :form=\"form\"\n      >\n        <a-form-item\n          label=\"节点模版\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input\n            disabled\n            v-decorator=\"[\n              'nodetypeID',\n            ]\"\n            placeholder=\"请输入节点模版\"\n          >\n          </a-input>\n        </a-form-item>\n        <a-form-item\n          label=\"节点编号\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input\n            v-decorator=\"[\n              'nodeID',\n              {\n                rules: [\n                  { required: true, message: '节点编号不能为空'}\n                ]\n              }\n            ]\"\n            placeholder=\"请输入节点编号\"\n          >\n          </a-input>\n        </a-form-item>\n        <a-form-item\n          label=\"节点名称\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input\n            v-decorator=\"[\n              'name',\n              {\n                rules: [\n                  { required: true, message: '节点名称不能为空'}\n                ]\n              }\n            ]\"\n            placeholder=\"请输入节点名称\"\n          >\n          </a-input>\n        </a-form-item>\n        <a-form-item\n          label=\"优先级\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-slider\n            v-decorator=\"[\n              'priority',\n            ]\"\n            placeholder=\"请输选择优先级，最小值0，最大值100\"\n          >\n          </a-slider>\n        </a-form-item>\n        <a-form-item\n          label=\"是否启用\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-checkbox\n            v-decorator=\"[\n              'enabled',\n              { valuePropName: 'checked' }\n            ]\"\n            placeholder=\"请输是否启用\"\n          >\n          </a-checkbox>\n        </a-form-item>\n      </a-form>\n      <a-table\n        v-show=\"selectedTab === 'inoutVars'\"\n        :row-key=\"(r, i) => i\"\n        :columns=\"columns\"\n        :data-source=\"data\"\n        :pagination=\"false\"\n        :scroll=\"{y: 250}\"\n        size=\"small\"\n        bordered\n      >\n        <span\n          slot=\"serial\"\n          slot-scope=\"text, row, index\"\n        >\n          {{ index + 1 }}\n        </span>\n        <!-- 可编辑值 -->\n        <a-input-number\n          slot=\"defvalue\"\n          slot-scope=\"text, row\"\n          :value=\"text\"\n          :default-value=\"text\"\n          @change=\"(value) => row.defvalue = value\"\n        />\n        <a-checkbox\n          slot=\"saved\"\n          slot-scope=\"text, row\"\n          :checked=\"text === 1\"\n          @change=\"(e) => row.saved = e.target.checked + 0\"\n        >\n        </a-checkbox>\n      </a-table>\n    </a-modal>\n  </keep-alive>\n</template>\n\n<script>\nimport { pipe, partialRight } from 'ramda';\nimport { string2json, map2list, list2map } from '@lib/util';\n\nexport default {\n  // 节点编辑\n  name: 'NodeEdit',\n  data () {\n    return {\n      visible: false,\n      tabList: [{\n        key: 'baseProps',\n        name: '基础配置',\n        scopedSlots: {tab: 'baseProps'}\n      }, {\n        key: 'inoutVars',\n        name: '变量配置',\n        scopedSlots: {tab: 'inoutVars'}\n      }],\n      selectedTab: 'baseProps',\n      form: null,\n      labelCol: {span: 4},\n      wrapperCol: {span: 18},\n      record: {},\n      columns: [{\n        title: '#',\n        scopedSlots: { customRender: 'serial' },\n        width: 80,\n      }, {\n        title: '变量名称',\n        dataIndex: 'name',\n        key: 'name',\n        width: 120,\n      }, {\n        title: '初始值',\n        dataIndex: 'defvalue',\n        key: 'defvalue',\n        scopedSlots: { customRender: 'defvalue' },\n        width: 180,\n      }, {\n        title: '描述',\n        dataIndex: 'desc',\n        key: 'desc',\n        width: 180,\n      }, {\n        title: '是否保存',\n        dataIndex: 'saved',\n        key: 'saved',\n        scopedSlots: { customRender: 'saved' },\n        width: 120,\n      }],\n      customRow: (record, index) => ({\n        on: {\n          click: () => {\n            console.log('双击');\n            record.editable = true;\n          }\n        }\n      }),\n      data: [],\n    }\n  },\n  watch: {\n    record () {\n      this.form.updateFields({\n        nodetypeID: this.$form.createFormField({value: this.record.nodetypeID}),\n        nodeID: this.$form.createFormField({value: this.record.nodeID}),\n        name: this.$form.createFormField({value: this.record.name}),\n        priority: this.$form.createFormField({value: this.record.priority}),\n        enabled: this.$form.createFormField({value: this.record.enabled}),\n      });\n      this.$set(this, 'data', this.convertInoutVars(this.record.inoutVars));\n      this.selectedTab = 'baseProps';\n    }\n  },\n  created () {\n    this.form = this.$form.createForm(this, {\n      mapPropsToFields: () => ({\n        nodetypeID: this.$form.createFormField({value: this.record.nodetypeID}),\n        nodeID: this.$form.createFormField({value: this.record.nodeID}),\n        name: this.$form.createFormField({value: this.record.name}),\n        priority: this.$form.createFormField({value: this.record.priority}),\n        enabled: this.$form.createFormField({value: this.record.enabled}),\n      })\n    });\n    this.$set(this, 'data', this.convertInoutVars(this.record.inoutVars));\n  },\n  methods: {\n    load (data) {\n      this.visible = true;\n      this.$set(this, 'record', {...data});\n    },\n    // // 加载数据\n    // show (dataString) {\n    //   this.$set(this, 'data', this.convertInoutVars(dataString));\n    //   this.visible = true;\n    // },\n    // 转码 String -> Array<Object>\n    convertInoutVars: pipe(string2json, map2list('name')),\n    // // 转码 Array<Object> -> String\n    reconvertInoutVars: pipe(list2map('name'), partialRight(JSON.stringify, [null, 2])),\n    handleOk () {\n      this.form.validateFieldsAndScroll(err => {\n        if (!err) {\n          const inoutVars = this.reconvertInoutVars(this.data);\n          const node = this.form.getFieldsValue();\n          this.visible = false;\n          this.$emit('change', {...this.record, ...node, inoutVars});\n          this.clear();\n        } else {\n          this.selectedTab = 'baseProps';\n        }\n      });\n    },\n    tabChange (key) {\n      this.selectedTab = key;\n    },\n    clear () {\n      this.$nextTick(() => {\n        this.$set(this, 'record', {});\n      })\n    },\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  \n\n  .ant-card {\n    border: none;\n    margin: -16px -24px 0 -24px;\n    padding-bottom: 24px;\n    /deep/ .ant-card-head {\n      min-height: 32px;\n      padding: 0px 8px;\n      .ant-card-head-title {\n        padding: 12px 8px;\n      }\n    }\n    // /deep/ .ant-card-body {\n    //   padding: 0px;\n    //   border-top: 1px solid #e8e8e8;\n    // }\n    // /deep/ .ant-table {\n    //   border: none;\n    //   .ant-table-content {\n    //     border-right: 0px;\n    //   }\n    // }\n    // /deep/ .ant-card-extra {\n    //   padding: 0px;\n    // }\n    /deep/ .ant-tabs-tab {\n      padding-top: 12px;\n      padding-bottom: 12px;\n      font-weight: 500;\n    }\n  }\n</style>\n","import { render, staticRenderFns } from \"./NodeEdit.vue?vue&type=template&id=c68181d4&scoped=true&\"\nimport script from \"./NodeEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./NodeEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NodeEdit.vue?vue&type=style&index=0&id=c68181d4&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c68181d4\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/loong/gitlab/vsee-cloud/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('c68181d4', component.options)\n    } else {\n      api.reload('c68181d4', component.options)\n    }\n    module.hot.accept(\"./NodeEdit.vue?vue&type=template&id=c68181d4&scoped=true&\", function () {\n      api.rerender('c68181d4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/modules/SimulationOperation/view/NodeEdit.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--10-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeEdit.vue?vue&type=style&index=0&id=c68181d4&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--10-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeEdit.vue?vue&type=style&index=0&id=c68181d4&lang=less&scoped=true&\""],"sourceRoot":""}