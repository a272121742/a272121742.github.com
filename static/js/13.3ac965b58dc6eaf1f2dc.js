(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{TJk8:function(e,r,t){"use strict";t.r(r);function a(){var e=this,r=e.$createElement,t=e._self._c||r;return t("a-modal",{attrs:{width:600,title:"编辑模型属性",visible:e.visible},on:{ok:e.handleOk,cancel:e.handleCancel}},[t("a-form",{attrs:{form:e.form}},[t("a-tabs",{ref:"formTab",attrs:{"default-active-key":"1"}},[t("a-tab-pane",{key:"1",attrs:{tab:"基础属性"}},[t("a-form-item",{attrs:{label:"模型名称"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name"],expression:"[\n              'name',\n            ]"}],attrs:{disabled:"",placeholder:"请输入模型名称"}})],1),e._v(" "),t("a-form-item",{attrs:{label:"模型编号"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["nodeID",{validateFirst:!0,rules:[{required:!0,message:"模型编号不能为空"},{pattern:/^[A-Za-z][A-Za-z0-9_-]*$/,message:"模型编号请遵循变量命名规则"}]}],expression:"[\n              'nodeID', \n              {\n                validateFirst: true,\n                rules: [\n                  { required: true, message: '模型编号不能为空'}, \n                  { pattern: /^[A-Za-z][A-Za-z0-9_-]*$/, message: '模型编号请遵循变量命名规则' },\n                ]\n              }\n            ]"}],attrs:{placeholder:"请输入模型编号"}})],1),e._v(" "),t("a-form-item",{attrs:{label:"模型描述"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["desc"],expression:"[\n              'desc', \n            ]"}],attrs:{placeholder:"请输入模型描述"}})],1)],1),e._v(" "),t("a-tab-pane",{key:"2",attrs:{tab:"模型代码","force-render":""}},[t("codemirror",{ref:"codeEdit",attrs:{value:e.codestr,options:e.codeEditOptions}})],1)],1)],1)],1)}a._withStripped=!0;var o=t("MVZn"),i=t.n(o),n={name:"ModelEdit",components:{Codemirror:function(){return Promise.all([t.e(0),t.e(28)]).then(t.t.bind(null,"25Eh",7)),Promise.all([t.e(0),t.e(27)]).then(t.t.bind(null,"McUL",7)),Promise.all([t.e(0),t.e(20)]).then(t.bind(null,"ezTS"))}},data:function(){return{record:{},form:null,visible:!1,codestr:"",codeEditOptions:{mode:"python",lineNumbers:!0,extraKeys:{"Ctrl-Space":"autocomplete"},styleActiveLine:!0}}},computed:{codeEdit:function(){return this.$refs.codeEdit.editor}},watch:{record:function(){this.form.updateFields({nodeID:this.$form.createFormField({value:this.record.nodeID}),name:this.$form.createFormField({value:this.record.name}),desc:this.$form.createFormField({value:this.record.desc}),codestr:this.$form.createFormField({value:this.record.codestr})})}},created:function(){var e=this;this.form=this.$form.createForm(this,{mapPropsToFields:function(){return{nodeID:e.$form.createFormField({value:e.record.nodeID}),name:e.$form.createFormField({value:e.record.name}),desc:e.$form.createFormField({value:e.record.desc}),codestr:e.$form.createFormField({value:e.record.codestr})}}})},methods:{load:function(e){this.visible=!0,this.$set(this,"record",i()({},e)),this.codestr=this.record.codestr},handleOk:function(){var a=this;this.form.validateFieldsAndScroll(function(e){if(e)a.$refs.formTab.$children[0].setActiveKey("1");else{var r=a.codeEdit.getValue(),t=a.form.getFieldsValue();a.visible=!1,a.$emit("update",i()({},a.record,t,{codestr:r})),a.clear()}})},handleCancel:function(){this.visible=!1},clear:function(){var e=this;this.$nextTick(function(){e.$set(e,"record",{})})}}},s=t("KHd+"),d=Object(s.a)(n,a,[],!1,null,null,null);d.options.__file="src/modules/ModelManagement/view/ModelPropsEdit.vue";r.default=d.exports}}]);
//# sourceMappingURL=13.3ac965b58dc6eaf1f2dc.js.map