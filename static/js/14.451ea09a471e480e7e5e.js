(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"47MS":function(t,e,a){"use strict";a.r(e);function n(){var n=this,t=n.$createElement,o=n._self._c||t;return o("div",[o("port-define-edit",{ref:"editForm",attrs:{"exist-port":n.existPort,"optional-vars":n.optionalVars},on:{update:n.portDefineUpdate}}),n._v(" "),o("a-table",{directives:[{name:"sortable",rawName:"v-sortable",value:{el:".ant-table-wrapper .ant-table-body table .ant-table-tbody",onEnd:n.handleDragEnd,handle:".anticon-drag"},expression:"{el: '.ant-table-wrapper .ant-table-body table .ant-table-tbody', onEnd: handleDragEnd, handle: '.anticon-drag'}"}],attrs:{"row-key":function(t,e){return e},columns:n.columns,"data-source":n.data,pagination:!1,scroll:{y:240},size:"small",bordered:""},scopedSlots:n._u([{key:"vars",fn:function(t){return n._l(n.getVarsArray(t),function(t){return o("a-tag",{key:t,attrs:{color:"blue"}},[n._v("\n        "+n._s(t)+"\n      ")])})}},{key:"operation",fn:function(t,e,a){return n.editable?[o("a",{on:{click:function(){return n.handleEdit(a,e)}}},[o("a-icon",{attrs:{type:"edit"}})],1),n._v(" "),o("a",{on:{click:function(){return n.handleRemove(a)}}},[o("a-icon",{attrs:{type:"delete"}})],1),n._v(" "),o("a",{staticStyle:{cursor:"move"}},[o("a-icon",{attrs:{type:"drag"}})],1)]:void 0}}],null,!0)},[o("template",{slot:"operationTitle"},[n.editable?o("a",{on:{click:n.handleAdd}},[o("a-icon",{attrs:{type:"plus"}})],1):o("div",[n._v("\n        操作\n      ")])])],2)],1)}n._withStripped=!0;var o=a("RIqP"),d=a.n(o),r=a("sNsB"),i=a("CKn+"),s=a("KtqB"),l=a("8e1d"),c={name:"PortDefined",components:{PortDefineEdit:function(){return a.e(15).then(a.bind(null,"rLCv"))}},props:{editable:{type:Boolean,default:!0},dataSource:{type:Array,default:function(){return[]}},optionalVars:{type:Array,default:function(){return[]}}},data:function(){return{columns:u,data:[],selectedRow:-1}},computed:{existPort:function(){return Object(r.a)(Object(i.a)("port"),this.data)}},watch:{dataSource:{immediate:!0,handler:function(){this.refresh()}}},created:function(){},methods:{refresh:function(){this.$set(this,"data",Object(s.a)(Object(i.a)("order"),d()(this.dataSource)))},updated:function(){this.$emit("update",d()(this.data))},portDefineUpdate:function(t){~this.selectedRow?this.$set(this.data,this.selectedRow,t):this.data.push(t),this.updated()},handleAdd:function(){this.selectedRow=-1,this.$refs.editForm.load({order:this.data.length+1})},handleEdit:function(t,e){this.selectedRow=t,this.$refs.editForm.load(e)},handleRemove:function(t){this.$delete(this.data,t),this.updated()},handleDragEnd:function(t){var a=this,n=t.oldIndex,o=t.newIndex,d=n<o,r=d?n:o,i=d?o:n;this.data.forEach(function(t){var e=t.order;r+1<=e&&e<=i+1&&(e===n+1?a.$set(t,"order",o+1):a.$set(t,"order",e+(d?-1:1)))})},getVarsArray:function(t){return Object(l.g)(",",t)}}},u=[{title:"#",dataIndex:"order",scopedSlots:{customRender:"order"},width:24},{title:"端口",dataIndex:"port",scopedSlots:{customRender:"port"},width:80},{title:"类型",dataIndex:"type",scopedSlots:{customRender:"type"},width:80},{title:"名称",dataIndex:"name",scopedSlots:{customRender:"name"},width:80},{title:"变量",dataIndex:"vars",scopedSlots:{customRender:"vars"}},{dataIndex:"operation",slots:{title:"operationTitle"},scopedSlots:{customRender:"operation"},width:68}],p=c,h=a("KHd+"),f=Object(h.a)(p,n,[],!1,null,"90adf89c",null);f.options.__file="src/modules/ModelManagement/view/PortDefine.vue";e.default=f.exports}}]);
//# sourceMappingURL=14.451ea09a471e480e7e5e.js.map